
    # OPTIMIZATION REWORK: PHASE 2
    #
    #   Potential areas of improvement:
    #       pops_update:
    #           Remove first pops_update
    #           Apply changes only to pops that have changed (granted this is likely to be most of them. Only would be minor improvement. Do this last)
    #           Store pop needs (for every 100k) in a global array.
    #
    #       buildings_update
    #           Remove first buildings_update
    #           Apply changes only to buildings that have changed
    #               Track three sets of changes: Production related, Price related, and Wage
    #               Production related updates everything. Price related only updates finances, Wage only to strictly payroll & profit
    #               Only apply changes after a >1% change
    #
    #       Modifiers
    #           Set every modifier to 1, so they don't have to be added to in code
    #           
    #
    #   What could change between ticks:
    #       Modifiers (Tech research, new ideas, etc)
    #       
    #
    #
    #
    #

    # 3.4 secs
    r_advance_time = {
		random_country = {
			if = {
				limit = {
					check_variable = { global.month > 11 }
				}
				set_variable = { global.month = 0 }
				add_to_variable = { global.years_passed = 1 }
			}
			clear_array = global.econ_gp_list_array
			#add_to_array = { global.econ_gp_list_array = ENG }
			add_to_array = { global.econ_gp_list_array = USA }
			# add_to_array = { global.econ_gp_list_array = BRA }
			# add_to_array = { global.econ_gp_list_array = MEX }
			# add_to_array = { global.econ_gp_list_array = COL }
			# add_to_array = { global.econ_gp_list_array = VEN }
			# add_to_array = { global.econ_gp_list_array = CAN }
			# add_to_array = { global.econ_gp_list_array = CHL }
			# add_to_array = { global.econ_gp_list_array = BOL }
			# add_to_array = { global.econ_gp_list_array = PRU }
			# add_to_array = { global.econ_gp_list_array = ARG }
			# add_to_array = { global.econ_gp_list_array = BUE }
			# add_to_array = { global.econ_gp_list_array = HBC }
			# add_to_array = { global.econ_gp_list_array = URG }
			# add_to_array = { global.econ_gp_list_array = PAR }
			# # #
			# add_to_array = { global.econ_gp_list_array = ECU }
			# # #
			# add_to_array = { global.econ_gp_list_array = UTA }
			# add_to_array = { global.econ_gp_list_array = NVS }
			# add_to_array = { global.econ_gp_list_array = VAN }
			# add_to_array = { global.econ_gp_list_array = BRK }
			# add_to_array = { global.econ_gp_list_array = NFL }
			# add_to_array = { global.econ_gp_list_array = BCO }
			# add_to_array = { global.econ_gp_list_array = QCI }
			# # #
			# add_to_array = { global.econ_gp_list_array = GUA }
			# add_to_array = { global.econ_gp_list_array = HON }
			# add_to_array = { global.econ_gp_list_array = NIC }
			# add_to_array = { global.econ_gp_list_array = COS }
			# add_to_array = { global.econ_gp_list_array = ELS }
			# add_to_array = { global.econ_gp_list_array = DOM }
			# add_to_array = { global.econ_gp_list_array = HAI }
			# #
			# #Primitives
			# add_to_array = { global.econ_gp_list_array = SIX }
			# add_to_array = { global.econ_gp_list_array = CHY }
			# add_to_array = { global.econ_gp_list_array = COM }
			# add_to_array = { global.econ_gp_list_array = SHO }
			# add_to_array = { global.econ_gp_list_array = APA }
			# add_to_array = { global.econ_gp_list_array = CRW }
			# add_to_array = { global.econ_gp_list_array = BFT }
			# add_to_array = { global.econ_gp_list_array = NAV }
			# add_to_array = { global.econ_gp_list_array = NEZ }
			# add_to_array = { global.econ_gp_list_array = SEM }

			clear_array = global.econ_order_array
			clear_array = global.econ_value_array

			for_each_scope_loop = {
				array = global.score_tag_array #global.econ_gp_list_array #global.score_tag_array

				if = {
					limit = {
						NOT = { has_variable = has_afr_empire_mechanic_system }
					}
					for_each_loop = {
						array = global.econ_value_array
						index = ii
						value = vv
						break = bb

						if = {
							limit = {
								check_variable = { vv < industrial_power }
							}
							add_to_array = {
								array = global.econ_value_array
								value = industrial_power
								index = ii
							}
							add_to_array = {
								array = global.econ_order_array
								value = THIS
								index = ii
							}
							set_temp_variable = { bb = 1 }
						}
					}
					if = {
						limit = {
							check_variable = { bb = 0 }
						}
						add_to_array = { global.econ_value_array = industrial_power }
						add_to_array = { global.econ_order_array = THIS }
					}
				}
			}

			#Reset
				set_variable = { global.highest_state_gdp = 0 }
				set_variable = { global.highest_state_gdp_c = 0 }
			#
		}

        # 1.4 secs
		for_each_scope_loop = {
			array = global.econ_order_array

            #Budget
                add_to_variable = { treasury = net_budget }
                set_temp_variable = { debt_amount_temp = 0.5 }
                multiply_temp_variable = { debt_amount_temp = gdp_amount }
                if = {
                    limit = {
                        check_variable = { treasury < 0 }
                    }
					add_to_variable = { treasury = debt_amount_temp }
					debt_level_increase_by_1 = yes
                }
                else_if = {
                    limit = {
                        is_ai = yes
                        check_variable = { treasury > debt_amount_temp }
                        check_variable = { debt_level > 0 }
                    }
					subtract_from_variable = { treasury = debt_amount_temp }
					debt_level_decrease_by_1 = yes
                }
                if = {
                    limit = {
                        is_ai = yes
                        check_variable = { net_budget < 0 }
                    }
					set_temp_variable = { percent_change_temp = 1 }
                    if = {
                        limit = {
                            check_variable = { sales_tax_percentage > 0 }
                            check_variable = { sales_tax_revenue > 0 }
                        }
                        set_temp_variable = { st_per = sales_tax_revenue }
                        divide_temp_variable = { st_per = sales_tax_percentage }

					    set_temp_variable = { percent_change_temp = net_budget }
                        divide_temp_variable = { percent_change_temp = st_per }
                        multiply_temp_variable = { percent_change_temp = -1 }
					    add_to_temp_variable = { percent_change_temp = 0.5 }
                        round_temp_variable = percent_change_temp
                        if = {
                            limit = {
                                check_variable = { percent_change_temp < 1 }
                            }
					        set_temp_variable = { percent_change_temp = 1 }
                        }
                    }
					change_sales_tax = yes
                }

                set_variable = { actual_revenue = revenue }
                set_variable = { actual_income_tax_revenue = income_tax_revenue }
                set_variable = { actual_spending = spending }
                set_variable = { actual_infrastructure_spending = infrastructure_subsidy_expense }
                set_variable = { actual_construction_spending = construction_spending_expense }
                set_variable = { actual_industrial_spending = industrial_subsidy_expense }
                set_variable = { actual_tariff_revenue = tariff_revenue }
                set_variable = { actual_sales_tax_revenue = sales_tax_revenue }
                set_variable = { actual_trade_subsidy_spending = import_subsidy_expense }
                add_to_variable = { actual_trade_subsidy_spending = export_subsidy_expense }
                set_variable = { actual_administration_spending = administration_spending_expense }
                set_variable = { actual_military_spending = military_spending_expense }
                set_variable = { actual_project_spending = project_spending_expense }
                set_variable = { actual_net_budget = net_budget }
            #

            #Projects
                for_each_loop = {
                    array = proj_id
                    value = proj_token

                    #food
                    add_to_variable = { proj_food_fulfilled@var:proj_token = proj_food_demand@var:proj_token }
                    if = {
                        limit = {
                            check_variable = { proj_food_fulfilled@var:proj_token > proj_food_need@var:proj_token }
                        }
                        set_variable = { proj_food_fulfilled@var:proj_token = proj_food_need@var:proj_token }
                    }

                    #consumer_goods
                    add_to_variable = { proj_consumer_goods_fulfilled@var:proj_token = proj_consumer_goods_demand@var:proj_token }
                    if = {
                        limit = {
                            check_variable = { proj_consumer_goods_fulfilled@var:proj_token > proj_consumer_goods_need@var:proj_token }
                        }
                        set_variable = { proj_consumer_goods_fulfilled@var:proj_token = proj_consumer_goods_need@var:proj_token }
                    }

                    #luxury_goods
                    add_to_variable = { proj_luxury_goods_fulfilled@var:proj_token = proj_luxury_goods_demand@var:proj_token }
                    if = {
                        limit = {
                            check_variable = { proj_luxury_goods_fulfilled@var:proj_token > proj_luxury_goods_need@var:proj_token }
                        }
                        set_variable = { proj_luxury_goods_fulfilled@var:proj_token = proj_luxury_goods_need@var:proj_token }
                    }

                    #services
                    add_to_variable = { proj_services_fulfilled@var:proj_token = proj_services_demand@var:proj_token }
                    if = {
                        limit = {
                            check_variable = { proj_services_fulfilled@var:proj_token > proj_services_need@var:proj_token }
                        }
                        set_variable = { proj_services_fulfilled@var:proj_token = proj_services_need@var:proj_token }
                    }

                    #raw_materials
                    add_to_variable = { proj_raw_materials_fulfilled@var:proj_token = proj_raw_materials_demand@var:proj_token }
                    if = {
                        limit = {
                            check_variable = { proj_raw_materials_fulfilled@var:proj_token > proj_raw_materials_need@var:proj_token }
                        }
                        set_variable = { proj_raw_materials_fulfilled@var:proj_token = proj_raw_materials_need@var:proj_token }
                    }

                    #energy_materials
                    add_to_variable = { proj_energy_materials_fulfilled@var:proj_token = proj_energy_materials_demand@var:proj_token }
                    if = {
                        limit = {
                            check_variable = { proj_energy_materials_fulfilled@var:proj_token > proj_energy_materials_need@var:proj_token }
                        }
                        set_variable = { proj_energy_materials_fulfilled@var:proj_token = proj_energy_materials_need@var:proj_token }
                    }

                    #industrial_goods
                    add_to_variable = { proj_industrial_goods_fulfilled@var:proj_token = proj_industrial_goods_demand@var:proj_token }
                    if = {
                        limit = {
                            check_variable = { proj_industrial_goods_fulfilled@var:proj_token > proj_industrial_goods_need@var:proj_token }
                        }
                        set_variable = { proj_industrial_goods_fulfilled@var:proj_token = proj_industrial_goods_need@var:proj_token }
                    }

                    #electricity
                    add_to_variable = { proj_electricity_fulfilled@var:proj_token = proj_electricity_demand@var:proj_token }
                    if = {
                        limit = {
                            check_variable = { proj_electricity_fulfilled@var:proj_token > proj_electricity_need@var:proj_token }
                        }
                        set_variable = { proj_electricity_fulfilled@var:proj_token = proj_electricity_need@var:proj_token }
                    }

					add_to_variable = { proj_time_elapsed@var:proj_token = 1 }
                }
            #

            set_temp_variable = { upper_earnings_limit = pops_earnings_avg }
            multiply_temp_variable = { upper_earnings_limit = 3 }
            set_temp_variable = { lower_earnings_limit = pops_earnings_avg }

            set_temp_variable = { upper_income_multiplier = income_tax_upper_strata_percentage }
            divide_temp_variable = { upper_income_multiplier = 100 }
            set_temp_variable = { middle_income_multiplier = income_tax_middle_strata_percentage }
            divide_temp_variable = { middle_income_multiplier = 100 }
            set_temp_variable = { lower_income_multiplier = income_tax_lower_strata_percentage }
            divide_temp_variable = { lower_income_multiplier = 100 }
            set_temp_variable = { sales_tax_multiplier = sales_tax_percentage }
            divide_temp_variable = { sales_tax_multiplier = 100 }

            # 1.2 secs (calc: 1.4)
            every_controlled_state = {
                r_update_modifiers_state_effects = yes # 0.38 secs

                on_monthly_buildings = yes # nil secs
                
                # 0.128 secs
                building_productivity_sort = yes
                base_wage_calculation = yes
                on_monthly_building_adjust_employment_target = yes
                on_monthly_building_employment = yes

                calc_industrial_capacity = yes # nil secs

                buildings_update = yes # 0.5 secs
                pops_update = yes # 0.2 secs

                on_monthly_pops = yes # 0.2 secs
            }
            
            # 0.273 secs
            calc_shipping_capacity = yes
            calc_military_resources = yes

            calc_supply = yes
            calc_demand = yes
            get_resource_prices = yes
        }

        # Nil secs
		for_each_scope_loop = {
			array = global.econ_order_array

            ai_trade_calculation = yes

        }

        for_each_loop = {
            array = global.military_resource_token_array
            value = r_token

            clear_variable = global.additional_exports@var:r_token
        }

        # 2.00 secs
		for_each_scope_loop = {
			array = global.econ_order_array

            available_trade_update = yes # 0.6 secs
            trade_update_no_shipping = yes # 0.1 secs

            update_country_pop_stats = yes # nil secs

            set_variable = { gdp_amount = 0 }

            every_controlled_state = {
                buildings_update = yes # 0.5 secs
                calculate_pop_needs = yes # 0.2 secs
                pops_update = yes # 0.2 secs
				refresh_construction_list = yes # 0.1 secs
                #Statistics - 0.2 to 1.2 secs
                    #GDP
                    set_variable = { prev_gdp_amount = gdp_amount }
                    gdp_update = yes # nil secs

                    # nil secs
                    add_to_array = {
                        array = gdp_amount_array
                        value = gdp_amount
                        index = 0
                    }
                    if = {
                        limit = {
                            check_variable = { gdp_amount_array^num > 37 }
                        }
                        remove_from_array = { array = gdp_amount_array }
                    }

                    # nil secs
                    set_temp_variable = { num_temp = 12 }
                    if = {
                        limit = {
                            check_variable = { gdp_amount_array^num < num_temp }
                        }
                        set_temp_variable = { num_temp = gdp_amount_array^num }
                    }
                    subtract_from_temp_variable = { num_temp = 1 }

                    # 0.1 secs
                    set_variable = { gdp_growth = gdp_amount }
                    if = {
                        limit = {
                            OR = {
                                check_variable = { gdp_amount > 1000 }
                                check_variable = { gdp_amount_array^num_temp > 1000 }
                            }
                        }
                        set_temp_variable = { gdp_temp = gdp_amount_array^num_temp }
                        divide_temp_variable = { gdp_temp = 100 }
                        divide_variable = { gdp_growth = gdp_temp }
                    }
                    else = {
                        set_variable = { gdp_growth = gdp_amount }
                        multiply_variable = { gdp_growth = 100 }
                        divide_variable = { gdp_growth = gdp_amount_array^num_temp }
                    }
                    subtract_from_variable = { gdp_growth = 100 }

                    add_to_variable = { PREV.gdp_amount = gdp_amount }


                    if = {
                        limit = {
                            check_variable = { global.month = 0 }
                        }
                        create_state_gdp_graph = yes # up to 1 second
                        create_pie_chart_pop_type = yes # 0.2 secs
                    }
                #
            }

            #National Statistics - nil secs
                set_temp_variable = { gdp_amount_temp = gdp_amount }
                divide_temp_variable = { gdp_amount_temp = 1000 }

                add_to_array = { gdp_amount_monthly = gdp_amount_temp }
                if = {
                    limit = {
                        check_variable = { gdp_amount_monthly^num > 2 }
                    }
                    set_temp_variable = { gdp_amount_temp = gdp_amount_monthly^0 }
                    add_to_temp_variable = { gdp_amount_temp = gdp_amount_monthly^1 }
                    add_to_temp_variable = { gdp_amount_temp = gdp_amount_monthly^2 }
                    add_to_array = {
                        array = gdp_amount_quarterly
                        value = gdp_amount_temp
                        index = 0
                    }
                    if = {
                        limit = {
                            check_variable = { gdp_amount_array^num > 41 }
                        }
                        remove_from_array = { array = gdp_amount_quarterly }
                    }
                    clear_array = gdp_amount_monthly
                }

                if = {
                    limit = {
                        check_variable = { global.month = 0 }
                        check_variable = { global.years_passed > 0 }
                    }
                    set_temp_variable = { gdp_amount_temp = gdp_amount_quarterly^0 }
                    add_to_temp_variable = { gdp_amount_temp = gdp_amount_quarterly^1 }
                    add_to_temp_variable = { gdp_amount_temp = gdp_amount_quarterly^2 }
                    add_to_temp_variable = { gdp_amount_temp = gdp_amount_quarterly^3 }
                    add_to_array = {
                        array = gdp_amount_yearly
                        value = gdp_amount_temp
                        index = 0
                    }
                }

                #Create the Graph
				for_each_loop = {
					array = gdp_amount_quarterly
					value = v

					add_to_temp_array = { economy_graph_temp_array = v }
				}
				create_economy_graph = yes
            #

            #Completing Projects
            for_loop_effect = {
                start = 0
                end = proj_id^num
                value = proj_index_temp

                set_temp_variable = { project_token_temp = proj_id^project_token_temp }

                # Check if done
                if = {
                    limit = {
                        check_variable = { proj_food_fulfilled@var:project_token_temp = proj_food_need@var:project_token_temp }
                        check_variable = { proj_consumer_goods_fulfilled@var:project_token_temp = proj_consumer_goods_need@var:project_token_temp }
                        check_variable = { proj_luxury_goods_fulfilled@var:project_token_temp = proj_luxury_goods_need@var:project_token_temp }
                        check_variable = { proj_services_fulfilled@var:project_token_temp = proj_services_need@var:project_token_temp }
                        check_variable = { proj_raw_materials_fulfilled@var:project_token_temp = proj_raw_materials_need@var:project_token_temp }
                        check_variable = { proj_energy_materials_fulfilled@var:project_token_temp = proj_energy_materials_need@var:project_token_temp }
                        check_variable = { proj_industrial_goods_fulfilled@var:project_token_temp = proj_industrial_goods_need@var:project_token_temp }
                        check_variable = { proj_electricity_fulfilled@var:project_token_temp = proj_electricity_need@var:project_token_temp }
                    }
                    proj_done = yes
                }
            }
            proj_update = yes

            # 0.2 secs
            calc_demand = yes
            get_resource_prices = yes

            # 0.1 secs
            taxes_update = yes
            spending_update = yes

            clr_country_flag = repaid_debt_flag
            clr_country_flag = borrowed_money_flag
        }

        add_to_variable = { global.month = 1 }
    }

    r_reset = {
        #Global Vars
            set_variable = { global.month = 0 }
            set_variable = { global.years_passed = 0 }

            #Pops
				#Defined Vars Default Values
                    set_variable = { global.pops_workforce_participation = 0.35 }
                    set_variable = { global.pops_literacy_percentage = 100 } #Unlocks Workers
                    set_variable = { global.pops_schooling_percentage = 100 } #Unlocks Professionals
                    set_variable = { global.pops_education_percentage = 100 } #Unlocks Specialists

                    set_variable = { global.pops_natural_birth_base_rate = 3.0 } #Per year rate
                    set_variable = { global.pops_natural_death_base_rate = 2.0 } #Per year rate
                    set_variable = { global.pops_accidents_death_base_rate = 0.05 } #Per year rate
                    set_variable = { global.pops_crime_death_base_rate = 0.005 } #Per year rate
                    set_variable = { global.pops_other_death_base_rate = 0.005 } #Per year rate

                    set_variable = { global.pops_maximum_starvation_death_rate = 25.0 } #Per year rate

                    set_variable = { global.pops_unemployment_bleed = 0.2 } #What % of unemployed pops become laborers each month
                    set_variable = { global.pops_underpaid_start = 0.5 } #What % of a pop's SoL expenditure will they start to be less inclined to be employed
                    set_variable = { global.pops_underpaid_min = 0.3 } #Minimum % of pops willing to be employed
                #

                #Spending Patterns
                    #Note: All non-food values get multiplied by e^0.07s (doubles every 10 Standard of Living)
                    set_variable = { global.pops_base_food_need = 0.2 } #Per K
                    set_variable = { global.pops_food_need_increase = 0.015 } #Per SoL

                    set_variable = { global.pops_base_need@token:resource_consumer_goods = 0.02 }
                    set_variable = { global.pops_10_need@token:resource_consumer_goods = 0.01 } #additional at 10 SoL
                    set_variable = { global.pops_20_need@token:resource_consumer_goods = 0.1 }
                    set_variable = { global.pops_40_need@token:resource_consumer_goods = 0.2 }
                    set_variable = { global.pops_50_need@token:resource_consumer_goods = -0.2 }
                    set_variable = { global.pops_60_need@token:resource_consumer_goods = -0.2 }

                    set_variable = { global.pops_20_need@token:resource_luxury_goods = 0.01 }
                    set_variable = { global.pops_30_need@token:resource_luxury_goods = 0.01 }
                    set_variable = { global.pops_40_need@token:resource_luxury_goods = 0.04 }
                    set_variable = { global.pops_50_need@token:resource_luxury_goods = 0.05 }
                    set_variable = { global.pops_80_need@token:resource_luxury_goods = 0.5 }

                    set_variable = { global.pops_base_need@token:resource_services = 0.01 }
                    set_variable = { global.pops_10_need@token:resource_services = 0.03 }
                    set_variable = { global.pops_20_need@token:resource_services = 0.1 }
                    set_variable = { global.pops_30_need@token:resource_services = 0.1 }
                    set_variable = { global.pops_40_need@token:resource_services = 0.2 }
                    set_variable = { global.pops_50_need@token:resource_services = 1.0 }

                    set_variable = { global.pops_base_need@token:resource_energy_materials = 0.02 } #Can be replaced by electricity
                    set_variable = { global.pops_20_need@token:resource_energy_materials = 0.02 }
                    set_variable = { global.pops_30_need@token:resource_energy_materials = 0.05 }
                    set_variable = { global.pops_40_need@token:resource_energy_materials = 0.15 }
                    set_variable = { global.pops_50_need@token:resource_energy_materials = 0.2 }

                    #NEEDS AT EVERY 10 SoL (Based off above)
                    # 0: 0.2 Food, 0.02 Consumer Goods, 0.02 Energy, 0.01 Services: $0.68 per K - Starvation
                    # 10: 0.35 Food, 0.05 Consumer Goods, 0.04 Energy, 0.05 Services: $1.73 per K - 1820s
                    # 20: 0.5 Food, 0.2 Consumer Goods, 0.01 Luxury Goods, 0.1 Energy, 0.2 Services: $3.88 per K - 1860s
                    # 30: 0.65 Food, 0.4 Consumer Goods, 0.03 Luxury Goods, 0.25 Energy, 0.4 Services: $6.74 per K - 1900s
                    # 40: 0.8 Food, 1.0 Consumer Goods, 0.1 Luxury Goods, 0.65 Energy, 1.0 Services: $14.1 per K - 1940s
                    # 50: 0.95 Food, 1.6 Consumer Goods, 0.25 Luxury Goods, 1.5 Energy, 3.0 Services: $29.0 per K - 1980s
                    # 60: 1.1 Food, 3.0 Consumer Goods, 0.5 Luxury Goods, 3.0 Energy, 6.0 Services: $56.2 per K - 2020s
                    # 70: 1.25 Food, 6.0 Consumer Goods, 1.0 Luxury Goods, 6.0 Energy, 12.0 Services: $108.8 per K - 2060s
                    # 80: 1.4 Food, 12.0 Consumer Goods, 2.5 Luxury Goods, 12.0 Energy, 24.0 Services: $217.4 per K
                    # 90: 1.55 Food, 24.0 Consumer Goods, 5.0 Luxury Goods, 24.0 Energy, 48.0 Services: $430.0 per K
                    # 100: 1.7 Food, 48.0 Consumer Goods, 10.0 Luxury Goods, 48.0 Energy, 96.0 Services: $854.6 per K
                #
            #

            #Buildings
		        set_variable = { global.building_money_limit = 1 } #Money limit for an building for its output times the base price of the outputted resource
                set_variable = { global.minimum_base_wage = 0.01 } #Minimum base wage (not average) for an building
                set_variable = { global.buildings_economy_of_scale_factor = 0.01 } #What bonus gets added to throughput for each size building in a state
                set_variable = { global.base_industrial_capacity = 5 } #Base amount of IC that each state gets
                set_variable = { global.start_construction_cost_multiplier = 0.25 } #Multiplier on total cost on how much you need to put down to start construction

                #Define Buildings
                define_military_industry = yes
                define_civilian_industry = yes
                define_naval_industry = yes

                define_infrastructure = yes
                define_railway = yes
                define_port = yes
                define_airport = yes

                define_consumer_goods_factory = yes
                define_luxury_goods_factory = yes
                define_industrial_goods_factory = yes
                define_services_building = yes
                define_power_plant = yes

                define_subsistence_farm = yes
                define_commercial_farm = yes
                define_food_plantation = yes
                define_material_plantation = yes
                define_luxuries_plantation = yes
                define_lumber_mill = yes
                define_metals_mine = yes
                define_coal_mine = yes
                define_oil_well = yes
                define_valuables_extractor = yes

                clear_array = global.building_token_array
                add_to_array = { global.building_token_array = token:building_infrastructure }
                add_to_array = { global.building_token_array = token:building_railway }
                add_to_array = { global.building_token_array = token:building_port }
                add_to_array = { global.building_token_array = token:building_airport }

                add_to_array = { global.building_token_array = token:building_military_industry }
                add_to_array = { global.building_token_array = token:building_civilian_industry }
                add_to_array = { global.building_token_array = token:building_naval_industry }

                add_to_array = { global.building_token_array = token:building_consumer_goods_factory }
                add_to_array = { global.building_token_array = token:building_luxury_goods_factory }
                add_to_array = { global.building_token_array = token:building_industrial_goods_factory }
                add_to_array = { global.building_token_array = token:building_services_building }
                add_to_array = { global.building_token_array = token:building_power_plant }

                add_to_array = { global.building_token_array = token:building_subsistence_farm }
                add_to_array = { global.building_token_array = token:building_commercial_farm }
                add_to_array = { global.building_token_array = token:building_food_plantation }
                add_to_array = { global.building_token_array = token:building_material_plantation }
                add_to_array = { global.building_token_array = token:building_luxuries_plantation }
                add_to_array = { global.building_token_array = token:building_lumber_mill }
                add_to_array = { global.building_token_array = token:building_metals_mine }
                add_to_array = { global.building_token_array = token:building_coal_mine }
                add_to_array = { global.building_token_array = token:building_oil_well }
                add_to_array = { global.building_token_array = token:building_valuables_extractor }

                clear_array = global.urban_building_token_array
                add_to_array = { global.urban_building_token_array = token:building_port }
                add_to_array = { global.urban_building_token_array = token:building_airport }

                add_to_array = { global.urban_building_token_array = token:building_military_industry }
                add_to_array = { global.urban_building_token_array = token:building_civilian_industry }
                add_to_array = { global.urban_building_token_array = token:building_naval_industry }

                add_to_array = { global.urban_building_token_array = token:building_consumer_goods_factory }
                add_to_array = { global.urban_building_token_array = token:building_luxury_goods_factory }
                add_to_array = { global.urban_building_token_array = token:building_industrial_goods_factory }
                add_to_array = { global.urban_building_token_array = token:building_services_building }
                add_to_array = { global.urban_building_token_array = token:building_power_plant }

                clear_array = global.rural_building_token_array
                add_to_array = { global.rural_building_token_array = token:building_infrastructure }
                add_to_array = { global.rural_building_token_array = token:building_railway }

                add_to_array = { global.rural_building_token_array = token:building_subsistence_farm }
                add_to_array = { global.rural_building_token_array = token:building_commercial_farm }
                add_to_array = { global.rural_building_token_array = token:building_food_plantation }
                add_to_array = { global.rural_building_token_array = token:building_material_plantation }
                add_to_array = { global.rural_building_token_array = token:building_luxuries_plantation }
                add_to_array = { global.rural_building_token_array = token:building_lumber_mill }
                add_to_array = { global.rural_building_token_array = token:building_metals_mine }
                add_to_array = { global.rural_building_token_array = token:building_coal_mine }
                add_to_array = { global.rural_building_token_array = token:building_oil_well }
                add_to_array = { global.rural_building_token_array = token:building_valuables_extractor }

                for_each_loop = {
                    array = global.building_token_array
                    value = b_type
                    # Basic
                        set_variable = { global.building_basic_payroll_multiplier@var:b_type = 0 }
                        set_temp_variable = { mult_temp = global.building_basic_peasants_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 1 }
                        add_to_variable = { global.building_basic_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_basic_laborers_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 2 }
                        add_to_variable = { global.building_basic_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_basic_workers_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 5 }
                        add_to_variable = { global.building_basic_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_basic_professionals_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 10 }
                        add_to_variable = { global.building_basic_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_basic_specialists_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 20 }
                        add_to_variable = { global.building_basic_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_basic_aristocrats_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 30 }
                        add_to_variable = { global.building_basic_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_basic_capitalists_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 50 }
                        add_to_variable = { global.building_basic_payroll_multiplier@var:b_type = mult_temp }
                    #
                    # Advanced
                        set_variable = { global.building_advanced_payroll_multiplier@var:b_type = 0 }
                        set_temp_variable = { mult_temp = global.building_advanced_peasants_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 1 }
                        add_to_variable = { global.building_advanced_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_advanced_laborers_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 2 }
                        add_to_variable = { global.building_advanced_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_advanced_workers_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 5 }
                        add_to_variable = { global.building_advanced_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_advanced_professionals_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 10 }
                        add_to_variable = { global.building_advanced_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_advanced_specialists_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 20 }
                        add_to_variable = { global.building_advanced_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_advanced_aristocrats_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 30 }
                        add_to_variable = { global.building_advanced_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_advanced_capitalists_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 50 }
                        add_to_variable = { global.building_advanced_payroll_multiplier@var:b_type = mult_temp }
                    #
                    # Industrialized
                        set_variable = { global.building_industrialized_payroll_multiplier@var:b_type = 0 }
                        set_temp_variable = { mult_temp = global.building_industrialized_peasants_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 1 }
                        add_to_variable = { global.building_industrialized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_industrialized_laborers_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 2 }
                        add_to_variable = { global.building_industrialized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_industrialized_workers_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 5 }
                        add_to_variable = { global.building_industrialized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_industrialized_professionals_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 10 }
                        add_to_variable = { global.building_industrialized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_industrialized_specialists_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 20 }
                        add_to_variable = { global.building_industrialized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_industrialized_aristocrats_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 30 }
                        add_to_variable = { global.building_industrialized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_industrialized_capitalists_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 50 }
                        add_to_variable = { global.building_industrialized_payroll_multiplier@var:b_type = mult_temp }
                    #
                    # Mechanized
                        set_variable = { global.building_mechanized_payroll_multiplier@var:b_type = 0 }
                        set_temp_variable = { mult_temp = global.building_mechanized_peasants_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 1 }
                        add_to_variable = { global.building_mechanized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_mechanized_laborers_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 2 }
                        add_to_variable = { global.building_mechanized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_mechanized_workers_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 5 }
                        add_to_variable = { global.building_mechanized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_mechanized_professionals_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 10 }
                        add_to_variable = { global.building_mechanized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_mechanized_specialists_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 20 }
                        add_to_variable = { global.building_mechanized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_mechanized_aristocrats_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 30 }
                        add_to_variable = { global.building_mechanized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_mechanized_capitalists_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 50 }
                        add_to_variable = { global.building_mechanized_payroll_multiplier@var:b_type = mult_temp }
                    #
                    # Electrified
                        set_variable = { global.building_electrified_payroll_multiplier@var:b_type = 0 }
                        set_temp_variable = { mult_temp = global.building_electrified_peasants_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 1 }
                        add_to_variable = { global.building_electrified_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_electrified_laborers_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 2 }
                        add_to_variable = { global.building_electrified_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_electrified_workers_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 5 }
                        add_to_variable = { global.building_electrified_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_electrified_professionals_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 10 }
                        add_to_variable = { global.building_electrified_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_electrified_specialists_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 20 }
                        add_to_variable = { global.building_electrified_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_electrified_aristocrats_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 30 }
                        add_to_variable = { global.building_electrified_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_electrified_capitalists_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 50 }
                        add_to_variable = { global.building_electrified_payroll_multiplier@var:b_type = mult_temp }
                    #
                    # Motorized
                        set_variable = { global.building_motorized_payroll_multiplier@var:b_type = 0 }
                        set_temp_variable = { mult_temp = global.building_motorized_peasants_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 1 }
                        add_to_variable = { global.building_motorized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_motorized_laborers_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 2 }
                        add_to_variable = { global.building_motorized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_motorized_workers_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 5 }
                        add_to_variable = { global.building_motorized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_motorized_professionals_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 10 }
                        add_to_variable = { global.building_motorized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_motorized_specialists_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 20 }
                        add_to_variable = { global.building_motorized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_motorized_aristocrats_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 30 }
                        add_to_variable = { global.building_motorized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_motorized_capitalists_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 50 }
                        add_to_variable = { global.building_motorized_payroll_multiplier@var:b_type = mult_temp }
                    #
                    # Modernized
                        set_variable = { global.building_modernized_payroll_multiplier@var:b_type = 0 }
                        set_temp_variable = { mult_temp = global.building_modernized_peasants_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 1 }
                        add_to_variable = { global.building_modernized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_modernized_laborers_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 2 }
                        add_to_variable = { global.building_modernized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_modernized_workers_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 5 }
                        add_to_variable = { global.building_modernized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_modernized_professionals_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 10 }
                        add_to_variable = { global.building_modernized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_modernized_specialists_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 20 }
                        add_to_variable = { global.building_modernized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_modernized_aristocrats_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 30 }
                        add_to_variable = { global.building_modernized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_modernized_capitalists_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 50 }
                        add_to_variable = { global.building_modernized_payroll_multiplier@var:b_type = mult_temp }
                    #
                    # Roboticized
                        set_variable = { global.building_roboticized_payroll_multiplier@var:b_type = 0 }
                        set_temp_variable = { mult_temp = global.building_roboticized_peasants_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 1 }
                        add_to_variable = { global.building_roboticized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_roboticized_laborers_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 2 }
                        add_to_variable = { global.building_roboticized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_roboticized_workers_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 5 }
                        add_to_variable = { global.building_roboticized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_roboticized_professionals_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 10 }
                        add_to_variable = { global.building_roboticized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_roboticized_specialists_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 20 }
                        add_to_variable = { global.building_roboticized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_roboticized_aristocrats_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 30 }
                        add_to_variable = { global.building_roboticized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_roboticized_capitalists_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 50 }
                        add_to_variable = { global.building_roboticized_payroll_multiplier@var:b_type = mult_temp }
                    #
                    # Computerized
                        set_variable = { global.building_computerized_payroll_multiplier@var:b_type = 0 }
                        set_temp_variable = { mult_temp = global.building_computerized_peasants_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 1 }
                        add_to_variable = { global.building_computerized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_computerized_laborers_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 2 }
                        add_to_variable = { global.building_computerized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_computerized_workers_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 5 }
                        add_to_variable = { global.building_computerized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_computerized_professionals_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 10 }
                        add_to_variable = { global.building_computerized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_computerized_specialists_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 20 }
                        add_to_variable = { global.building_computerized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_computerized_aristocrats_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 30 }
                        add_to_variable = { global.building_computerized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_computerized_capitalists_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 50 }
                        add_to_variable = { global.building_computerized_payroll_multiplier@var:b_type = mult_temp }
                    #
                    # Digitalized
                        set_variable = { global.building_digitalized_payroll_multiplier@var:b_type = 0 }
                        set_temp_variable = { mult_temp = global.building_digitalized_peasants_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 1 }
                        add_to_variable = { global.building_digitalized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_digitalized_laborers_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 2 }
                        add_to_variable = { global.building_digitalized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_digitalized_workers_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 5 }
                        add_to_variable = { global.building_digitalized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_digitalized_professionals_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 10 }
                        add_to_variable = { global.building_digitalized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_digitalized_specialists_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 20 }
                        add_to_variable = { global.building_digitalized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_digitalized_aristocrats_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 30 }
                        add_to_variable = { global.building_digitalized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_digitalized_capitalists_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 50 }
                        add_to_variable = { global.building_digitalized_payroll_multiplier@var:b_type = mult_temp }
                    #
                    # Automatized
                        set_variable = { global.building_automatized_payroll_multiplier@var:b_type = 0 }
                        set_temp_variable = { mult_temp = global.building_automatized_peasants_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 1 }
                        add_to_variable = { global.building_automatized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_automatized_laborers_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 2 }
                        add_to_variable = { global.building_automatized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_automatized_workers_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 5 }
                        add_to_variable = { global.building_automatized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_automatized_professionals_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 10 }
                        add_to_variable = { global.building_automatized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_automatized_specialists_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 20 }
                        add_to_variable = { global.building_automatized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_automatized_aristocrats_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 30 }
                        add_to_variable = { global.building_automatized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_automatized_capitalists_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 50 }
                        add_to_variable = { global.building_automatized_payroll_multiplier@var:b_type = mult_temp }
                    #
                    # Futurized
                        set_variable = { global.building_futurized_payroll_multiplier@var:b_type = 0 }
                        set_temp_variable = { mult_temp = global.building_futurized_peasants_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 1 }
                        add_to_variable = { global.building_futurized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_futurized_laborers_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 2 }
                        add_to_variable = { global.building_futurized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_futurized_workers_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 5 }
                        add_to_variable = { global.building_futurized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_futurized_professionals_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 10 }
                        add_to_variable = { global.building_futurized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_futurized_specialists_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 20 }
                        add_to_variable = { global.building_futurized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_futurized_aristocrats_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 30 }
                        add_to_variable = { global.building_futurized_payroll_multiplier@var:b_type = mult_temp }
                        set_temp_variable = { mult_temp = global.building_futurized_capitalists_employment@var:b_type }
                        multiply_temp_variable = { mult_temp = 50 }
                        add_to_variable = { global.building_futurized_payroll_multiplier@var:b_type = mult_temp }
                    #
                }
            #

            #Resources
                set_variable = { global.base_price@token:resource_food = 3 }
                set_variable = { global.base_price@token:resource_raw_materials = 2 }
                set_variable = { global.base_price@token:resource_energy_materials = 2 }
                set_variable = { global.base_price@token:resource_consumer_goods = 4 }
                set_variable = { global.base_price@token:resource_luxury_goods = 8 }
                set_variable = { global.base_price@token:resource_industrial_goods = 6 }
                set_variable = { global.base_price@token:resource_services = 5 }
                set_variable = { global.base_price@token:resource_electricity = 2 }
                set_variable = { global.base_price@token:resource_valuable_materials = 10 }

                set_variable = { global.base_price@token:oil = 1 }
                set_variable = { global.base_price@token:aluminium = 0.5 }
                set_variable = { global.base_price@token:rubber = 0.2 }
                set_variable = { global.base_price@token:tungsten = 2 }
                set_variable = { global.base_price@token:steel = 0.5 } # 10 Steel for 10 Iron + 4 Coal
                set_variable = { global.base_price@token:chromium = 2 }
                set_variable = { global.base_price@token:coal = 0.1 }
                set_variable = { global.base_price@token:wood = 0.1 }
                set_variable = { global.base_price@token:fabric = 0.4 } # 10 Fabric for 10 Cotton
                set_variable = { global.base_price@token:machine_parts = 4.0 } # 6 Machine Parts for 16 Steel + 6 Coal
                set_variable = { global.base_price@token:electronics = 6 } # 6 Electronics for 4 Plastics + 2 Rubber + 2 Silicates + 1 Rare Earth Metals
                set_variable = { global.base_price@token:plastics = 0.5 } # 8 Plastics for 3 Oil
                set_variable = { global.base_price@token:ceramics = 3 } # 5 Ceramics for 2 Silicates + 2 Coal
                set_variable = { global.base_price@token:portable_power = 10 } # 4 Portable Power for 2 Plastics + 2 Rubber + 1 Silicates + 2 Rare Earth Metals
                set_variable = { global.base_price@token:titanium = 5 }
                set_variable = { global.base_price@token:iron = 0.2 }
                set_variable = { global.base_price@token:cotton = 0.2 }
                set_variable = { global.base_price@token:silicates = 3.5 }
                set_variable = { global.base_price@token:rare_earth_metals = 2.5 }

                set_variable = { global.base_price_industrial_capacity = 5 }

                # Basically controls how many of one resource do you need to affect prices. Higher means prices are more static
                set_variable = { global.price_control@token:oil = 1 }
                set_variable = { global.price_control@token:aluminium = 2 }
                set_variable = { global.price_control@token:rubber = 5 }
                set_variable = { global.price_control@token:tungsten = 0.5 }
                set_variable = { global.price_control@token:steel = 2 }
                set_variable = { global.price_control@token:chromium = 0.5 }
                set_variable = { global.price_control@token:coal = 10 }
                set_variable = { global.price_control@token:wood = 10 }
                set_variable = { global.price_control@token:fabric = 2.5 }
                set_variable = { global.price_control@token:machine_parts = 0.25 }
                set_variable = { global.price_control@token:electronics = .015 }
                set_variable = { global.price_control@token:plastics = 2 }
                set_variable = { global.price_control@token:ceramics = 0.3 }
                set_variable = { global.price_control@token:portable_power = 0.1 }
                set_variable = { global.price_control@token:titanium = 0.2 }
                set_variable = { global.price_control@token:iron = 5 }
                set_variable = { global.price_control@token:cotton = 5 }
                set_variable = { global.price_control@token:silicates = 0.3 }
                set_variable = { global.price_control@token:rare_earth_metals = 0.4 }

                clear_array = global.resource_token_array
                add_to_array = { global.resource_token_array = token:resource_food }
                add_to_array = { global.resource_token_array = token:resource_raw_materials }
                add_to_array = { global.resource_token_array = token:resource_energy_materials }
                add_to_array = { global.resource_token_array = token:resource_consumer_goods }
                add_to_array = { global.resource_token_array = token:resource_luxury_goods }
                add_to_array = { global.resource_token_array = token:resource_industrial_goods }
                add_to_array = { global.resource_token_array = token:resource_services }
                add_to_array = { global.resource_token_array = token:resource_electricity }
                add_to_array = { global.resource_token_array = token:resource_valuable_materials }

                clear_array = global.military_resource_token_array
                add_to_array = { global.military_resource_token_array = token:oil }
                add_to_array = { global.military_resource_token_array = token:aluminium }
                add_to_array = { global.military_resource_token_array = token:rubber }
                add_to_array = { global.military_resource_token_array = token:tungsten }
                add_to_array = { global.military_resource_token_array = token:steel }
                add_to_array = { global.military_resource_token_array = token:chromium }
                add_to_array = { global.military_resource_token_array = token:coal }
                add_to_array = { global.military_resource_token_array = token:wood }
                add_to_array = { global.military_resource_token_array = token:fabric }
                add_to_array = { global.military_resource_token_array = token:machine_parts }
                add_to_array = { global.military_resource_token_array = token:electronics }
                add_to_array = { global.military_resource_token_array = token:plastics }
                add_to_array = { global.military_resource_token_array = token:ceramics }
                add_to_array = { global.military_resource_token_array = token:portable_power }
                add_to_array = { global.military_resource_token_array = token:titanium }
                add_to_array = { global.military_resource_token_array = token:iron }
                add_to_array = { global.military_resource_token_array = token:cotton }
                add_to_array = { global.military_resource_token_array = token:silicates }
                add_to_array = { global.military_resource_token_array = token:rare_earth_metals }

                set_variable = { global.shipping_amount@token:resource_food = 15 } # Units per 1K employees
                set_variable = { global.shipping_amount@token:resource_raw_materials = 20 }
                set_variable = { global.shipping_amount@token:resource_energy_materials = 20 }
                set_variable = { global.shipping_amount@token:resource_consumer_goods = 12 }
                set_variable = { global.shipping_amount@token:resource_luxury_goods = 6 }
                set_variable = { global.shipping_amount@token:resource_industrial_goods = 8 }
                set_variable = { global.shipping_amount@token:resource_services = 10 }
                set_variable = { global.shipping_amount@token:resource_electricity = 20 }
                set_variable = { global.shipping_amount@token:resource_valuable_materials = 5 }

                set_variable = { global.shipping_amount@token:oil = 50 } # Units per 1K employees
                set_variable = { global.shipping_amount@token:aluminium = 100 }
                set_variable = { global.shipping_amount@token:rubber = 250 }
                set_variable = { global.shipping_amount@token:tungsten = 30 }
                set_variable = { global.shipping_amount@token:steel = 100 }
                set_variable = { global.shipping_amount@token:chromium = 30 }
                set_variable = { global.shipping_amount@token:coal = 500 }
                set_variable = { global.shipping_amount@token:wood = 500 }
                set_variable = { global.shipping_amount@token:fabric = 120 }
                set_variable = { global.shipping_amount@token:machine_parts = 20 }
                set_variable = { global.shipping_amount@token:electronics = 10 }
                set_variable = { global.shipping_amount@token:plastics = 100 }
                set_variable = { global.shipping_amount@token:ceramics = 20 }
                set_variable = { global.shipping_amount@token:portable_power = 10 }
                set_variable = { global.shipping_amount@token:titanium = 10 }
                set_variable = { global.shipping_amount@token:iron = 250 }
                set_variable = { global.shipping_amount@token:cotton = 250 }
                set_variable = { global.shipping_amount@token:silicates = 20 }
                set_variable = { global.shipping_amount@token:rare_earth_metals = 20 }


                set_variable = { global.base_shipping_cost_divisor = 1000 }
                set_variable = { global.shipping_capacity_per_convoy = 2 }

                set_variable = { global.shipping_cost@token:resource_food = 1 } # How much shipping per resource
                set_variable = { global.shipping_cost@token:resource_raw_materials = 1 }
                set_variable = { global.shipping_cost@token:resource_energy_materials = 1 }
                set_variable = { global.shipping_cost@token:resource_consumer_goods = 1 }
                set_variable = { global.shipping_cost@token:resource_luxury_goods = 1 }
                set_variable = { global.shipping_cost@token:resource_industrial_goods = 1 }
                set_variable = { global.shipping_cost@token:resource_services = 1 }
                set_variable = { global.shipping_cost@token:resource_electricity = 1 }
                set_variable = { global.shipping_cost@token:resource_valuable_materials = 1 }

                set_variable = { global.shipping_cost@token:oil = 1 }
                set_variable = { global.shipping_cost@token:aluminium = 1 }
                set_variable = { global.shipping_cost@token:rubber = 1 }
                set_variable = { global.shipping_cost@token:tungsten = 1 }
                set_variable = { global.shipping_cost@token:steel = 1 }
                set_variable = { global.shipping_cost@token:chromium = 1 }
                set_variable = { global.shipping_cost@token:coal = 1 }
                set_variable = { global.shipping_cost@token:wood = 1 }
                set_variable = { global.shipping_cost@token:fabric = 1 }
                set_variable = { global.shipping_cost@token:machine_parts = 1 }
                set_variable = { global.shipping_cost@token:electronics = 1 }
                set_variable = { global.shipping_cost@token:plastics = 1 }
                set_variable = { global.shipping_cost@token:ceramics = 1 }
                set_variable = { global.shipping_cost@token:portable_power = 1 }
                set_variable = { global.shipping_cost@token:titanium = 1 }
                set_variable = { global.shipping_cost@token:iron = 1 }
                set_variable = { global.shipping_cost@token:cotton = 1 }
                set_variable = { global.shipping_cost@token:silicates = 1 }
                set_variable = { global.shipping_cost@token:rare_earth_metals = 1 }

                clear_array = global.non_tradeable_resources
                add_to_array = { global.non_tradeable_resources = token:resource_services }
                add_to_array = { global.non_tradeable_resources = token:resource_electricity }
                add_to_array = { global.non_tradeable_resources = token:resource_valuable_materials }
            #

			#Government
				#Military
					#Army
					set_variable = { global.infantry_need@token:resource_food = 0.1 } #Per Regiment
					set_variable = { global.infantry_need@token:resource_consumer_goods = 0.4 }
					set_variable = { global.infantry_need@token:resource_luxury_goods = 0.05 }
					set_variable = { global.infantry_need@token:resource_industrial_goods = 0 }

					set_variable = { global.militia_need@token:resource_food = 0.05 }
					set_variable = { global.militia_need@token:resource_consumer_goods = 0.1 }
					set_variable = { global.militia_need@token:resource_luxury_goods = 0 }
					set_variable = { global.militia_need@token:resource_industrial_goods = 0 }

					set_variable = { global.artillery_need@token:resource_food = 0.05 }
					set_variable = { global.artillery_need@token:resource_consumer_goods = 0.2 }
					set_variable = { global.artillery_need@token:resource_luxury_goods = 0.03 }
					set_variable = { global.artillery_need@token:resource_industrial_goods = 0.5 }

					set_variable = { global.cavalry_need@token:resource_food = 0.1 }
					set_variable = { global.cavalry_need@token:resource_consumer_goods = 0.2 }
					set_variable = { global.cavalry_need@token:resource_luxury_goods = 0.08 }
					set_variable = { global.cavalry_need@token:resource_industrial_goods = 0 }

					set_variable = { global.mobile_need@token:resource_food = 0.1 }
					set_variable = { global.mobile_need@token:resource_consumer_goods = 0.5 }
					set_variable = { global.mobile_need@token:resource_luxury_goods = 0.05 }
					set_variable = { global.mobile_need@token:resource_industrial_goods = 0.5 }

					set_variable = { global.armor_need@token:resource_food = 0.1 }
					set_variable = { global.armor_need@token:resource_consumer_goods = 1.0 }
					set_variable = { global.armor_need@token:resource_luxury_goods = 0.08 }
					set_variable = { global.armor_need@token:resource_industrial_goods = 2.0 }

					set_variable = { global.robotic_need@token:resource_food = 0.02 }
					set_variable = { global.robotic_need@token:resource_consumer_goods = 0.5 }
					set_variable = { global.robotic_need@token:resource_luxury_goods = 0.5 }
					set_variable = { global.robotic_need@token:resource_industrial_goods = 3.0 }

					set_variable = { global.support_need@token:resource_food = 0.02 } #Per Support Company
					set_variable = { global.support_need@token:resource_consumer_goods = 0.1 }
					set_variable = { global.support_need@token:resource_luxury_goods = 0.01 }
					set_variable = { global.support_need@token:resource_industrial_goods = 0 }

					#Navy
					set_variable = { global.screen_need@token:resource_food = 0.05 } #Per Ship
					set_variable = { global.screen_need@token:resource_consumer_goods = 0.2 }
					set_variable = { global.screen_need@token:resource_luxury_goods = 0.05 }
					set_variable = { global.screen_need@token:resource_industrial_goods = 0.05 }

					set_variable = { global.capital_need@token:resource_food = 0.1 }
					set_variable = { global.capital_need@token:resource_consumer_goods = 0.4 }
					set_variable = { global.capital_need@token:resource_luxury_goods = 0.1 }
					set_variable = { global.capital_need@token:resource_industrial_goods = 0.3 }

					set_variable = { global.submarine_need@token:resource_food = 0.04 }
					set_variable = { global.submarine_need@token:resource_consumer_goods = 0.2 }
					set_variable = { global.submarine_need@token:resource_luxury_goods = 0.05 }
					set_variable = { global.submarine_need@token:resource_industrial_goods = 0.1 }

					#Airforce
					set_variable = { global.deployed_planes_need@token:resource_food = 0.005 } #Per Deployed Plane
					set_variable = { global.deployed_planes_need@token:resource_consumer_goods = 0.005 }
					set_variable = { global.deployed_planes_need@token:resource_luxury_goods = 0.001 }
					set_variable = { global.deployed_planes_need@token:resource_industrial_goods = 0.003 }
				#
				#Projects
                    clear_array = proj_id
                    clear_array = proj_relative
                    clear_array = proj_estimated_cost
                    clear_array = proj_estimated_monthly_cost
                    clear_array = proj_estimated_complete_time
                    clear_array = proj_time_elapsed
                    clear_array = proj_food_need
                    clear_array = proj_food_fulfilled
                    clear_array = proj_food_demand
                    clear_array = proj_food_build_speed
                    clear_array = proj_consumer_goods_need
                    clear_array = proj_consumer_goods_fulfilled
                    clear_array = proj_consumer_goods_demand
                    clear_array = proj_consumer_goods_build_speed
                    clear_array = proj_luxury_goods_need
                    clear_array = proj_luxury_goods_fulfilled
                    clear_array = proj_luxury_goods_demand
                    clear_array = proj_luxury_goods_build_speed
                    clear_array = proj_services_need
                    clear_array = proj_services_fulfilled
                    clear_array = proj_services_demand
                    clear_array = proj_services_build_speed
                    clear_array = proj_raw_materials_need
                    clear_array = proj_raw_materials_fulfilled
                    clear_array = proj_raw_materials_demand
                    clear_array = proj_raw_materials_build_speed
                    clear_array = proj_industrial_goods_need
                    clear_array = proj_industrial_goods_fulfilled
                    clear_array = proj_industrial_goods_demand
                    clear_array = proj_industrial_goods_build_speed
                    clear_array = proj_electricity_need
                    clear_array = proj_electricity_fulfilled
                    clear_array = proj_electricity_demand
                    clear_array = proj_electricity_build_speed
                    clear_array = proj_energy_materials_need
                    clear_array = proj_energy_materials_fulfilled
                    clear_array = proj_energy_materials_demand
                    clear_array = proj_energy_materials_build_speed
				#

				set_variable = { global.administration_base_expense = 0.5 } #Percentage (from 0.0 to 100.0) of pop earnings that are needed for basic administration
				set_variable = { global.administration_population_expense = 100 } #Below this population amount (in thousands), administration becomes more expensive. Should not be 0
				set_variable = { global.administration_population_expense_modifier = 2 } #Maximum modifier of admin costs when population is 0

				set_variable = { global.default_interest_rate = 3.0 } #Percent per year - Default national bank interest rate for loans to pops/corporations
				set_variable = { global.loan_scarcity_rate = 5.0 } #Percent per year - How much interest should be added when you use up all loans you can get
				set_variable = { global.base_international_interest_rate = 1.0 } #The additional rate that entities pay on getting loans from a foreign national bank
				set_variable = { global.loan_scarcity_increase_willingness = 0.25 } #When doing the autoborrow, how much scarcity increase is willing to be tolerated?

				#Credit Ratings & Interest Rates for Each
					#NOTE - Credit Rating is determined by the system.
					#	  - Actual interest rate can be higher b/c of lack of available funds
					#AAA - An obligor has EXTREMELY STRONG capacity to meet its financial commitments.
					set_variable = { global.credit_rating_AAA_base_interest_rate = 1.75 }
					#AA - An obligor has VERY STRONG capacity to meet its financial commitments. It differs from the highest-rated obligors only to a small degree.
					set_variable = { global.credit_rating_AA_base_interest_rate = 2.0 }
					#A - An obligor has STRONG capacity to meet its financial commitments
					set_variable = { global.credit_rating_A_base_interest_rate = 2.25 }
					#BBB - An obligor has ADEQUATE capacity to meet its financial commitments
					set_variable = { global.credit_rating_BBB_base_interest_rate = 2.5 }
					#BB - An obligor is LESS VULNERABLE in the near term than other lower-rated obligors
					set_variable = { global.credit_rating_BB_base_interest_rate = 2.75 }
					#B - An obligor is MORE VULNERABLE than the obligors rated 'BB', but the obligor currently has the capacity to meet its financial commitments.
					set_variable = { global.credit_rating_B_base_interest_rate = 3.0 }
					#CCC - An obligor is CURRENTLY VULNERABLE, and is dependent upon favourable business, financial, and economic conditions to meet its financial commitments.
					set_variable = { global.credit_rating_CCC_base_interest_rate = 3.25 }
					#CC - An obligor is CURRENTLY HIGHLY-VULNERABLE.
					set_variable = { global.credit_rating_CC_base_interest_rate = 3.5 }
					#SD - An obligor has failed to pay one or more of its financial obligations (rated or unrated) when it became due. Sovereign Default / Bankruptcy
					set_variable = { global.credit_rating_SD_base_interest_rate = 10.0 }
                #
            #

            #AI
                #Trade
                set_variable = { global.ai_trade_relative_price_condition = 0.05 } # Price difference requirement from base price to be considered
                set_variable = { global.ai_trade_balance_tolerance = 0.8 } # Multiplied against the trade per route size value to check if trading additional goods of that will tip the balance to the other side. Lower values are more tolerant.

            #

            UCT = {
                clear_array = global.sol_cost
                for_each_loop = {
                    array = global.resource_token_array
                    value = r_type
                    set_variable = { price@var:r_type = global.base_price@var:r_type }
                }
                for_loop_effect = {
                    start = 0
                    end = 150
                    add = 1
                    value = sol_temp
                    break = b

                    get_pop_needs = yes
                    set_temp_variable = { temp_food_cost = food_need_temp }
                    multiply_temp_variable = { temp_food_cost = price@token:resource_food }
                    set_temp_variable = { temp_consumer_goods_cost = consumer_goods_need_temp }
                    multiply_temp_variable = { temp_consumer_goods_cost = price@token:resource_consumer_goods }
                    set_temp_variable = { temp_luxury_goods_cost = luxury_goods_need_temp }
                    multiply_temp_variable = { temp_luxury_goods_cost = price@token:resource_luxury_goods }
                    set_temp_variable = { temp_energy_materials_cost = energy_materials_need_temp }
                    multiply_temp_variable = { temp_energy_materials_cost = price@token:resource_energy_materials }
                    set_temp_variable = { temp_electricity_cost = electricity_need_temp }
                    multiply_temp_variable = { temp_electricity_cost = price@token:resource_electricity }
                    set_temp_variable = { temp_services_cost = services_need_temp }
                    multiply_temp_variable = { temp_services_cost = price@token:resource_services }

                    set_temp_variable = { total_cost_temp = temp_food_cost }
                    add_to_temp_variable = { total_cost_temp = temp_consumer_goods_cost }
                    add_to_temp_variable = { total_cost_temp = temp_luxury_goods_cost }
                    add_to_temp_variable = { total_cost_temp = temp_energy_materials_cost }
                    add_to_temp_variable = { total_cost_temp = temp_electricity_cost }
                    add_to_temp_variable = { total_cost_temp = temp_services_cost }

                    multiply_temp_variable = { total_cost_temp = global.pops_workforce_participation }
                    add_to_array = { global.sol_cost = total_cost_temp } #sol_cost^i -> Costs for each level of standard of living (arranged in an array)
                }
            }
        #

		#Setup Projects
			clear_array = global.proj_id
			clear_array = global.proj_food_base_need
			clear_array = global.proj_food_base_build_speed
			clear_array = global.proj_consumer_goods_base_need
			clear_array = global.proj_consumer_goods_base_build_speed
			clear_array = global.proj_luxury_goods_base_need
			clear_array = global.proj_luxury_goods_base_build_speed
			clear_array = global.proj_services_base_need
			clear_array = global.proj_services_base_build_speed
			clear_array = global.proj_raw_materials_base_need
			clear_array = global.proj_raw_materials_base_build_speed
			clear_array = global.proj_energy_materials_base_need
			clear_array = global.proj_energy_materials_base_build_speed
			clear_array = global.proj_industrial_goods_base_need
			clear_array = global.proj_industrial_goods_base_build_speed
			clear_array = global.proj_electricity_base_need
			clear_array = global.proj_electricity_base_build_speed
			clear_array = global.proj_repeatable
			clear_array = global.proj_relative
			proj_setup = yes
		#

		clear_array = global.econ_order_array

        set_historical_state_deposits = yes
        set_historical_state_buildings = yes
        every_country = {
            #Clear Projects
                clear_array = proj_id
                clear_array = proj_relative
                clear_array = proj_estimated_cost
                clear_array = proj_estimated_monthly_cost
                clear_array = proj_estimated_complete_time
                clear_array = proj_time_elapsed
                clear_array = proj_food_need
                clear_array = proj_food_fulfilled
                clear_array = proj_food_demand
                clear_array = proj_food_build_speed
                clear_array = proj_consumer_goods_need
                clear_array = proj_consumer_goods_fulfilled
                clear_array = proj_consumer_goods_demand
                clear_array = proj_consumer_goods_build_speed
                clear_array = proj_luxury_goods_need
                clear_array = proj_luxury_goods_fulfilled
                clear_array = proj_luxury_goods_demand
                clear_array = proj_luxury_goods_build_speed
                clear_array = proj_services_need
                clear_array = proj_services_fulfilled
                clear_array = proj_services_demand
                clear_array = proj_services_build_speed
                clear_array = proj_raw_materials_need
                clear_array = proj_raw_materials_fulfilled
                clear_array = proj_raw_materials_demand
                clear_array = proj_raw_materials_build_speed
                clear_array = proj_industrial_goods_need
                clear_array = proj_industrial_goods_fulfilled
                clear_array = proj_industrial_goods_demand
                clear_array = proj_industrial_goods_build_speed
                clear_array = proj_electricity_need
                clear_array = proj_electricity_fulfilled
                clear_array = proj_electricity_demand
                clear_array = proj_electricity_build_speed
                clear_array = proj_energy_materials_need
                clear_array = proj_energy_materials_fulfilled
                clear_array = proj_energy_materials_demand
                clear_array = proj_energy_materials_build_speed
            #
            for_each_loop = {
                array = global.resource_token_array
                value = r_token

                set_variable = { offers@var:r_token = 0 }
            }

            random_controlled_state = {
                for_each_loop = {
                    array = global.building_token_array
                    value = building_token
                    get_latest_production_method = yes
                    set_variable = { controller:latest_production_method@var:building_token = pm_temp }
                }
            }

            clear_array = gdp_amount_monthly
            clear_array = gdp_amount_quarterly
            clear_array = gdp_amount_yearly

			add_dynamic_modifier = { modifier = resource_trade }

            set_variable = { income_tax_upper_strata_percentage = 0 }
            set_variable = { income_tax_middle_strata_percentage = 0 }
            set_variable = { income_tax_lower_strata_percentage = 0 }
            set_variable = { sales_tax_percentage = 4 }

            set_variable = { military_spending_percentage = 100 }
            set_variable = { construction_spending_percentage = 100 }

            clr_country_flag = repaid_debt_flag
            clr_country_flag = borrowed_money_flag

            every_controlled_state = {
                r_update_modifiers_state_effects = yes

                #Clearing old variables (for debugging)
                    set_variable = { gdp_growth = 0 }
                    clear_array = gdp_amount_array

                    for_each_loop = {
                        array = buildings_under_construction_array
                        value = om_building

                        set_variable = { under_construction@var:om_building = 0 }
                        set_variable = { construction_amount@var:om_building = 0 }
                        set_variable = { construction_speed@var:om_building = 0 }
                        set_variable = { construction_expenses@var:om_building = 0 }
                    }
                #

                #Resource Setup
                for_each_loop = {
                    array = global.resource_token_array
                    value = r_token

                    set_variable = { price@var:r_token = global.base_price@var:r_token }
                }

                #Pop Setup
                    set_variable = { pops = state_population_k }
                    set_variable = { pops_workforce = pops }
                    multiply_variable = { pops_workforce = global.pops_workforce_participation }
                    set_variable = { pops_workforce_participation = global.pops_workforce_participation }

                    #Literacy Percentage
                        if = {
                            limit = {
                                NOT = { has_variable = pops_literacy_percentage }
                            }
                            owner = {
                                if = {
                                    limit = {
                                        has_variable = pops_literacy_percentage
                                    }
                                    set_variable = { PREV.pops_literacy_percentage = pops_literacy_percentage }
                                }
                                else = {
                                    set_variable = { PREV.pops_literacy_percentage = global.pops_literacy_percentage }
                                }
                            }
                        }
                    #
                    #Schooling Percentage
                        if = {
                            limit = {
                                NOT = { has_variable = pops_schooling_percentage }
                            }
                            owner = {
                                if = {
                                    limit = {
                                        has_variable = pops_schooling_percentage
                                    }
                                    set_variable = { PREV.pops_schooling_percentage = pops_schooling_percentage }
                                }
                                else = {
                                    set_variable = { PREV.pops_schooling_percentage = global.pops_schooling_percentage }
                                }
                            }
                        }
                    #
                    #Education Percentage
                        if = {
                            limit = {
                                NOT = { has_variable = pops_education_percentage }
                            }
                            owner = {
                                if = {
                                    limit = {
                                        has_variable = pops_education_percentage
                                    }
                                    set_variable = { PREV.pops_education_percentage = pops_education_percentage }
                                }
                                else = {
                                    set_variable = { PREV.pops_education_percentage = global.pops_education_percentage }
                                }
                            }
                        }
                    #

                    #Electricity Use
                        if = {
                            limit = {
                                NOT = { has_variable = pops_electricity_use }
                            }
                            owner = {
                                if = {
                                    limit = {
                                        has_variable = pops_electricity_use
                                    }
                                    set_variable = { PREV.pops_electricity_use = pops_electricity_use }
                                }
                                else = {
                                    set_variable = { PREV.pops_electricity_use = global.pops_electricity_use }
                                }
                            }
                        }
                    #
                #

                if = {
                    limit = {
                        NOT = { has_variable = arable_land }
                    }
                    set_variable = { arable_land = pops_workforce }
                    divide_variable = { arable_land = 20 }
                    round_variable = arable_land
                    add_to_variable = { arable_land = 1 }
                }

                #Building Setup
                    #Rural Buildings
                        if = {
                            limit = {
                                check_variable = { building_infrastructure_size > 0 }
                            }
                            set_variable = { size@token:building_infrastructure = building_infrastructure_size }
                            if = {
                                limit = {
                                    has_variable = building_infrastructure_pm
                                }
                                set_variable = { production_method@token:building_infrastructure = building_infrastructure_pm }
                            }
                            else = {
                                set_temp_variable = { building_token = token:building_infrastructure }
                                get_latest_production_method = yes
                                set_variable = { production_method@token:building_infrastructure = pm_temp }
                            }
                        }
                        else = {
                            clear_variable = size@token:building_infrastructure
                            clear_variable = production_method@token:building_infrastructure
                        }
                        if = {
                            limit = {
                                check_variable = { building_railway_size > 0 }
                            }
                            set_variable = { size@token:building_railway = building_railway_size }
                            if = {
                                limit = {
                                    has_variable = building_railway_pm
                                }
                                set_variable = { production_method@token:building_railway = building_railway_pm }
                            }
                            else = {
                                set_temp_variable = { building_token = token:building_railway }
                                get_latest_production_method = yes
                                set_variable = { production_method@token:building_railway = pm_temp }
                            }
                        }
                        else = {
                            clear_variable = size@token:building_railway
                            clear_variable = production_method@token:building_railway
                        }

                        set_temp_variable = { sub_farm_size_temp = arable_land }

                        if = {
                            limit = {
                                check_variable = { building_commercial_farm_size > 0 }
                            }
                            subtract_from_temp_variable = { sub_farm_size_temp = building_commercial_farm_size }

                            set_variable = { size@token:building_commercial_farm = building_commercial_farm_size }
                            if = {
                                limit = {
                                    has_variable = building_commercial_farm_pm
                                }
                                set_variable = { production_method@token:building_commercial_farm = building_commercial_farm_pm }
                            }
                            else = {
                                set_temp_variable = { building_token = token:building_commercial_farm }
                                get_latest_production_method = yes
                                set_variable = { production_method@token:building_commercial_farm = pm_temp }
                            }
                        }
                        else = {
                            clear_variable = size@token:building_commercial_farm
                            clear_variable = production_method@token:building_commercial_farm
                        }
                        if = {
                            limit = {
                                check_variable = { building_food_plantation_size > 0 }
                            }
                            subtract_from_temp_variable = { sub_farm_size_temp = building_food_plantation_size }

                            set_variable = { size@token:building_food_plantation = building_food_plantation_size }
                            if = {
                                limit = {
                                    has_variable = building_food_plantation_pm
                                }
                                set_variable = { production_method@token:building_food_plantation = building_food_plantation_pm }
                            }
                            else = {
                                set_temp_variable = { building_token = token:building_food_plantation }
                                get_latest_production_method = yes
                                set_variable = { production_method@token:building_food_plantation = pm_temp }
                            }
                        }
                        else = {
                            clear_variable = size@token:building_food_plantation
                            clear_variable = production_method@token:building_food_plantation
                        }
                        if = {
                            limit = {
                                check_variable = { building_material_plantation_size > 0 }
                            }
                            subtract_from_temp_variable = { sub_farm_size_temp = building_material_plantation_size }

                            set_variable = { size@token:building_material_plantation = building_material_plantation_size }
                            if = {
                                limit = {
                                    has_variable = building_material_plantation_pm
                                }
                                set_variable = { production_method@token:building_material_plantation = building_material_plantation_pm }
                            }
                            else = {
                                set_temp_variable = { building_token = token:building_material_plantation }
                                get_latest_production_method = yes
                                set_variable = { production_method@token:building_material_plantation = pm_temp }
                            }
                        }
                        else = {
                            clear_variable = size@token:building_material_plantation
                            clear_variable = production_method@token:building_material_plantation
                        }
                        if = {
                            limit = {
                                check_variable = { building_luxuries_plantation_size > 0 }
                            }
                            subtract_from_temp_variable = { sub_farm_size_temp = building_luxuries_plantation_size }

                            set_variable = { size@token:building_luxuries_plantation = building_luxuries_plantation_size }
                            if = {
                                limit = {
                                    has_variable = building_luxuries_plantation_pm
                                }
                                set_variable = { production_method@token:building_luxuries_plantation = building_luxuries_plantation_pm }
                            }
                            else = {
                                set_temp_variable = { building_token = token:building_luxuries_plantation }
                                get_latest_production_method = yes
                                set_variable = { production_method@token:building_luxuries_plantation = pm_temp }
                            }
                        }
                        else = {
                            clear_variable = size@token:building_luxuries_plantation
                            clear_variable = production_method@token:building_luxuries_plantation
                        }

                        if = {
                            limit = {
                                check_variable = { sub_farm_size_temp > 0 }
                            }
                            if = {
                                limit = {
                                    has_state_flag = uses_rice_paddies
                                }
                                set_variable = { size@token:building_rice_paddy = sub_farm_size_temp }
                            }
                            else = {
                                set_variable = { size@token:building_subsistence_farm = sub_farm_size_temp }
                            }
                        }
                        else = {
                            clear_variable = size@token:building_subsistence_farm
                            clear_variable = size@token:building_rice_paddy
                        }


                        if = {
                            limit = {
                                check_variable = { building_lumber_mill_size > 0 }
                            }
                            set_variable = { size@token:building_lumber_mill = building_lumber_mill_size }
                            if = {
                                limit = {
                                    has_variable = building_lumber_mill_pm
                                }
                                set_variable = { production_method@token:building_lumber_mill = building_lumber_mill_pm }
                            }
                            else = {
                                set_temp_variable = { building_token = token:building_lumber_mill }
                                get_latest_production_method = yes
                                set_variable = { production_method@token:building_lumber_mill = pm_temp }
                            }
                        }
                        else = {
                            clear_variable = size@token:building_lumber_mill
                            clear_variable = production_method@token:building_lumber_mill
                        }
                        if = {
                            limit = {
                                check_variable = { building_metals_mine_size > 0 }
                            }
                            set_variable = { size@token:building_metals_mine = building_metals_mine_size }
                            if = {
                                limit = {
                                    has_variable = building_metals_mine_pm
                                }
                                set_variable = { production_method@token:building_metals_mine = building_metals_mine_pm }
                            }
                            else = {
                                set_temp_variable = { building_token = token:building_metals_mine }
                                get_latest_production_method = yes
                                set_variable = { production_method@token:building_metals_mine = pm_temp }
                            }
                        }
                        else = {
                            clear_variable = size@token:building_metals_mine
                            clear_variable = production_method@token:building_metals_mine
                        }
                        if = {
                            limit = {
                                check_variable = { building_coal_mine_size > 0 }
                            }
                            set_variable = { size@token:building_coal_mine = building_coal_mine_size }
                            if = {
                                limit = {
                                    has_variable = building_coal_mine_pm
                                }
                                set_variable = { production_method@token:building_coal_mine = building_coal_mine_pm }
                            }
                            else = {
                                set_temp_variable = { building_token = token:building_coal_mine }
                                get_latest_production_method = yes
                                set_variable = { production_method@token:building_coal_mine = pm_temp }
                            }
                        }
                        else = {
                            clear_variable = size@token:building_coal_mine
                            clear_variable = production_method@token:building_coal_mine
                        }
                        if = {
                            limit = {
                                check_variable = { building_oil_well_size > 0 }
                            }
                            set_variable = { size@token:building_oil_well = building_oil_well_size }
                            if = {
                                limit = {
                                    has_variable = building_oil_well_pm
                                }
                                set_variable = { production_method@token:building_oil_well = building_oil_well_pm }
                            }
                            else = {
                                set_temp_variable = { building_token = token:building_oil_well }
                                get_latest_production_method = yes
                                set_variable = { production_method@token:building_oil_well = pm_temp }
                            }
                        }
                        else = {
                            clear_variable = size@token:building_oil_well
                            clear_variable = production_method@token:building_oil_well
                        }
                        if = {
                            limit = {
                                check_variable = { building_valuables_extractor_size > 0 }
                            }
                            set_variable = { size@token:building_valuables_extractor = building_valuables_extractor_size }
                            if = {
                                limit = {
                                    has_variable = building_valuables_extractor_pm
                                }
                                set_variable = { production_method@token:building_valuables_extractor = building_valuables_extractor_pm }
                            }
                            else = {
                                set_temp_variable = { building_token = token:building_valuables_extractor }
                                get_latest_production_method = yes
                                set_variable = { production_method@token:building_valuables_extractor = pm_temp }
                            }
                        }
                        else = {
                            clear_variable = size@token:building_valuables_extractor
                            clear_variable = production_method@token:building_valuables_extractor
                        }
                    #
                    #Urban Buildings
                        if = {
                            limit = {
                                check_variable = { building_port_size > 0 }
                            }
                            set_variable = { size@token:building_port = building_port_size }
                            if = {
                                limit = {
                                    has_variable = building_port_pm
                                }
                                set_variable = { production_method@token:building_port = building_port_pm }
                            }
                            else = {
                                set_temp_variable = { building_token = token:building_port }
                                get_latest_production_method = yes
                                set_variable = { production_method@token:building_port = pm_temp }
                            }
                        }
                        else = {
                            clear_variable = size@token:building_port
                            clear_variable = production_method@token:building_port
                        }
                        if = {
                            limit = {
                                check_variable = { building_airport_size > 0 }
                            }
                            set_variable = { size@token:building_airport = building_airport_size }
                            if = {
                                limit = {
                                    has_variable = building_airport_pm
                                }
                                set_variable = { production_method@token:building_airport = building_airport_pm }
                            }
                            else = {
                                set_temp_variable = { building_token = token:building_airport }
                                get_latest_production_method = yes
                                set_variable = { production_method@token:building_airport = pm_temp }
                            }
                        }
                        else = {
                            clear_variable = size@token:building_airport
                            clear_variable = production_method@token:building_airport
                        }

                        if = {
                            limit = {
                                check_variable = { arms_factory_level > 0 }
                            }
                            set_variable = { size@token:building_military_industry = arms_factory_level }
                            if = {
                                limit = {
                                    has_variable = building_military_industry_pm
                                }
                                set_variable = { production_method@token:building_military_industry = building_military_industry_pm }
                            }
                            else = {
                                set_temp_variable = { building_token = token:building_military_industry }
                                get_latest_production_method = yes
                                set_variable = { production_method@token:building_military_industry = pm_temp }
                            }
                        }
                        else = {
                            clear_variable = size@token:building_military_industry
                            clear_variable = production_method@token:building_military_industry
                        }
                        if = {
                            limit = {
                                check_variable = { industrial_complex_level > 0 }
                            }
                            set_variable = { size@token:building_civilian_industry = industrial_complex_level }
                            if = {
                                limit = {
                                    has_variable = building_civilian_industry_pm
                                }
                                set_variable = { production_method@token:building_civilian_industry = building_civilian_industry_pm }
                            }
                            else = {
                                set_temp_variable = { building_token = token:building_civilian_industry }
                                get_latest_production_method = yes
                                set_variable = { production_method@token:building_civilian_industry = pm_temp }
                            }
                        }
                        else = {
                            clear_variable = size@token:building_civilian_industry
                            clear_variable = production_method@token:building_civilian_industry
                        }
                        if = {
                            limit = {
                                check_variable = { building_level@dockyard > 0 }
                            }
                            set_variable = { size@token:building_naval_industry = building_level@dockyard }
                            if = {
                                limit = {
                                    has_variable = building_naval_industry_pm
                                }
                                set_variable = { production_method@token:building_naval_industry = building_naval_industry_pm }
                            }
                            else = {
                                set_temp_variable = { building_token = token:building_naval_industry }
                                get_latest_production_method = yes
                                set_variable = { production_method@token:building_naval_industry = pm_temp }
                            }
                        }
                        else = {
                            clear_variable = size@token:building_naval_industry
                            clear_variable = production_method@token:building_naval_industry
                        }

                        if = {
                            limit = {
                                check_variable = { building_consumer_goods_factory_size > 0 }
                            }
                            set_variable = { size@token:building_consumer_goods_factory = building_consumer_goods_factory_size }
                            if = {
                                limit = {
                                    has_variable = building_consumer_goods_factory_pm
                                }
                                set_variable = { production_method@token:building_consumer_goods_factory = building_consumer_goods_factory_pm }
                            }
                            else = {
                                set_temp_variable = { building_token = token:building_consumer_goods_factory }
                                get_latest_production_method = yes
                                set_variable = { production_method@token:building_consumer_goods_factory = pm_temp }
                            }
                        }
                        else = {
                            clear_variable = size@token:building_consumer_goods_factory
                            clear_variable = production_method@token:building_consumer_goods_factory
                        }
                        if = {
                            limit = {
                                check_variable = { building_luxury_goods_factory_size > 0 }
                            }
                            set_variable = { size@token:building_luxury_goods_factory = building_luxury_goods_factory_size }
                            if = {
                                limit = {
                                    has_variable = building_luxury_goods_factory_pm
                                }
                                set_variable = { production_method@token:building_luxury_goods_factory = building_luxury_goods_factory_pm }
                            }
                            else = {
                                set_temp_variable = { building_token = token:building_luxury_goods_factory }
                                get_latest_production_method = yes
                                set_variable = { production_method@token:building_luxury_goods_factory = pm_temp }
                            }
                        }
                        else = {
                            clear_variable = size@token:building_luxury_goods_factory
                            clear_variable = production_method@token:building_luxury_goods_factory
                        }
                        if = {
                            limit = {
                                check_variable = { building_industrial_goods_factory_size > 0 }
                            }
                            set_variable = { size@token:building_industrial_goods_factory = building_industrial_goods_factory_size }
                            if = {
                                limit = {
                                    has_variable = building_industrial_goods_factory_pm
                                }
                                set_variable = { production_method@token:building_industrial_goods_factory = building_industrial_goods_factory_pm }
                            }
                            else = {
                                set_temp_variable = { building_token = token:building_industrial_goods_factory }
                                get_latest_production_method = yes
                                set_variable = { production_method@token:building_industrial_goods_factory = pm_temp }
                            }
                        }
                        else = {
                            clear_variable = size@token:building_industrial_goods_factory
                            clear_variable = production_method@token:building_industrial_goods_factory
                        }
                        if = {
                            limit = {
                                check_variable = { building_services_building_size > 0 }
                            }
                            set_variable = { size@token:building_services_building = building_services_building_size }
                            if = {
                                limit = {
                                    has_variable = building_services_building_pm
                                }
                                set_variable = { production_method@token:building_services_building = building_services_building_pm }
                            }
                            else = {
                                set_temp_variable = { building_token = token:building_services_building }
                                get_latest_production_method = yes
                                set_variable = { production_method@token:building_services_building = pm_temp }
                            }
                        }
                        else = {
                            clear_variable = size@token:building_services_building
                            clear_variable = production_method@token:building_services_building
                        }
                        if = {
                            limit = {
                                check_variable = { building_power_plant_size > 0 }
                            }
                            set_variable = { size@token:building_power_plant = building_power_plant_size }
                            if = {
                                limit = {
                                    has_variable = building_power_plant_pm
                                }
                                set_variable = { production_method@token:building_power_plant = building_power_plant_pm }
                            }
                            else = {
                                set_temp_variable = { building_token = token:building_power_plant }
                                get_latest_production_method = yes
                                set_variable = { production_method@token:building_power_plant = pm_temp }
                            }
                        }
                        else = {
                            clear_variable = size@token:building_power_plant
                            clear_variable = production_method@token:building_power_plant
                        }
                    #
                    reload_building_array = yes
                    buildings_update = yes
                    building_productivity_sort = yes
                    base_wage_calculation = yes
                #

                r_update_modifiers_state_effects = yes

                #Employment Setup
                    set_variable = { peasants_employed = 0 }
                    set_variable = { laborers_employed = 0 }
                    set_variable = { workers_employed = 0 }
                    set_variable = { professionals_employed = 0 }
                    set_variable = { specialists_employed = 0 }
                    set_variable = { aristocrats_employed = 0 }
                    set_variable = { capitalists_employed = 0 }

                    set_variable = { peasants_workforce = 0 }
                    set_variable = { laborers_workforce = 0 }
                    set_variable = { workers_workforce = 0 }
                    set_variable = { professionals_workforce = 0 }
                    set_variable = { specialists_workforce = 0 }
                    set_variable = { aristocrats_workforce = 0 }
                    set_variable = { capitalists_workforce = 0 }

                    set_temp_variable = { jobs_buildings_temp = non_subs_jobs_buildings }

                    set_temp_variable = { multiplier_temp = 1 }
                    if = {
                        limit = {
                            check_variable = { jobs_buildings_temp > pops_workforce }
                        }
                        set_temp_variable = { multiplier_temp = pops_workforce }
                        divide_temp_variable = { multiplier_temp = jobs_buildings_temp }

                    }

                    set_variable = { laborers_workforce = pops_workforce }
                    if = {
                        limit = {
                            check_variable = { jobs_buildings_temp > 0 }
                        }
                        #Buildings Employ Pops
                        for_each_loop = {
                            array = buildings
                            value = emp_ind_token
                            if = {
                                limit = {
                                    NOT = { check_variable = { emp_ind_token = token:building_subsistence_farm } }
                                    NOT = { check_variable = { emp_ind_token = token:building_rice_paddy } }
                                }

                                set_variable = { peasants_employed@var:emp_ind_token = peasants_jobs@var:emp_ind_token }
                                multiply_variable = { peasants_employed@var:emp_ind_token = multiplier_temp }
                                set_variable = { laborers_employed@var:emp_ind_token = laborers_jobs@var:emp_ind_token }
                                multiply_variable = { laborers_employed@var:emp_ind_token = multiplier_temp }
                                set_variable = { workers_employed@var:emp_ind_token = workers_jobs@var:emp_ind_token }
                                multiply_variable = { workers_employed@var:emp_ind_token = multiplier_temp }
                                set_variable = { professionals_employed@var:emp_ind_token = professionals_jobs@var:emp_ind_token }
                                multiply_variable = { professionals_employed@var:emp_ind_token = multiplier_temp }
                                set_variable = { specialists_employed@var:emp_ind_token = specialists_jobs@var:emp_ind_token }
                                multiply_variable = { specialists_employed@var:emp_ind_token = multiplier_temp }
                                set_variable = { aristocrats_employed@var:emp_ind_token = aristocrats_jobs@var:emp_ind_token }
                                multiply_variable = { aristocrats_employed@var:emp_ind_token = multiplier_temp }
                                set_variable = { capitalists_employed@var:emp_ind_token = capitalists_jobs@var:emp_ind_token }
                                multiply_variable = { capitalists_employed@var:emp_ind_token = multiplier_temp }

                                add_to_variable = { peasants_employed = peasants_employed@var:emp_ind_token }
                                add_to_variable = { laborers_employed = laborers_employed@var:emp_ind_token }
                                add_to_variable = { workers_employed = workers_employed@var:emp_ind_token }
                                add_to_variable = { professionals_employed = professionals_employed@var:emp_ind_token }
                                add_to_variable = { specialists_employed = specialists_employed@var:emp_ind_token }
                                add_to_variable = { aristocrats_employed = aristocrats_employed@var:emp_ind_token }
                                add_to_variable = { capitalists_employed = capitalists_employed@var:emp_ind_token }
                            }
                        }

                        add_to_variable = { peasants_workforce = peasants_employed }
                        add_to_variable = { workers_workforce = workers_employed }
                        add_to_variable = { professionals_workforce = professionals_employed }
                        add_to_variable = { specialists_workforce = specialists_employed }
                        add_to_variable = { aristocrats_workforce = aristocrats_employed }
                        add_to_variable = { capitalists_workforce = capitalists_employed }

                        subtract_from_variable = { laborers_workforce = peasants_workforce }
                        subtract_from_variable = { laborers_workforce = workers_workforce }
                        subtract_from_variable = { laborers_workforce = professionals_workforce }
                        subtract_from_variable = { laborers_workforce = specialists_workforce }
                        subtract_from_variable = { laborers_workforce = aristocrats_workforce }
                        subtract_from_variable = { laborers_workforce = capitalists_workforce }
                    }

                    if = {
                        limit = {
                            check_variable = { jobs@token:building_subsistence_farm > 0 }
                        }
                        set_variable = { peasants_employed@token:building_subsistence_farm = peasants_jobs@token:building_subsistence_farm }
                        set_variable = { aristocrats_employed@token:building_subsistence_farm = aristocrats_jobs@token:building_subsistence_farm }

                        set_temp_variable = { laborers_left_temp = laborers_workforce }
                        subtract_from_temp_variable = { laborers_left_temp = laborers_employed }
                        if = {
                            limit = {
                                check_variable = { laborers_left_temp < 1000 }
                            }
                            set_temp_variable = { multiplier_temp = 100 }
                            if = {
                                limit = {
                                    check_variable = { jobs@token:building_subsistence_farm > laborers_left_temp }
                                }
                                set_temp_variable = { multiplier_temp = laborers_left_temp }
                                multiply_temp_variable = { multiplier_temp = 100 }
                                divide_temp_variable = { multiplier_temp = jobs@token:building_subsistence_farm }
                            }

                            divide_variable = { peasants_employed@token:building_subsistence_farm = 100 }
                            divide_variable = { aristocrats_employed@token:building_subsistence_farm = 100 }
                        }
                        else = {
                            set_temp_variable = { multiplier_temp = 1 }
                            if = {
                                limit = {
                                    check_variable = { jobs@token:building_subsistence_farm > laborers_left_temp }
                                }
                                set_temp_variable = { multiplier_temp = laborers_left_temp }
                                divide_temp_variable = { multiplier_temp = jobs@token:building_subsistence_farm }
                            }
                        }
                        multiply_variable = { peasants_employed@token:building_subsistence_farm = multiplier_temp }
                        multiply_variable = { aristocrats_employed@token:building_subsistence_farm = multiplier_temp }

                        add_to_variable = { peasants_workforce = peasants_employed@token:building_subsistence_farm }
                        add_to_variable = { aristocrats_workforce = aristocrats_employed@token:building_subsistence_farm }
                        subtract_from_variable = { laborers_workforce = peasants_employed@token:building_subsistence_farm }
                        subtract_from_variable = { laborers_workforce = aristocrats_employed@token:building_subsistence_farm }
                    }
                    if = {
                        limit = {
                            check_variable = { jobs@token:building_rice_paddy > 0 }
                        }
                        set_variable = { peasants_employed@token:building_rice_paddy = peasants_jobs@token:building_rice_paddy }
                        set_variable = { aristocrats_employed@token:building_rice_paddy = aristocrats_jobs@token:building_rice_paddy }

                        set_temp_variable = { laborers_left_temp = laborers_workforce }
                        subtract_from_temp_variable = { laborers_left_temp = laborers_employed }
                        if = {
                            limit = {
                                check_variable = { laborers_left_temp < 1000 }
                            }
                            set_temp_variable = { multiplier_temp = 100 }
                            if = {
                                limit = {
                                    check_variable = { jobs@token:building_rice_paddy > laborers_left_temp }
                                }
                                set_temp_variable = { multiplier_temp = laborers_left_temp }
                                multiply_temp_variable = { multiplier_temp = 100 }
                                divide_temp_variable = { multiplier_temp = jobs@token:building_rice_paddy }
                            }

                            divide_variable = { peasants_employed@token:building_rice_paddy = 100 }
                            divide_variable = { aristocrats_employed@token:building_rice_paddy = 100 }
                        }
                        else = {
                            set_temp_variable = { multiplier_temp = 1 }
                            if = {
                                limit = {
                                    check_variable = { jobs@token:building_rice_paddy > laborers_left_temp }
                                }
                                set_temp_variable = { multiplier_temp = laborers_left_temp }
                                divide_temp_variable = { multiplier_temp = jobs@token:building_rice_paddy }
                            }
                        }
                        multiply_variable = { peasants_employed@token:building_rice_paddy = multiplier_temp }
                        multiply_variable = { aristocrats_employed@token:building_rice_paddy = multiplier_temp }

                        add_to_variable = { peasants_workforce = peasants_employed@token:building_rice_paddy }
                        add_to_variable = { aristocrats_workforce = aristocrats_employed@token:building_rice_paddy }
                        subtract_from_variable = { laborers_workforce = peasants_employed@token:building_rice_paddy }
                        subtract_from_variable = { laborers_workforce = aristocrats_employed@token:building_rice_paddy }
                    }

                    if = {
                        limit = {
                            check_variable = { laborers_workforce < laborers_employed }
                        }
                        set_variable = { laborers_workforce = laborers_employed }

                        set_variable = { pops_workforce = slaves_workforce }
                        add_to_variable = { pops_workforce = peasants_workforce }
                        add_to_variable = { pops_workforce = laborers_workforce }
                        add_to_variable = { pops_workforce = workers_workforce }
                        add_to_variable = { pops_workforce = professionals_workforce }
                        add_to_variable = { pops_workforce = specialists_workforce }
                        add_to_variable = { pops_workforce = aristocrats_workforce }
                        add_to_variable = { pops_workforce = capitalists_workforce }
                        add_to_variable = { pops_workforce = bureaucrats_workforce }
                        add_to_variable = { pops_workforce = soldiers_workforce }
                    }

                    buildings_update = yes
                    pops_update = yes

                    for_each_loop = {
                        array = buildings
                        value = emp_ind_token
                        set_variable = { employment_target@var:emp_ind_token = employment_percentage@var:emp_ind_token }
                    }

		            #Lit/Schooling/Education
                    set_temp_variable = { literate_pops_cap = pops_workforce }
                    multiply_temp_variable = { literate_pops_cap = pops_literacy_percentage }
                    divide_temp_variable = { literate_pops_cap = 100 }

                    set_temp_variable = { literate_pops = workers_workforce }
                    add_to_temp_variable = { literate_pops = professionals_workforce }
                    add_to_temp_variable = { literate_pops = specialists_workforce }
                    add_to_temp_variable = { literate_pops = aristocrats_workforce }
                    add_to_temp_variable = { literate_pops = capitalists_workforce }
                    add_to_temp_variable = { literate_pops = bureaucrats_workforce }

                    set_temp_variable = { schooled_pops_cap = pops_workforce }
                    multiply_temp_variable = { schooled_pops_cap = pops_schooling_percentage }
                    divide_temp_variable = { schooled_pops_cap = 100 }

                    set_temp_variable = { schooled_pops = professionals_workforce }
                    add_to_temp_variable = { schooled_pops = aristocrats_workforce }
                    add_to_temp_variable = { schooled_pops = capitalists_workforce }
                    add_to_temp_variable = { schooled_pops = specialists_workforce }

                    set_temp_variable = { educated_pops_cap = pops_workforce }
                    multiply_temp_variable = { educated_pops_cap = pops_education_percentage }
                    divide_temp_variable = { educated_pops_cap = 100 }

                    set_temp_variable = { educated_pops = specialists_workforce }

                    if = {
                        limit = {
                            check_variable = { educated_pops > educated_pops_cap }
                        }
                        set_variable = { pops_education_percentage = educated_pops }
                        divide_variable = { pops_education_percentage = pops_workforce }
                        multiply_variable = { pops_education_percentage = 100 }
                    }
                    if = {
                        limit = {
                            check_variable = { schooled_pops > schooled_pops_cap }
                        }
                        set_variable = { pops_schooling_percentage = schooled_pops }
                        divide_variable = { pops_schooling_percentage = pops_workforce }
                        multiply_variable = { pops_schooling_percentage = 100 }
                    }
                    if = {
                        limit = {
                            check_variable = { literate_pops > literate_pops_cap }
                        }
                        set_variable = { pops_literacy_percentage = literate_pops }
                        divide_variable = { pops_literacy_percentage = pops_workforce }
                        multiply_variable = { pops_literacy_percentage = 100 }
                    }
                

                calc_industrial_capacity = yes
                buildings_update = yes

                #Standard of Living Setup
                    calculate_pop_needs = yes
                    pops_update = yes

                    #Slaves
                        set_temp_variable = { earnings_temp = slaves_earnings }
                        divide_temp_variable = { earnings_temp = slaves }
                        for_each_loop = {
                            array = global.sol_cost
                            index = sol_temp
                            value = col_temp
                            break = b

                            if = {
                                limit = {
                                    check_variable = { earnings_temp < col_temp }
                                }
                                set_variable = { slaves_sol = sol_temp }
                                set_temp_variable = { b = 1 }
                            }
                        }
                    #
                    #Peasants
                        set_temp_variable = { earnings_temp = peasants_earnings }
                        divide_temp_variable = { earnings_temp = peasants }
                        for_each_loop = {
                            array = global.sol_cost
                            index = sol_temp
                            value = col_temp
                            break = b

                            if = {
                                limit = {
                                    check_variable = { earnings_temp < col_temp }
                                }
                                set_variable = { peasants_sol = sol_temp }
                                set_temp_variable = { b = 1 }
                            }
                        }
                    #
                    #Laborers
                        set_temp_variable = { earnings_temp = laborers_earnings }
                        divide_temp_variable = { earnings_temp = laborers }
                        for_each_loop = {
                            array = global.sol_cost
                            index = sol_temp
                            value = col_temp
                            break = b

                            if = {
                                limit = {
                                    check_variable = { earnings_temp < col_temp }
                                }
                                set_variable = { laborers_sol = sol_temp }
                                set_temp_variable = { b = 1 }
                            }
                        }
                    #
                    #Workers
                        set_temp_variable = { earnings_temp = workers_earnings }
                        divide_temp_variable = { earnings_temp = workers }
                        for_each_loop = {
                            array = global.sol_cost
                            index = sol_temp
                            value = col_temp
                            break = b

                            if = {
                                limit = {
                                    check_variable = { earnings_temp < col_temp }
                                }
                                set_variable = { workers_sol = sol_temp }
                                set_temp_variable = { b = 1 }
                            }
                        }
                    #
                    #Professionals
                        set_temp_variable = { earnings_temp = professionals_earnings }
                        divide_temp_variable = { earnings_temp = professionals }
                        for_each_loop = {
                            array = global.sol_cost
                            index = sol_temp
                            value = col_temp
                            break = b

                            if = {
                                limit = {
                                    check_variable = { earnings_temp < col_temp }
                                }
                                set_variable = { professionals_sol = sol_temp }
                                set_temp_variable = { b = 1 }
                            }
                        }
                    #
                    #Specialists
                        set_temp_variable = { earnings_temp = specialists_earnings }
                        divide_temp_variable = { earnings_temp = specialists }
                        for_each_loop = {
                            array = global.sol_cost
                            index = sol_temp
                            value = col_temp
                            break = b

                            if = {
                                limit = {
                                    check_variable = { earnings_temp < col_temp }
                                }
                                set_variable = { specialists_sol = sol_temp }
                                set_temp_variable = { b = 1 }
                            }
                        }
                    #
                    #Aristocrats
                        set_temp_variable = { earnings_temp = aristocrats_earnings }
                        divide_temp_variable = { earnings_temp = aristocrats }
                        for_each_loop = {
                            array = global.sol_cost
                            index = sol_temp
                            value = col_temp
                            break = b

                            if = {
                                limit = {
                                    check_variable = { earnings_temp < col_temp }
                                }
                                set_variable = { aristocrats_sol = sol_temp }
                                set_temp_variable = { b = 1 }
                            }
                        }
                    #
                    #Capitalists
                        set_temp_variable = { earnings_temp = capitalists_earnings }
                        divide_temp_variable = { earnings_temp = capitalists }
                        for_each_loop = {
                            array = global.sol_cost
                            index = sol_temp
                            value = col_temp
                            break = b

                            if = {
                                limit = {
                                    check_variable = { earnings_temp < col_temp }
                                }
                                set_variable = { capitalists_sol = sol_temp }
                                set_temp_variable = { b = 1 }
                            }
                        }
                    #
                    #Bureaucrats
                        set_temp_variable = { earnings_temp = bureaucrats_earnings }
                        divide_temp_variable = { earnings_temp = bureaucrats }
                        for_each_loop = {
                            array = global.sol_cost
                            index = sol_temp
                            value = col_temp
                            break = b

                            if = {
                                limit = {
                                    check_variable = { earnings_temp < col_temp }
                                }
                                set_variable = { bureaucrats_sol = sol_temp }
                                set_temp_variable = { b = 1 }
                            }
                        }
                    #
                    #Soldiers
                        set_temp_variable = { earnings_temp = soldiers_earnings }
                        divide_temp_variable = { earnings_temp = soldiers }
                        for_each_loop = {
                            array = global.sol_cost
                            index = sol_temp
                            value = col_temp
                            break = b

                            if = {
                                limit = {
                                    check_variable = { earnings_temp < col_temp }
                                }
                                set_variable = { soldiers_sol = sol_temp }
                                set_temp_variable = { b = 1 }
                            }
                        }
                    #

                    calculate_pop_needs = yes
                #

                calc_industrial_capacity = yes
            }

            calc_shipping_capacity = yes
            calc_military_resources = yes
            calc_demand = yes
            calc_supply = yes
            get_resource_prices = yes

            # Trade
                for_each_loop = {
                    array = global.military_resource_token_array
                    value = r_token

                    if = {
                        limit = {
                            NOT = { is_in_array = { global.non_tradeable_resources = r_token } }
                            check_variable = { resource@var:r_token < 0 }
                        }
                        set_variable = { offers@var:r_token = resource@var:r_token }
                        multiply_variable = { offers@var:r_token = -1 }
                        round_variable = offers@var:r_token
                    }
                }
                for_each_loop = {
                    array = global.resource_token_array
                    value = r_token

                    if = {
                        limit = {
                            NOT = { is_in_array = { global.non_tradeable_resources = r_token } }
                        }
                        set_variable = { offers@var:r_token = need@var:r_token }
                        subtract_from_variable = { offers@var:r_token = production@var:r_token }
                        round_variable = offers@var:r_token
                    }
                }
                calc_shipping_capacity_use = yes
                if = {
                    limit = {
                        check_variable = { shipping_efficiency < 1 }
                    }
                    for_each_loop = {
                        array = global.resource_token_array
                        value = r_token

                        multiply_variable = { offers@var:r_token = shipping_efficiency }
                        round_variable = offers@var:r_token
                    }
                }
                calc_shipping_capacity_use = yes
            #
        }
        every_country = {
            trade_update = yes

            set_variable = { gdp_amount = 0 }
            every_controlled_state = {
                for_each_loop = {
                    array = global.resource_token_array
                    value = r_type
                    set_variable = { trade_amount@var:r_type = demand@var:r_type }
                    subtract_from_variable = { trade_amount@var:r_type = production@var:r_type }

                    set_variable = { trade_value@var:r_type = trade_amount@var:r_type }
                    multiply_variable = { trade_value@var:r_type = price@var:r_type }
                    multiply_variable = { trade_value@var:r_type = -1 }
                }

                pops_update = yes
                buildings_update = yes
                create_pie_chart_pop_type = yes
                gdp_update = yes
				refresh_construction_list = yes
                add_to_variable = { PREV.gdp_amount = gdp_amount }
                clear_array = gdp_graph_amount_array
                clear_array = gdp_graph_color_array
                clear_array = gdp_graph_y_array
            }

            update_country_pop_stats = yes

            taxes_update = yes
            spending_update = yes
        }

    }

    country_recalc = {
        # Used for when auto-completing buildings for setup
        every_controlled_state = {
            r_update_modifiers_state_effects = yes

            reload_building_array = yes
            buildings_update = yes

            # NOTE: Copy and pasted from r_reset
            #Employment Setup
                set_variable = { peasants_employed = 0 }
                set_variable = { laborers_employed = 0 }
                set_variable = { workers_employed = 0 }
                set_variable = { professionals_employed = 0 }
                set_variable = { specialists_employed = 0 }
                set_variable = { aristocrats_employed = 0 }
                set_variable = { capitalists_employed = 0 }

                set_variable = { peasants_workforce = 0 }
                set_variable = { laborers_workforce = 0 }
                set_variable = { workers_workforce = 0 }
                set_variable = { professionals_workforce = 0 }
                set_variable = { specialists_workforce = 0 }
                set_variable = { aristocrats_workforce = 0 }
                set_variable = { capitalists_workforce = 0 }

                set_temp_variable = { jobs_buildings_temp = non_subs_jobs_buildings }

                set_temp_variable = { multiplier_temp = 1 }
                if = {
                    limit = {
                        check_variable = { jobs_buildings_temp > pops_workforce }
                    }
                    set_temp_variable = { multiplier_temp = pops_workforce }
                    divide_temp_variable = { multiplier_temp = jobs_buildings_temp }

                }

                set_variable = { laborers_workforce = pops_workforce }
                if = {
                    limit = {
                        check_variable = { jobs_buildings_temp > 0 }
                    }
                    #Buildings Employ Pops
                    for_each_loop = {
                        array = buildings
                        value = emp_ind_token
                        if = {
                            limit = {
                                NOT = { check_variable = { emp_ind_token = token:building_subsistence_farm } }
                                NOT = { check_variable = { emp_ind_token = token:building_rice_paddy } }
                            }

                            set_variable = { peasants_employed@var:emp_ind_token = peasants_jobs@var:emp_ind_token }
                            multiply_variable = { peasants_employed@var:emp_ind_token = multiplier_temp }
                            set_variable = { laborers_employed@var:emp_ind_token = laborers_jobs@var:emp_ind_token }
                            multiply_variable = { laborers_employed@var:emp_ind_token = multiplier_temp }
                            set_variable = { workers_employed@var:emp_ind_token = workers_jobs@var:emp_ind_token }
                            multiply_variable = { workers_employed@var:emp_ind_token = multiplier_temp }
                            set_variable = { professionals_employed@var:emp_ind_token = professionals_jobs@var:emp_ind_token }
                            multiply_variable = { professionals_employed@var:emp_ind_token = multiplier_temp }
                            set_variable = { specialists_employed@var:emp_ind_token = specialists_jobs@var:emp_ind_token }
                            multiply_variable = { specialists_employed@var:emp_ind_token = multiplier_temp }
                            set_variable = { aristocrats_employed@var:emp_ind_token = aristocrats_jobs@var:emp_ind_token }
                            multiply_variable = { aristocrats_employed@var:emp_ind_token = multiplier_temp }
                            set_variable = { capitalists_employed@var:emp_ind_token = capitalists_jobs@var:emp_ind_token }
                            multiply_variable = { capitalists_employed@var:emp_ind_token = multiplier_temp }

                            add_to_variable = { peasants_employed = peasants_employed@var:emp_ind_token }
                            add_to_variable = { laborers_employed = laborers_employed@var:emp_ind_token }
                            add_to_variable = { workers_employed = workers_employed@var:emp_ind_token }
                            add_to_variable = { professionals_employed = professionals_employed@var:emp_ind_token }
                            add_to_variable = { specialists_employed = specialists_employed@var:emp_ind_token }
                            add_to_variable = { aristocrats_employed = aristocrats_employed@var:emp_ind_token }
                            add_to_variable = { capitalists_employed = capitalists_employed@var:emp_ind_token }
                        }
                    }

                    add_to_variable = { peasants_workforce = peasants_employed }
                    add_to_variable = { workers_workforce = workers_employed }
                    add_to_variable = { professionals_workforce = professionals_employed }
                    add_to_variable = { specialists_workforce = specialists_employed }
                    add_to_variable = { aristocrats_workforce = aristocrats_employed }
                    add_to_variable = { capitalists_workforce = capitalists_employed }

                    subtract_from_variable = { laborers_workforce = peasants_workforce }
                    subtract_from_variable = { laborers_workforce = workers_workforce }
                    subtract_from_variable = { laborers_workforce = professionals_workforce }
                    subtract_from_variable = { laborers_workforce = specialists_workforce }
                    subtract_from_variable = { laborers_workforce = aristocrats_workforce }
                    subtract_from_variable = { laborers_workforce = capitalists_workforce }
                }

                if = {
                    limit = {
                        check_variable = { jobs@token:building_subsistence_farm > 0 }
                    }
                    set_variable = { peasants_employed@token:building_subsistence_farm = peasants_jobs@token:building_subsistence_farm }
                    set_variable = { aristocrats_employed@token:building_subsistence_farm = aristocrats_jobs@token:building_subsistence_farm }

                    set_temp_variable = { laborers_left_temp = laborers_workforce }
                    subtract_from_temp_variable = { laborers_left_temp = laborers_employed }
                    if = {
                        limit = {
                            check_variable = { laborers_left_temp < 1000 }
                        }
                        set_temp_variable = { multiplier_temp = 100 }
                        if = {
                            limit = {
                                check_variable = { jobs@token:building_subsistence_farm > laborers_left_temp }
                            }
                            set_temp_variable = { multiplier_temp = laborers_left_temp }
                            multiply_temp_variable = { multiplier_temp = 100 }
                            divide_temp_variable = { multiplier_temp = jobs@token:building_subsistence_farm }
                        }

                        divide_variable = { peasants_employed@token:building_subsistence_farm = 100 }
                        divide_variable = { aristocrats_employed@token:building_subsistence_farm = 100 }
                    }
                    else = {
                        set_temp_variable = { multiplier_temp = 1 }
                        if = {
                            limit = {
                                check_variable = { jobs@token:building_subsistence_farm > laborers_left_temp }
                            }
                            set_temp_variable = { multiplier_temp = laborers_left_temp }
                            divide_temp_variable = { multiplier_temp = jobs@token:building_subsistence_farm }
                        }
                    }
                    multiply_variable = { peasants_employed@token:building_subsistence_farm = multiplier_temp }
                    multiply_variable = { aristocrats_employed@token:building_subsistence_farm = multiplier_temp }

                    add_to_variable = { peasants_workforce = peasants_employed@token:building_subsistence_farm }
                    add_to_variable = { aristocrats_workforce = aristocrats_employed@token:building_subsistence_farm }
                    subtract_from_variable = { laborers_workforce = peasants_employed@token:building_subsistence_farm }
                    subtract_from_variable = { laborers_workforce = aristocrats_employed@token:building_subsistence_farm }
                }
                if = {
                    limit = {
                        check_variable = { jobs@token:building_rice_paddy > 0 }
                    }
                    set_variable = { peasants_employed@token:building_rice_paddy = peasants_jobs@token:building_rice_paddy }
                    set_variable = { aristocrats_employed@token:building_rice_paddy = aristocrats_jobs@token:building_rice_paddy }

                    set_temp_variable = { laborers_left_temp = laborers_workforce }
                    subtract_from_temp_variable = { laborers_left_temp = laborers_employed }
                    if = {
                        limit = {
                            check_variable = { laborers_left_temp < 1000 }
                        }
                        set_temp_variable = { multiplier_temp = 100 }
                        if = {
                            limit = {
                                check_variable = { jobs@token:building_rice_paddy > laborers_left_temp }
                            }
                            set_temp_variable = { multiplier_temp = laborers_left_temp }
                            multiply_temp_variable = { multiplier_temp = 100 }
                            divide_temp_variable = { multiplier_temp = jobs@token:building_rice_paddy }
                        }

                        divide_variable = { peasants_employed@token:building_rice_paddy = 100 }
                        divide_variable = { aristocrats_employed@token:building_rice_paddy = 100 }
                    }
                    else = {
                        set_temp_variable = { multiplier_temp = 1 }
                        if = {
                            limit = {
                                check_variable = { jobs@token:building_rice_paddy > laborers_left_temp }
                            }
                            set_temp_variable = { multiplier_temp = laborers_left_temp }
                            divide_temp_variable = { multiplier_temp = jobs@token:building_rice_paddy }
                        }
                    }
                    multiply_variable = { peasants_employed@token:building_rice_paddy = multiplier_temp }
                    multiply_variable = { aristocrats_employed@token:building_rice_paddy = multiplier_temp }

                    add_to_variable = { peasants_workforce = peasants_employed@token:building_rice_paddy }
                    add_to_variable = { aristocrats_workforce = aristocrats_employed@token:building_rice_paddy }
                    subtract_from_variable = { laborers_workforce = peasants_employed@token:building_rice_paddy }
                    subtract_from_variable = { laborers_workforce = aristocrats_employed@token:building_rice_paddy }
                }

                if = {
                    limit = {
                        check_variable = { laborers_workforce < laborers_employed }
                    }
                    set_variable = { laborers_workforce = laborers_employed }

                    set_variable = { pops_workforce = slaves_workforce }
                    add_to_variable = { pops_workforce = peasants_workforce }
                    add_to_variable = { pops_workforce = laborers_workforce }
                    add_to_variable = { pops_workforce = workers_workforce }
                    add_to_variable = { pops_workforce = professionals_workforce }
                    add_to_variable = { pops_workforce = specialists_workforce }
                    add_to_variable = { pops_workforce = aristocrats_workforce }
                    add_to_variable = { pops_workforce = capitalists_workforce }
                    add_to_variable = { pops_workforce = bureaucrats_workforce }
                    add_to_variable = { pops_workforce = soldiers_workforce }
                }

                buildings_update = yes
                for_each_loop = {
                    array = buildings
                    value = emp_ind_token
                    set_variable = { employment_target@var:emp_ind_token = employment_percentage@var:emp_ind_token }
                }
                pops_update = yes

                #Lit/Schooling/Education
                set_temp_variable = { literate_pops_cap = pops_workforce }
                multiply_temp_variable = { literate_pops_cap = pops_literacy_percentage }
                divide_temp_variable = { literate_pops_cap = 100 }

                set_temp_variable = { literate_pops = workers_workforce }
                add_to_temp_variable = { literate_pops = professionals_workforce }
                add_to_temp_variable = { literate_pops = specialists_workforce }
                add_to_temp_variable = { literate_pops = aristocrats_workforce }
                add_to_temp_variable = { literate_pops = capitalists_workforce }
                add_to_temp_variable = { literate_pops = bureaucrats_workforce }

                set_temp_variable = { schooled_pops_cap = pops_workforce }
                multiply_temp_variable = { schooled_pops_cap = pops_schooling_percentage }
                divide_temp_variable = { schooled_pops_cap = 100 }

                set_temp_variable = { schooled_pops = professionals_workforce }
                add_to_temp_variable = { schooled_pops = aristocrats_workforce }
                add_to_temp_variable = { schooled_pops = capitalists_workforce }
                add_to_temp_variable = { schooled_pops = specialists_workforce }

                set_temp_variable = { educated_pops_cap = pops_workforce }
                multiply_temp_variable = { educated_pops_cap = pops_education_percentage }
                divide_temp_variable = { educated_pops_cap = 100 }

                set_temp_variable = { educated_pops = specialists_workforce }

                if = {
                    limit = {
                        check_variable = { educated_pops > educated_pops_cap }
                    }
                    set_variable = { pops_education_percentage = educated_pops }
                    divide_variable = { pops_education_percentage = pops_workforce }
                    multiply_variable = { pops_education_percentage = 100 }
                }
                if = {
                    limit = {
                        check_variable = { schooled_pops > schooled_pops_cap }
                    }
                    set_variable = { pops_schooling_percentage = schooled_pops }
                    divide_variable = { pops_schooling_percentage = pops_workforce }
                    multiply_variable = { pops_schooling_percentage = 100 }
                }
                if = {
                    limit = {
                        check_variable = { literate_pops > literate_pops_cap }
                    }
                    set_variable = { pops_literacy_percentage = literate_pops }
                    divide_variable = { pops_literacy_percentage = pops_workforce }
                    multiply_variable = { pops_literacy_percentage = 100 }
                }
            #

            #Standard of Living Setup
                for_each_loop = {
                    array = buildings
                    value = bu_token

                    set_temp_variable = { prod_cap = productivity@var:bu_token }
                    multiply_temp_variable = { prod_cap = 0.95 }
                    if = {
                        limit = {
                            check_variable = { prod_cap > 0 }
                        }
                        set_temp_variable = { building_token = bu_token }
                        set_temp_variable = { wage_change_temp = prod_cap }
                        subtract_from_temp_variable = { wage_change_temp = average_wage@var:building_token }
                        change_building_avg_wage = yes
                    }
                    building_update = yes
                }
                calculate_pop_needs = yes
                pops_update = yes

                #Slaves
                    set_temp_variable = { earnings_temp = slaves_earnings }
                    divide_temp_variable = { earnings_temp = slaves }
                    for_each_loop = {
                        array = global.sol_cost
                        index = sol_temp
                        value = col_temp
                        break = b

                        if = {
                            limit = {
                                check_variable = { earnings_temp < col_temp }
                            }
                            set_variable = { slaves_sol = sol_temp }
                            set_temp_variable = { b = 1 }
                        }
                    }
                #
                #Peasants
                    set_temp_variable = { earnings_temp = peasants_earnings }
                    divide_temp_variable = { earnings_temp = peasants }
                    for_each_loop = {
                        array = global.sol_cost
                        index = sol_temp
                        value = col_temp
                        break = b

                        if = {
                            limit = {
                                check_variable = { earnings_temp < col_temp }
                            }
                            set_variable = { peasants_sol = sol_temp }
                            set_temp_variable = { b = 1 }
                        }
                    }
                #
                #Laborers
                    set_temp_variable = { earnings_temp = laborers_earnings }
                    divide_temp_variable = { earnings_temp = laborers }
                    for_each_loop = {
                        array = global.sol_cost
                        index = sol_temp
                        value = col_temp
                        break = b

                        if = {
                            limit = {
                                check_variable = { earnings_temp < col_temp }
                            }
                            set_variable = { laborers_sol = sol_temp }
                            set_temp_variable = { b = 1 }
                        }
                    }
                #
                #Workers
                    set_temp_variable = { earnings_temp = workers_earnings }
                    divide_temp_variable = { earnings_temp = workers }
                    for_each_loop = {
                        array = global.sol_cost
                        index = sol_temp
                        value = col_temp
                        break = b

                        if = {
                            limit = {
                                check_variable = { earnings_temp < col_temp }
                            }
                            set_variable = { workers_sol = sol_temp }
                            set_temp_variable = { b = 1 }
                        }
                    }
                #
                #Professionals
                    set_temp_variable = { earnings_temp = professionals_earnings }
                    divide_temp_variable = { earnings_temp = professionals }
                    for_each_loop = {
                        array = global.sol_cost
                        index = sol_temp
                        value = col_temp
                        break = b

                        if = {
                            limit = {
                                check_variable = { earnings_temp < col_temp }
                            }
                            set_variable = { professionals_sol = sol_temp }
                            set_temp_variable = { b = 1 }
                        }
                    }
                #
                #Specialists
                    set_temp_variable = { earnings_temp = specialists_earnings }
                    divide_temp_variable = { earnings_temp = specialists }
                    for_each_loop = {
                        array = global.sol_cost
                        index = sol_temp
                        value = col_temp
                        break = b

                        if = {
                            limit = {
                                check_variable = { earnings_temp < col_temp }
                            }
                            set_variable = { specialists_sol = sol_temp }
                            set_temp_variable = { b = 1 }
                        }
                    }
                #
                #Aristocrats
                    set_temp_variable = { earnings_temp = aristocrats_earnings }
                    divide_temp_variable = { earnings_temp = aristocrats }
                    for_each_loop = {
                        array = global.sol_cost
                        index = sol_temp
                        value = col_temp
                        break = b

                        if = {
                            limit = {
                                check_variable = { earnings_temp < col_temp }
                            }
                            set_variable = { aristocrats_sol = sol_temp }
                            set_temp_variable = { b = 1 }
                        }
                    }
                #
                #Capitalists
                    set_temp_variable = { earnings_temp = capitalists_earnings }
                    divide_temp_variable = { earnings_temp = capitalists }
                    for_each_loop = {
                        array = global.sol_cost
                        index = sol_temp
                        value = col_temp
                        break = b

                        if = {
                            limit = {
                                check_variable = { earnings_temp < col_temp }
                            }
                            set_variable = { capitalists_sol = sol_temp }
                            set_temp_variable = { b = 1 }
                        }
                    }
                #
                #Bureaucrats
                    set_temp_variable = { earnings_temp = bureaucrats_earnings }
                    divide_temp_variable = { earnings_temp = bureaucrats }
                    for_each_loop = {
                        array = global.sol_cost
                        index = sol_temp
                        value = col_temp
                        break = b

                        if = {
                            limit = {
                                check_variable = { earnings_temp < col_temp }
                            }
                            set_variable = { bureaucrats_sol = sol_temp }
                            set_temp_variable = { b = 1 }
                        }
                    }
                #
                #Soldiers
                    set_temp_variable = { earnings_temp = soldiers_earnings }
                    divide_temp_variable = { earnings_temp = soldiers }
                    for_each_loop = {
                        array = global.sol_cost
                        index = sol_temp
                        value = col_temp
                        break = b

                        if = {
                            limit = {
                                check_variable = { earnings_temp < col_temp }
                            }
                            set_variable = { soldiers_sol = sol_temp }
                            set_temp_variable = { b = 1 }
                        }
                    }
                #

                calculate_pop_needs = yes
            #

            calc_industrial_capacity = yes
        }

        calc_shipping_capacity = yes
        calc_military_resources = yes
        calc_demand = yes
        calc_supply = yes
        get_resource_prices = yes

        set_variable = { gdp_amount = 0 }
        every_controlled_state = {
            for_each_loop = {
                array = global.resource_token_array
                value = r_type
                set_variable = { trade_amount@var:r_type = demand@var:r_type }
                subtract_from_variable = { trade_amount@var:r_type = production@var:r_type }

                set_variable = { trade_value@var:r_type = trade_amount@var:r_type }
                multiply_variable = { trade_value@var:r_type = price@var:r_type }
                multiply_variable = { trade_value@var:r_type = -1 }
            }

            pops_update = yes
            buildings_update = yes
            create_pie_chart_pop_type = yes
            gdp_update = yes
            add_to_variable = { PREV.gdp_amount = gdp_amount }
            clear_array = gdp_graph_amount_array
            clear_array = gdp_graph_color_array
            clear_array = gdp_graph_y_array
        }

        update_country_pop_stats = yes

        taxes_update = yes
        spending_update = yes
    }

#Pops
    on_monthly_pops = {
        #Finances
            # Slaves
                if = {
                    limit = {
                        check_variable = { slaves_workforce > 0 }
                    }
                    set_temp_variable = { money_temp = slaves_earnings }
                    subtract_from_temp_variable = { money_temp = slaves_spending }
                    if = {
                        limit = {
                            check_variable = { money_temp > 0 }
                        }
                        #Put money in the bank
                    }

                    #Standard of Living Progress
                    set_temp_variable = { net_target_temp = slaves_spending_target }
                    subtract_from_temp_variable = { net_target_temp = slaves_spending }
                    divide_temp_variable = { net_target_temp = slaves_needs_spending }
                    multiply_temp_variable = { net_target_temp = 10 }
                    if = {
                        limit = {
                            check_variable = { slaves_sol > 1 }
                        }
                        add_to_variable = { slaves_sol_progress = net_target_temp }
                    }
                    else_if = {
                        limit = {
                            check_variable = { slaves_sol_progress < 0 }
                        }
                        set_variable = { slaves_sol_progress = 0 }
                    }

                    #Standard of Living Changes
                    if = {
                        limit = {
                            check_variable = { slaves_sol_progress > 0.999 }
                        }
                        if = {
                            limit = {
                                check_variable = { slaves_sol_progress > 5 }
                            }
                            set_variable = { slaves_sol_progress = 5 }
                        }
                        set_temp_variable = { progression_temp = slaves_sol_progress }
                        subtract_from_temp_variable = { progression_temp = 0.5 }
                        round_temp_variable = progression_temp

                        subtract_from_variable = { slaves_sol_progress = progression_temp }
                        add_to_variable = { slaves_sol = progression_temp }
                    }
                    else_if = {
                        limit = {
                            check_variable = { slaves_sol_progress < -0.999 }
                        }
                        if = {
                            limit = {
                                check_variable = { regression_temp < -5 }
                            }
                            set_variable = { slaves_sol_progress = -5 }
                        }
                        set_temp_variable = { regression_temp = slaves_sol_progress }
                        add_to_temp_variable = { regression_temp = 0.5 }
                        round_temp_variable = regression_temp

                        subtract_from_variable = { slaves_sol_progress = regression_temp }
                        add_to_variable = { slaves_sol = regression_temp }
                    }

                    if = {
                        limit = {
                            check_variable = { slaves_sol < 1 }
                        }
                        set_variable = { slaves_sol = 1 }
                    }
                }
                else = {
                    set_variable = { slaves_spending = 0 }
                    set_variable = { slaves_income_tax_spending = 0 }
                    set_variable = { slaves_sales_tax_spending = 0 }
                    set_variable = { slaves_debt_interest_spending = 0 }

                    set_variable = { slaves_sol_progress = 0 }
                }
            #
            # Peasants
                if = {
                    limit = {
                        check_variable = { peasants_workforce > 0 }
                    }
                    set_temp_variable = { money_temp = peasants_earnings }
                    subtract_from_temp_variable = { money_temp = peasants_spending }
                    if = {
                        limit = {
                            check_variable = { money_temp > 0 }
                        }
                        #Put money in the bank
                    }

                    #Standard of Living Progress
                    set_temp_variable = { net_target_temp = peasants_spending_target }
                    subtract_from_temp_variable = { net_target_temp = peasants_spending }
                    divide_temp_variable = { net_target_temp = peasants_needs_spending }
                    multiply_temp_variable = { net_target_temp = 10 }
                    if = {
                        limit = {
                            check_variable = { peasants_sol > 1 }
                        }
                        add_to_variable = { peasants_sol_progress = net_target_temp }
                    }
                    else_if = {
                        limit = {
                            check_variable = { peasants_sol_progress < 0 }
                        }
                        set_variable = { peasants_sol_progress = 0 }
                    }

                    #Standard of Living Changes
                    if = {
                        limit = {
                            check_variable = { peasants_sol_progress > 0.999 }
                        }
                        if = {
                            limit = {
                                check_variable = { peasants_sol_progress > 5 }
                            }
                            set_variable = { peasants_sol_progress = 5 }
                        }
                        set_temp_variable = { progression_temp = peasants_sol_progress }
                        subtract_from_temp_variable = { progression_temp = 0.5 }
                        round_temp_variable = progression_temp

                        subtract_from_variable = { peasants_sol_progress = progression_temp }
                        add_to_variable = { peasants_sol = progression_temp }
                    }
                    else_if = {
                        limit = {
                            check_variable = { peasants_sol_progress < -0.999 }
                        }
                        if = {
                            limit = {
                                check_variable = { regression_temp < -5 }
                            }
                            set_variable = { peasants_sol_progress = -5 }
                        }
                        set_temp_variable = { regression_temp = peasants_sol_progress }
                        add_to_temp_variable = { regression_temp = 0.5 }
                        round_temp_variable = regression_temp

                        subtract_from_variable = { peasants_sol_progress = regression_temp }
                        add_to_variable = { peasants_sol = regression_temp }
                    }

                    if = {
                        limit = {
                            check_variable = { peasants_sol < 1 }
                        }
                        set_variable = { peasants_sol = 1 }
                    }
                }
                else = {
                    set_variable = { peasants_spending = 0 }
                    set_variable = { peasants_income_tax_spending = 0 }
                    set_variable = { peasants_sales_tax_spending = 0 }
                    set_variable = { peasants_debt_interest_spending = 0 }

                    set_variable = { peasants_sol_progress = 0 }
                }
            #
            # Laborers
                if = {
                    limit = {
                        check_variable = { laborers_workforce > 0 }
                    }
                    set_temp_variable = { money_temp = laborers_earnings }
                    subtract_from_temp_variable = { money_temp = laborers_spending }
                    if = {
                        limit = {
                            check_variable = { money_temp > 0 }
                        }
                        #Put money in the bank
                    }

                    #Standard of Living Progress
                    set_temp_variable = { net_target_temp = laborers_spending_target }
                    subtract_from_temp_variable = { net_target_temp = laborers_spending }
                    divide_temp_variable = { net_target_temp = laborers_needs_spending }
                    multiply_temp_variable = { net_target_temp = 10 }
                    if = {
                        limit = {
                            check_variable = { laborers_sol > 1 }
                        }
                        add_to_variable = { laborers_sol_progress = net_target_temp }
                    }
                    else_if = {
                        limit = {
                            check_variable = { laborers_sol_progress < 0 }
                        }
                        set_variable = { laborers_sol_progress = 0 }
                    }

                    #Standard of Living Changes
                    if = {
                        limit = {
                            check_variable = { laborers_sol_progress > 0.999 }
                        }
                        if = {
                            limit = {
                                check_variable = { laborers_sol_progress > 5 }
                            }
                            set_variable = { laborers_sol_progress = 5 }
                        }
                        set_temp_variable = { progression_temp = laborers_sol_progress }
                        subtract_from_temp_variable = { progression_temp = 0.5 }
                        round_temp_variable = progression_temp

                        subtract_from_variable = { laborers_sol_progress = progression_temp }
                        add_to_variable = { laborers_sol = progression_temp }
                    }
                    else_if = {
                        limit = {
                            check_variable = { laborers_sol_progress < -0.999 }
                        }
                        if = {
                            limit = {
                                check_variable = { regression_temp < -5 }
                            }
                            set_variable = { laborers_sol_progress = -5 }
                        }
                        set_temp_variable = { regression_temp = laborers_sol_progress }
                        add_to_temp_variable = { regression_temp = 0.5 }
                        round_temp_variable = regression_temp

                        subtract_from_variable = { laborers_sol_progress = regression_temp }
                        add_to_variable = { laborers_sol = regression_temp }
                    }

                    if = {
                        limit = {
                            check_variable = { laborers_sol < 1 }
                        }
                        set_variable = { laborers_sol = 1 }
                    }
                }
                else = {
                    set_variable = { laborers_spending = 0 }
                    set_variable = { laborers_income_tax_spending = 0 }
                    set_variable = { laborers_sales_tax_spending = 0 }
                    set_variable = { laborers_debt_interest_spending = 0 }

                    set_variable = { laborers_sol_progress = 0 }
                }
            #
            # Workers
                if = {
                    limit = {
                        check_variable = { workers_workforce > 0 }
                    }
                    set_temp_variable = { money_temp = workers_earnings }
                    subtract_from_temp_variable = { money_temp = workers_spending }
                    if = {
                        limit = {
                            check_variable = { money_temp > 0 }
                        }
                        #Put money in the bank
                    }

                    #Standard of Living Progress
                    set_temp_variable = { net_target_temp = workers_spending_target }
                    subtract_from_temp_variable = { net_target_temp = workers_spending }
                    divide_temp_variable = { net_target_temp = workers_needs_spending }
                    multiply_temp_variable = { net_target_temp = 10 }
                    if = {
                        limit = {
                            check_variable = { workers_sol > 1 }
                        }
                        add_to_variable = { workers_sol_progress = net_target_temp }
                    }
                    else_if = {
                        limit = {
                            check_variable = { workers_sol_progress < 0 }
                        }
                        set_variable = { workers_sol_progress = 0 }
                    }

                    #Standard of Living Changes
                    if = {
                        limit = {
                            check_variable = { workers_sol_progress > 0.999 }
                        }
                        if = {
                            limit = {
                                check_variable = { workers_sol_progress > 5 }
                            }
                            set_variable = { workers_sol_progress = 5 }
                        }
                        set_temp_variable = { progression_temp = workers_sol_progress }
                        subtract_from_temp_variable = { progression_temp = 0.5 }
                        round_temp_variable = progression_temp

                        subtract_from_variable = { workers_sol_progress = progression_temp }
                        add_to_variable = { workers_sol = progression_temp }
                    }
                    else_if = {
                        limit = {
                            check_variable = { workers_sol_progress < -0.999 }
                        }
                        if = {
                            limit = {
                                check_variable = { regression_temp < -5 }
                            }
                            set_variable = { workers_sol_progress = -5 }
                        }
                        set_temp_variable = { regression_temp = workers_sol_progress }
                        add_to_temp_variable = { regression_temp = 0.5 }
                        round_temp_variable = regression_temp

                        subtract_from_variable = { workers_sol_progress = regression_temp }
                        add_to_variable = { workers_sol = regression_temp }
                    }

                    if = {
                        limit = {
                            check_variable = { workers_sol < 1 }
                        }
                        set_variable = { workers_sol = 1 }
                    }
                }
                else = {
                    set_variable = { workers_spending = 0 }
                    set_variable = { workers_income_tax_spending = 0 }
                    set_variable = { workers_sales_tax_spending = 0 }
                    set_variable = { workers_debt_interest_spending = 0 }

                    set_variable = { workers_sol_progress = 0 }
                }
            #
            # Professionals
                if = {
                    limit = {
                        check_variable = { professionals_workforce > 0 }
                    }
                    set_temp_variable = { money_temp = professionals_earnings }
                    subtract_from_temp_variable = { money_temp = professionals_spending }
                    if = {
                        limit = {
                            check_variable = { money_temp > 0 }
                        }
                        #Put money in the bank
                    }

                    #Standard of Living Progress
                    set_temp_variable = { net_target_temp = professionals_spending_target }
                    subtract_from_temp_variable = { net_target_temp = professionals_spending }
                    divide_temp_variable = { net_target_temp = professionals_needs_spending }
                    multiply_temp_variable = { net_target_temp = 10 }
                    if = {
                        limit = {
                            check_variable = { professionals_sol > 1 }
                        }
                        add_to_variable = { professionals_sol_progress = net_target_temp }
                    }
                    else_if = {
                        limit = {
                            check_variable = { professionals_sol_progress < 0 }
                        }
                        set_variable = { professionals_sol_progress = 0 }
                    }

                    #Standard of Living Changes
                    if = {
                        limit = {
                            check_variable = { professionals_sol_progress > 0.999 }
                        }
                        if = {
                            limit = {
                                check_variable = { professionals_sol_progress > 5 }
                            }
                            set_variable = { professionals_sol_progress = 5 }
                        }
                        set_temp_variable = { progression_temp = professionals_sol_progress }
                        subtract_from_temp_variable = { progression_temp = 0.5 }
                        round_temp_variable = progression_temp

                        subtract_from_variable = { professionals_sol_progress = progression_temp }
                        add_to_variable = { professionals_sol = progression_temp }
                    }
                    else_if = {
                        limit = {
                            check_variable = { professionals_sol_progress < -0.999 }
                        }
                        if = {
                            limit = {
                                check_variable = { regression_temp < -5 }
                            }
                            set_variable = { professionals_sol_progress = -5 }
                        }
                        set_temp_variable = { regression_temp = professionals_sol_progress }
                        add_to_temp_variable = { regression_temp = 0.5 }
                        round_temp_variable = regression_temp

                        subtract_from_variable = { professionals_sol_progress = regression_temp }
                        add_to_variable = { professionals_sol = regression_temp }
                    }

                    if = {
                        limit = {
                            check_variable = { professionals_sol < 1 }
                        }
                        set_variable = { professionals_sol = 1 }
                    }
                }
                else = {
                    set_variable = { professionals_spending = 0 }
                    set_variable = { professionals_income_tax_spending = 0 }
                    set_variable = { professionals_sales_tax_spending = 0 }
                    set_variable = { professionals_debt_interest_spending = 0 }

                    set_variable = { professionals_sol_progress = 0 }
                }
            #
            # Specialists
                if = {
                    limit = {
                        check_variable = { specialists_workforce > 0 }
                    }
                    set_temp_variable = { money_temp = specialists_earnings }
                    subtract_from_temp_variable = { money_temp = specialists_spending }
                    if = {
                        limit = {
                            check_variable = { money_temp > 0 }
                        }
                        #Put money in the bank
                    }

                    #Standard of Living Progress
                    set_temp_variable = { net_target_temp = specialists_spending_target }
                    subtract_from_temp_variable = { net_target_temp = specialists_spending }
                    divide_temp_variable = { net_target_temp = specialists_needs_spending }
                    multiply_temp_variable = { net_target_temp = 10 }
                    if = {
                        limit = {
                            check_variable = { specialists_sol > 1 }
                        }
                        add_to_variable = { specialists_sol_progress = net_target_temp }
                    }
                    else_if = {
                        limit = {
                            check_variable = { specialists_sol_progress < 0 }
                        }
                        set_variable = { specialists_sol_progress = 0 }
                    }

                    #Standard of Living Changes
                    if = {
                        limit = {
                            check_variable = { specialists_sol_progress > 0.999 }
                        }
                        if = {
                            limit = {
                                check_variable = { specialists_sol_progress > 5 }
                            }
                            set_variable = { specialists_sol_progress = 5 }
                        }
                        set_temp_variable = { progression_temp = specialists_sol_progress }
                        subtract_from_temp_variable = { progression_temp = 0.5 }
                        round_temp_variable = progression_temp

                        subtract_from_variable = { specialists_sol_progress = progression_temp }
                        add_to_variable = { specialists_sol = progression_temp }
                    }
                    else_if = {
                        limit = {
                            check_variable = { specialists_sol_progress < -0.999 }
                        }
                        if = {
                            limit = {
                                check_variable = { regression_temp < -5 }
                            }
                            set_variable = { specialists_sol_progress = -5 }
                        }
                        set_temp_variable = { regression_temp = specialists_sol_progress }
                        add_to_temp_variable = { regression_temp = 0.5 }
                        round_temp_variable = regression_temp

                        subtract_from_variable = { specialists_sol_progress = regression_temp }
                        add_to_variable = { specialists_sol = regression_temp }
                    }

                    if = {
                        limit = {
                            check_variable = { specialists_sol < 1 }
                        }
                        set_variable = { specialists_sol = 1 }
                    }
                }
                else = {
                    set_variable = { specialists_spending = 0 }
                    set_variable = { specialists_income_tax_spending = 0 }
                    set_variable = { specialists_sales_tax_spending = 0 }
                    set_variable = { specialists_debt_interest_spending = 0 }

                    set_variable = { specialists_sol_progress = 0 }
                }
            #
            # Capitalists
                if = {
                    limit = {
                        check_variable = { capitalists_workforce > 0 }
                    }
                    set_temp_variable = { money_temp = capitalists_earnings }
                    subtract_from_temp_variable = { money_temp = capitalists_spending }
                    if = {
                        limit = {
                            check_variable = { money_temp > 0 }
                        }
                        #Put money in the bank
                    }

                    #Standard of Living Progress
                    set_temp_variable = { net_target_temp = capitalists_spending_target }
                    subtract_from_temp_variable = { net_target_temp = capitalists_spending }
                    divide_temp_variable = { net_target_temp = capitalists_needs_spending }
                    multiply_temp_variable = { net_target_temp = 10 }
                    if = {
                        limit = {
                            check_variable = { capitalists_sol > 1 }
                        }
                        add_to_variable = { capitalists_sol_progress = net_target_temp }
                    }
                    else_if = {
                        limit = {
                            check_variable = { capitalists_sol_progress < 0 }
                        }
                        set_variable = { capitalists_sol_progress = 0 }
                    }

                    #Standard of Living Changes
                    if = {
                        limit = {
                            check_variable = { capitalists_sol_progress > 0.999 }
                        }
                        if = {
                            limit = {
                                check_variable = { capitalists_sol_progress > 5 }
                            }
                            set_variable = { capitalists_sol_progress = 5 }
                        }
                        set_temp_variable = { progression_temp = capitalists_sol_progress }
                        subtract_from_temp_variable = { progression_temp = 0.5 }
                        round_temp_variable = progression_temp

                        subtract_from_variable = { capitalists_sol_progress = progression_temp }
                        add_to_variable = { capitalists_sol = progression_temp }
                    }
                    else_if = {
                        limit = {
                            check_variable = { capitalists_sol_progress < -0.999 }
                        }
                        if = {
                            limit = {
                                check_variable = { regression_temp < -5 }
                            }
                            set_variable = { capitalists_sol_progress = -5 }
                        }
                        set_temp_variable = { regression_temp = capitalists_sol_progress }
                        add_to_temp_variable = { regression_temp = 0.5 }
                        round_temp_variable = regression_temp

                        subtract_from_variable = { capitalists_sol_progress = regression_temp }
                        add_to_variable = { capitalists_sol = regression_temp }
                    }

                    if = {
                        limit = {
                            check_variable = { capitalists_sol < 1 }
                        }
                        set_variable = { capitalists_sol = 1 }
                    }
                }
                else = {
                    set_variable = { capitalists_spending = 0 }
                    set_variable = { capitalists_income_tax_spending = 0 }
                    set_variable = { capitalists_sales_tax_spending = 0 }
                    set_variable = { capitalists_debt_interest_spending = 0 }

                    set_variable = { capitalists_sol_progress = 0 }
                }
            #
            # Aristocrats
                if = {
                    limit = {
                        check_variable = { aristocrats_workforce > 0 }
                    }
                    set_temp_variable = { money_temp = aristocrats_earnings }
                    subtract_from_temp_variable = { money_temp = aristocrats_spending }
                    if = {
                        limit = {
                            check_variable = { money_temp > 0 }
                        }
                        #Put money in the bank
                    }

                    #Standard of Living Progress
                    set_temp_variable = { net_target_temp = aristocrats_spending_target }
                    subtract_from_temp_variable = { net_target_temp = aristocrats_spending }
                    divide_temp_variable = { net_target_temp = aristocrats_needs_spending }
                    multiply_temp_variable = { net_target_temp = 10 }
                    if = {
                        limit = {
                            check_variable = { aristocrats_sol > 1 }
                        }
                        add_to_variable = { aristocrats_sol_progress = net_target_temp }
                    }
                    else_if = {
                        limit = {
                            check_variable = { aristocrats_sol_progress < 0 }
                        }
                        set_variable = { aristocrats_sol_progress = 0 }
                    }

                    #Standard of Living Changes
                    if = {
                        limit = {
                            check_variable = { aristocrats_sol_progress > 0.999 }
                        }
                        if = {
                            limit = {
                                check_variable = { aristocrats_sol_progress > 5 }
                            }
                            set_variable = { aristocrats_sol_progress = 5 }
                        }
                        set_temp_variable = { progression_temp = aristocrats_sol_progress }
                        subtract_from_temp_variable = { progression_temp = 0.5 }
                        round_temp_variable = progression_temp

                        subtract_from_variable = { aristocrats_sol_progress = progression_temp }
                        add_to_variable = { aristocrats_sol = progression_temp }
                    }
                    else_if = {
                        limit = {
                            check_variable = { aristocrats_sol_progress < -0.999 }
                        }
                        if = {
                            limit = {
                                check_variable = { regression_temp < -5 }
                            }
                            set_variable = { aristocrats_sol_progress = -5 }
                        }
                        set_temp_variable = { regression_temp = aristocrats_sol_progress }
                        add_to_temp_variable = { regression_temp = 0.5 }
                        round_temp_variable = regression_temp

                        subtract_from_variable = { aristocrats_sol_progress = regression_temp }
                        add_to_variable = { aristocrats_sol = regression_temp }
                    }

                    if = {
                        limit = {
                            check_variable = { aristocrats_sol < 1 }
                        }
                        set_variable = { aristocrats_sol = 1 }
                    }
                }
                else = {
                    set_variable = { aristocrats_spending = 0 }
                    set_variable = { aristocrats_income_tax_spending = 0 }
                    set_variable = { aristocrats_sales_tax_spending = 0 }
                    set_variable = { aristocrats_debt_interest_spending = 0 }

                    set_variable = { aristocrats_sol_progress = 0 }
                }
            #
            # Soldiers
                if = {
                    limit = {
                        check_variable = { soldiers_workforce > 0 }
                    }
                    set_temp_variable = { money_temp = soldiers_earnings }
                    subtract_from_temp_variable = { money_temp = soldiers_spending }
                    if = {
                        limit = {
                            check_variable = { money_temp > 0 }
                        }
                        #Put money in the bank
                    }

                    #Standard of Living Progress
                    set_temp_variable = { net_target_temp = soldiers_spending_target }
                    subtract_from_temp_variable = { net_target_temp = soldiers_spending }
                    divide_temp_variable = { net_target_temp = soldiers_needs_spending }
                    multiply_temp_variable = { net_target_temp = 10 }
                    if = {
                        limit = {
                            check_variable = { soldiers_sol > 1 }
                        }
                        add_to_variable = { soldiers_sol_progress = net_target_temp }
                    }
                    else_if = {
                        limit = {
                            check_variable = { soldiers_sol_progress < 0 }
                        }
                        set_variable = { soldiers_sol_progress = 0 }
                    }

                    #Standard of Living Changes
                    if = {
                        limit = {
                            check_variable = { soldiers_sol_progress > 0.999 }
                        }
                        if = {
                            limit = {
                                check_variable = { soldiers_sol_progress > 5 }
                            }
                            set_variable = { soldiers_sol_progress = 5 }
                        }
                        set_temp_variable = { progression_temp = soldiers_sol_progress }
                        subtract_from_temp_variable = { progression_temp = 0.5 }
                        round_temp_variable = progression_temp

                        subtract_from_variable = { soldiers_sol_progress = progression_temp }
                        add_to_variable = { soldiers_sol = progression_temp }
                    }
                    else_if = {
                        limit = {
                            check_variable = { soldiers_sol_progress < -0.999 }
                        }
                        if = {
                            limit = {
                                check_variable = { regression_temp < -5 }
                            }
                            set_variable = { soldiers_sol_progress = -5 }
                        }
                        set_temp_variable = { regression_temp = soldiers_sol_progress }
                        add_to_temp_variable = { regression_temp = 0.5 }
                        round_temp_variable = regression_temp

                        subtract_from_variable = { soldiers_sol_progress = regression_temp }
                        add_to_variable = { soldiers_sol = regression_temp }
                    }

                    if = {
                        limit = {
                            check_variable = { soldiers_sol < 1 }
                        }
                        set_variable = { soldiers_sol = 1 }
                    }
                }
                else = {
                    set_variable = { soldiers_spending = 0 }
                    set_variable = { soldiers_income_tax_spending = 0 }
                    set_variable = { soldiers_sales_tax_spending = 0 }
                    set_variable = { soldiers_debt_interest_spending = 0 }

                    set_variable = { soldiers_sol_progress = 0 }
                }
            #
            # Bureaucrats
                if = {
                    limit = {
                        check_variable = { bureaucrats_workforce > 0 }
                    }
                    set_temp_variable = { money_temp = bureaucrats_earnings }
                    subtract_from_temp_variable = { money_temp = bureaucrats_spending }
                    if = {
                        limit = {
                            check_variable = { money_temp > 0 }
                        }
                        #Put money in the bank
                    }

                    #Standard of Living Progress
                    set_temp_variable = { net_target_temp = bureaucrats_spending_target }
                    subtract_from_temp_variable = { net_target_temp = bureaucrats_spending }
                    divide_temp_variable = { net_target_temp = bureaucrats_needs_spending }
                    multiply_temp_variable = { net_target_temp = 10 }
                    if = {
                        limit = {
                            check_variable = { bureaucrats_sol > 1 }
                        }
                        add_to_variable = { bureaucrats_sol_progress = net_target_temp }
                    }
                    else_if = {
                        limit = {
                            check_variable = { bureaucrats_sol_progress < 0 }
                        }
                        set_variable = { bureaucrats_sol_progress = 0 }
                    }

                    #Standard of Living Changes
                    if = {
                        limit = {
                            check_variable = { bureaucrats_sol_progress > 0.999 }
                        }
                        if = {
                            limit = {
                                check_variable = { bureaucrats_sol_progress > 5 }
                            }
                            set_variable = { bureaucrats_sol_progress = 5 }
                        }
                        set_temp_variable = { progression_temp = bureaucrats_sol_progress }
                        subtract_from_temp_variable = { progression_temp = 0.5 }
                        round_temp_variable = progression_temp

                        subtract_from_variable = { bureaucrats_sol_progress = progression_temp }
                        add_to_variable = { bureaucrats_sol = progression_temp }
                    }
                    else_if = {
                        limit = {
                            check_variable = { bureaucrats_sol_progress < -0.999 }
                        }
                        if = {
                            limit = {
                                check_variable = { regression_temp < -5 }
                            }
                            set_variable = { bureaucrats_sol_progress = -5 }
                        }
                        set_temp_variable = { regression_temp = bureaucrats_sol_progress }
                        add_to_temp_variable = { regression_temp = 0.5 }
                        round_temp_variable = regression_temp

                        subtract_from_variable = { bureaucrats_sol_progress = regression_temp }
                        add_to_variable = { bureaucrats_sol = regression_temp }
                    }

                    if = {
                        limit = {
                            check_variable = { bureaucrats_sol < 1 }
                        }
                        set_variable = { bureaucrats_sol = 1 }
                    }
                }
                else = {
                    set_variable = { bureaucrats_spending = 0 }
                    set_variable = { bureaucrats_income_tax_spending = 0 }
                    set_variable = { bureaucrats_sales_tax_spending = 0 }
                    set_variable = { bureaucrats_debt_interest_spending = 0 }

                    set_variable = { bureaucrats_sol_progress = 0 }
                }
            #
        #
    }
    pops_update = {
        set_variable = { pops_workforce_percentage = global.pops_workforce_participation }
        
        set_variable = { pops = pops_workforce }
        divide_variable = { pops = global.pops_workforce_participation }

        # Reset to 0
			set_variable = { pops_employed = 0 }
            set_variable = { pops_sol = 0 }
            set_variable = { pops_income_tax_spending = 0 }
            set_variable = { pops_sales_tax_spending = 0 }
            set_variable = { pops_debt_interest_spending = 0 }
            set_variable = { pops_spending_target = 0 }
            set_variable = { pops_earnings = 0 }
        #

        # Employment & Jobs
			set_variable = { slaves_employed = 0 }
			set_variable = { peasants_employed = 0 }
			set_variable = { laborers_employed = 0 }
			set_variable = { workers_employed = 0 }
			set_variable = { professionals_employed = 0 }
			set_variable = { specialists_employed = 0 }
			set_variable = { aristocrats_employed = 0 }
			set_variable = { capitalists_employed = 0 }
			set_variable = { bureaucrats_employed = 0 }
			set_variable = { soldiers_employed = 0 }

			set_variable = { slaves_jobs = 0 }
			set_variable = { peasants_jobs = 0 }
			set_variable = { laborers_jobs = 0 }
			set_variable = { workers_jobs = 0 }
			set_variable = { professionals_jobs = 0 }
			set_variable = { specialists_jobs = 0 }
			set_variable = { aristocrats_jobs = 0 }
			set_variable = { capitalists_jobs = 0 }
			set_variable = { bureaucrats_jobs = 0 }
			set_variable = { soldiers_jobs = 0 }

			#buildings
			for_each_loop = {
				array = buildings
				value = pops_bld_token

				add_to_variable = { peasants_employed = peasants_employed@var:pops_bld_token }
				add_to_variable = { laborers_employed = laborers_employed@var:pops_bld_token }
				add_to_variable = { workers_employed = workers_employed@var:pops_bld_token }
				add_to_variable = { professionals_employed = professionals_employed@var:pops_bld_token }
				add_to_variable = { specialists_employed = specialists_employed@var:pops_bld_token }
				add_to_variable = { aristocrats_employed = aristocrats_employed@var:pops_bld_token }
				add_to_variable = { capitalists_employed = capitalists_employed@var:pops_bld_token }

				add_to_variable = { peasants_jobs = peasants_jobs@var:pops_bld_token }
				add_to_variable = { laborers_jobs = laborers_jobs@var:pops_bld_token }
				add_to_variable = { workers_jobs = workers_jobs@var:pops_bld_token }
				add_to_variable = { professionals_jobs = professionals_jobs@var:pops_bld_token }
				add_to_variable = { specialists_jobs = specialists_jobs@var:pops_bld_token }
				add_to_variable = { aristocrats_jobs = aristocrats_jobs@var:pops_bld_token }
				add_to_variable = { capitalists_jobs = capitalists_jobs@var:pops_bld_token }
			}

        #

        set_temp_variable = { cons_conf_temp = controller:modifier@consumer_confidence_modifier }
        divide_temp_variable = { cons_conf_temp = 100 }

        set_temp_variable = { upper_earnings_limit = controller:pops_earnings_avg }
        multiply_temp_variable = { upper_earnings_limit = 3 }
        set_temp_variable = { lower_earnings_limit = controller:pops_earnings_avg }

        set_temp_variable = { upper_income_multiplier = controller:income_tax_upper_strata_percentage }
        divide_temp_variable = { upper_income_multiplier = 100 }
        set_temp_variable = { middle_income_multiplier = controller:income_tax_middle_strata_percentage }
        divide_temp_variable = { middle_income_multiplier = 100 }
        set_temp_variable = { lower_income_multiplier = controller:income_tax_lower_strata_percentage }
        divide_temp_variable = { lower_income_multiplier = 100 }
        set_temp_variable = { sales_tax_multiplier = controller:sales_tax_percentage }
        divide_temp_variable = { sales_tax_multiplier = 100 }

        # Slaves
            if = {
                limit = {
                    check_variable = { slaves_workforce > 0 }
                }
                set_variable = { slaves = slaves_workforce }
                divide_variable = { slaves = pops_workforce_percentage }
                set_variable = { slaves_percentage = slaves }
                divide_variable = { slaves_percentage = pops }

                add_to_variable = { pops_employed = slaves_employed }

                set_variable = { slaves_unemployed = slaves_workforce }
                subtract_from_variable = { slaves_unemployed = slaves_employed }

                # Earnings/Spending
                set_variable = { slaves_earnings = slaves_employed }
                multiply_variable = { slaves_earnings = base_wage }
                add_to_variable = { pops_earnings = slaves_earnings }

				set_variable = { slaves_food_cost = slaves_food_need }
			    multiply_variable = { slaves_food_cost = price@token:resource_food }
				set_variable = { slaves_consumer_goods_cost = slaves_consumer_goods_need }
			    multiply_variable = { slaves_consumer_goods_cost = price@token:resource_consumer_goods }
				set_variable = { slaves_luxury_goods_cost = slaves_luxury_goods_need }
			    multiply_variable = { slaves_luxury_goods_cost = price@token:resource_luxury_goods }
				set_variable = { slaves_energy_materials_cost = slaves_energy_materials_need }
			    multiply_variable = { slaves_energy_materials_cost = price@token:resource_energy_materials }
				set_variable = { slaves_electricity_cost = slaves_electricity_need }
			    multiply_variable = { slaves_electricity_cost = price@token:resource_electricity }
				set_variable = { slaves_services_cost = slaves_services_need }
			    multiply_variable = { slaves_services_cost = price@token:resource_services }

				set_variable = { slaves_needs_spending = slaves_food_cost }
                add_to_variable = { slaves_needs_spending = slaves_consumer_goods_cost }
                add_to_variable = { slaves_needs_spending = slaves_luxury_goods_cost }
                add_to_variable = { slaves_needs_spending = slaves_energy_materials_cost }
                add_to_variable = { slaves_needs_spending = slaves_electricity_cost }
                add_to_variable = { slaves_needs_spending = slaves_services_cost }

                set_variable = { slaves_col = slaves_needs_spending }
                divide_variable = { slaves_col = slaves_workforce }
                
                #Standard of Living
                set_temp_variable = { sol_temp = slaves_sol }
                multiply_temp_variable = { sol_temp = slaves_workforce }
                add_to_variable = { pops_sol = sol_temp }

                set_variable = { slaves_goods_spending = slaves_needs_spending }
                set_variable = { slaves_spending = slaves_needs_spending }

                #Income Tax
                set_temp_variable = { avg_earnings_temp = slaves_earnings }
                divide_temp_variable = { avg_earnings_temp = slaves }
                set_variable = { slaves_income_tax_spending = slaves_earnings }
                if = {
                    limit = {
                        check_variable = { avg_earnings_temp < lower_earnings_limit }
                    }
                    multiply_variable = { slaves_income_tax_spending = lower_income_multiplier }
                }
                else_if = {
                    limit = {
                        check_variable = { avg_earnings_temp < upper_earnings_limit }
                    }
                    multiply_variable = { slaves_income_tax_spending = middle_income_multiplier }
                }
                else = {
                    multiply_variable = { slaves_income_tax_spending = upper_income_multiplier }
                }
                add_to_variable = { slaves_spending = slaves_income_tax_spending }
                add_to_variable = { pops_income_tax_spending = slaves_income_tax_spending }

                #Spending Target
                set_variable = { slaves_spending_target = slaves_earnings }
                subtract_from_variable = { slaves_spending_target = slaves_income_tax_spending }
                multiply_variable = { slaves_spending_target = cons_conf_temp }
                add_to_variable = { pops_spending_target = slaves_spending_target }

                #Sales Tax
                set_variable = { slaves_sales_tax_spending = slaves_needs_spending }
                multiply_variable = { slaves_sales_tax_spending = sales_tax_multiplier }
                add_to_variable = { slaves_spending = slaves_sales_tax_spending }
                add_to_variable = { pops_sales_tax_spending = slaves_sales_tax_spending }

                #Interest
                set_variable = { slaves_debt_interest_spending = slaves_debt }
                divide_variable = { slaves_debt_interest_spending = 12 }
                multiply_variable = { slaves_debt_interest_spending = controller:interest_rate }
                divide_variable = { slaves_debt_interest_spending = 100 }
                add_to_variable = { slaves_spending = slaves_debt_interest_spending }
                add_to_variable = { pops_debt_interest_spending = slaves_debt_interest_spending }
            }
            else = {
                set_variable = { slaves_spending = 0 }
                subtract_from_variable = { slaves_spending_target = 0 }
                set_variable = { slaves_income_tax_spending = 0 }
                set_variable = { slaves_sales_tax_spending = 0 }
                set_variable = { slaves_debt_interest_spending = 0 }
            }
        #
        # Peasants
            if = {
                limit = {
                    check_variable = { peasants_workforce > 0 }
                }
                set_variable = { peasants = peasants_workforce }
                divide_variable = { peasants = pops_workforce_percentage }
                set_variable = { peasants_percentage = peasants }
                divide_variable = { peasants_percentage = pops }

                add_to_variable = { pops_employed = peasants_employed }

                set_variable = { peasants_unemployed = peasants_workforce }
                subtract_from_variable = { peasants_unemployed = peasants_employed }

                # Earnings/Spending
                set_variable = { peasants_earnings = peasants_employed }
                if = {
                    limit = {
                        check_variable = { jobs@token:building_subsistence_farm > 0 }
                    }
                    multiply_variable = { peasants_earnings = base_productivity@token:building_subsistence_farm }
                }
                else = {
                    multiply_variable = { peasants_earnings = base_productivity@token:building_rice_paddy }
                }
                add_to_variable = { pops_earnings = peasants_earnings }

				set_variable = { peasants_food_cost = peasants_food_need }
			    multiply_variable = { peasants_food_cost = price@token:resource_food }
				set_variable = { peasants_consumer_goods_cost = peasants_consumer_goods_need }
			    multiply_variable = { peasants_consumer_goods_cost = price@token:resource_consumer_goods }
				set_variable = { peasants_luxury_goods_cost = peasants_luxury_goods_need }
			    multiply_variable = { peasants_luxury_goods_cost = price@token:resource_luxury_goods }
				set_variable = { peasants_energy_materials_cost = peasants_energy_materials_need }
			    multiply_variable = { peasants_energy_materials_cost = price@token:resource_energy_materials }
				set_variable = { peasants_electricity_cost = peasants_electricity_need }
			    multiply_variable = { peasants_electricity_cost = price@token:resource_electricity }
				set_variable = { peasants_services_cost = peasants_services_need }
			    multiply_variable = { peasants_services_cost = price@token:resource_services }

				set_variable = { peasants_needs_spending = peasants_food_cost }
                add_to_variable = { peasants_needs_spending = peasants_consumer_goods_cost }
                add_to_variable = { peasants_needs_spending = peasants_luxury_goods_cost }
                add_to_variable = { peasants_needs_spending = peasants_energy_materials_cost }
                add_to_variable = { peasants_needs_spending = peasants_electricity_cost }
                add_to_variable = { peasants_needs_spending = peasants_services_cost }

                set_variable = { peasants_col = peasants_needs_spending }
                divide_variable = { peasants_col = peasants_workforce }
                
                #Standard of Living
                set_temp_variable = { sol_temp = peasants_sol }
                multiply_temp_variable = { sol_temp = peasants_workforce }
                add_to_variable = { pops_sol = sol_temp }

                set_variable = { peasants_goods_spending = peasants_needs_spending }
                set_variable = { peasants_spending = peasants_needs_spending }

                #Income Tax
                set_temp_variable = { avg_earnings_temp = peasants_earnings }
                divide_temp_variable = { avg_earnings_temp = peasants }
                set_variable = { peasants_income_tax_spending = peasants_earnings }
                if = {
                    limit = {
                        check_variable = { avg_earnings_temp < lower_earnings_limit }
                    }
                    multiply_variable = { peasants_income_tax_spending = lower_income_multiplier }
                }
                else_if = {
                    limit = {
                        check_variable = { avg_earnings_temp < upper_earnings_limit }
                    }
                    multiply_variable = { peasants_income_tax_spending = middle_income_multiplier }
                }
                else = {
                    multiply_variable = { peasants_income_tax_spending = upper_income_multiplier }
                }
                add_to_variable = { peasants_spending = peasants_income_tax_spending }
                add_to_variable = { pops_income_tax_spending = peasants_income_tax_spending }

                #Spending Target
                set_variable = { peasants_spending_target = peasants_earnings }
                subtract_from_variable = { peasants_spending_target = peasants_income_tax_spending }
                multiply_variable = { peasants_spending_target = cons_conf_temp }
                add_to_variable = { pops_spending_target = peasants_spending_target }

                #Sales Tax
                set_variable = { peasants_sales_tax_spending = peasants_needs_spending }
                multiply_variable = { peasants_sales_tax_spending = sales_tax_multiplier }
                add_to_variable = { peasants_spending = peasants_sales_tax_spending }
                add_to_variable = { pops_sales_tax_spending = peasants_sales_tax_spending }

                #Interest
                set_variable = { peasants_debt_interest_spending = peasants_debt }
                divide_variable = { peasants_debt_interest_spending = 12 }
                multiply_variable = { peasants_debt_interest_spending = controller:interest_rate }
                divide_variable = { peasants_debt_interest_spending = 100 }
                add_to_variable = { peasants_spending = peasants_debt_interest_spending }
                add_to_variable = { pops_debt_interest_spending = peasants_debt_interest_spending }
            }
            else = {
                set_variable = { peasants_spending = 0 }
                subtract_from_variable = { peasants_spending_target = 0 }
                set_variable = { peasants_income_tax_spending = 0 }
                set_variable = { peasants_sales_tax_spending = 0 }
                set_variable = { peasants_debt_interest_spending = 0 }
            }
        #
        # Laborers
            if = {
                limit = {
                    check_variable = { laborers_workforce > 0 }
                }
                set_variable = { laborers = laborers_workforce }
                divide_variable = { laborers = pops_workforce_percentage }
                set_variable = { laborers_percentage = laborers }
                divide_variable = { laborers_percentage = pops }

                add_to_variable = { pops_employed = laborers_employed }

                set_variable = { laborers_unemployed = laborers_workforce }
                subtract_from_variable = { laborers_unemployed = laborers_employed }

                # Earnings/Spending
                set_variable = { laborers_earnings = laborers_employed }
                multiply_variable = { laborers_earnings = laborers_wage }
                add_to_variable = { pops_earnings = laborers_earnings }

				set_variable = { laborers_food_cost = laborers_food_need }
			    multiply_variable = { laborers_food_cost = price@token:resource_food }
				set_variable = { laborers_consumer_goods_cost = laborers_consumer_goods_need }
			    multiply_variable = { laborers_consumer_goods_cost = price@token:resource_consumer_goods }
				set_variable = { laborers_luxury_goods_cost = laborers_luxury_goods_need }
			    multiply_variable = { laborers_luxury_goods_cost = price@token:resource_luxury_goods }
				set_variable = { laborers_energy_materials_cost = laborers_energy_materials_need }
			    multiply_variable = { laborers_energy_materials_cost = price@token:resource_energy_materials }
				set_variable = { laborers_electricity_cost = laborers_electricity_need }
			    multiply_variable = { laborers_electricity_cost = price@token:resource_electricity }
				set_variable = { laborers_services_cost = laborers_services_need }
			    multiply_variable = { laborers_services_cost = price@token:resource_services }

				set_variable = { laborers_needs_spending = laborers_food_cost }
                add_to_variable = { laborers_needs_spending = laborers_consumer_goods_cost }
                add_to_variable = { laborers_needs_spending = laborers_luxury_goods_cost }
                add_to_variable = { laborers_needs_spending = laborers_energy_materials_cost }
                add_to_variable = { laborers_needs_spending = laborers_electricity_cost }
                add_to_variable = { laborers_needs_spending = laborers_services_cost }

                set_variable = { laborers_col = laborers_needs_spending }
                divide_variable = { laborers_col = laborers_workforce }
                
                #Standard of Living
                set_temp_variable = { sol_temp = laborers_sol }
                multiply_temp_variable = { sol_temp = laborers_workforce }
                add_to_variable = { pops_sol = sol_temp }

                set_variable = { laborers_goods_spending = laborers_needs_spending }
                set_variable = { laborers_spending = laborers_needs_spending }

                #Income Tax
                set_temp_variable = { avg_earnings_temp = laborers_earnings }
                divide_temp_variable = { avg_earnings_temp = laborers }
                set_variable = { laborers_income_tax_spending = laborers_earnings }
                if = {
                    limit = {
                        check_variable = { avg_earnings_temp < lower_earnings_limit }
                    }
                    multiply_variable = { laborers_income_tax_spending = lower_income_multiplier }
                }
                else_if = {
                    limit = {
                        check_variable = { avg_earnings_temp < upper_earnings_limit }
                    }
                    multiply_variable = { laborers_income_tax_spending = middle_income_multiplier }
                }
                else = {
                    multiply_variable = { laborers_income_tax_spending = upper_income_multiplier }
                }
                add_to_variable = { laborers_spending = laborers_income_tax_spending }
                add_to_variable = { pops_income_tax_spending = laborers_income_tax_spending }

                #Spending Target
                set_variable = { laborers_spending_target = laborers_earnings }
                subtract_from_variable = { laborers_spending_target = laborers_income_tax_spending }
                multiply_variable = { laborers_spending_target = cons_conf_temp }
                add_to_variable = { pops_spending_target = laborers_spending_target }

                #Sales Tax
                set_variable = { laborers_sales_tax_spending = laborers_needs_spending }
                multiply_variable = { laborers_sales_tax_spending = sales_tax_multiplier }
                add_to_variable = { laborers_spending = laborers_sales_tax_spending }
                add_to_variable = { pops_sales_tax_spending = laborers_sales_tax_spending }

                #Interest
                set_variable = { laborers_debt_interest_spending = laborers_debt }
                divide_variable = { laborers_debt_interest_spending = 12 }
                multiply_variable = { laborers_debt_interest_spending = controller:interest_rate }
                divide_variable = { laborers_debt_interest_spending = 100 }
                add_to_variable = { laborers_spending = laborers_debt_interest_spending }
                add_to_variable = { pops_debt_interest_spending = laborers_debt_interest_spending }
            }
            else = {
                set_variable = { laborers_spending = 0 }
                subtract_from_variable = { laborers_spending_target = 0 }
                set_variable = { laborers_income_tax_spending = 0 }
                set_variable = { laborers_sales_tax_spending = 0 }
                set_variable = { laborers_debt_interest_spending = 0 }
            }
        #
        # Workers
            if = {
                limit = {
                    check_variable = { workers_workforce > 0 }
                }
                set_variable = { workers = workers_workforce }
                divide_variable = { workers = pops_workforce_percentage }
                set_variable = { workers_percentage = workers }
                divide_variable = { workers_percentage = pops }

                add_to_variable = { pops_employed = workers_employed }

                set_variable = { workers_unemployed = workers_workforce }
                subtract_from_variable = { workers_unemployed = workers_employed }

                # Earnings/Spending
                set_variable = { workers_earnings = workers_employed }
                multiply_variable = { workers_earnings = workers_wage }
                add_to_variable = { pops_earnings = workers_earnings }

				set_variable = { workers_food_cost = workers_food_need }
			    multiply_variable = { workers_food_cost = price@token:resource_food }
				set_variable = { workers_consumer_goods_cost = workers_consumer_goods_need }
			    multiply_variable = { workers_consumer_goods_cost = price@token:resource_consumer_goods }
				set_variable = { workers_luxury_goods_cost = workers_luxury_goods_need }
			    multiply_variable = { workers_luxury_goods_cost = price@token:resource_luxury_goods }
				set_variable = { workers_energy_materials_cost = workers_energy_materials_need }
			    multiply_variable = { workers_energy_materials_cost = price@token:resource_energy_materials }
				set_variable = { workers_electricity_cost = workers_electricity_need }
			    multiply_variable = { workers_electricity_cost = price@token:resource_electricity }
				set_variable = { workers_services_cost = workers_services_need }
			    multiply_variable = { workers_services_cost = price@token:resource_services }

				set_variable = { workers_needs_spending = workers_food_cost }
                add_to_variable = { workers_needs_spending = workers_consumer_goods_cost }
                add_to_variable = { workers_needs_spending = workers_luxury_goods_cost }
                add_to_variable = { workers_needs_spending = workers_energy_materials_cost }
                add_to_variable = { workers_needs_spending = workers_electricity_cost }
                add_to_variable = { workers_needs_spending = workers_services_cost }

                set_variable = { workers_col = workers_needs_spending }
                divide_variable = { workers_col = workers_workforce }
                
                #Standard of Living
                set_temp_variable = { sol_temp = workers_sol }
                multiply_temp_variable = { sol_temp = workers_workforce }
                add_to_variable = { pops_sol = sol_temp }

                set_variable = { workers_goods_spending = workers_needs_spending }
                set_variable = { workers_spending = workers_needs_spending }

                #Income Tax
                set_temp_variable = { avg_earnings_temp = workers_earnings }
                divide_temp_variable = { avg_earnings_temp = workers }
                set_variable = { workers_income_tax_spending = workers_earnings }
                if = {
                    limit = {
                        check_variable = { avg_earnings_temp < lower_earnings_limit }
                    }
                    multiply_variable = { workers_income_tax_spending = lower_income_multiplier }
                }
                else_if = {
                    limit = {
                        check_variable = { avg_earnings_temp < upper_earnings_limit }
                    }
                    multiply_variable = { workers_income_tax_spending = middle_income_multiplier }
                }
                else = {
                    multiply_variable = { workers_income_tax_spending = upper_income_multiplier }
                }
                add_to_variable = { workers_spending = workers_income_tax_spending }
                add_to_variable = { pops_income_tax_spending = workers_income_tax_spending }

                #Spending Target
                set_variable = { workers_spending_target = workers_earnings }
                subtract_from_variable = { workers_spending_target = workers_income_tax_spending }
                multiply_variable = { workers_spending_target = cons_conf_temp }
                add_to_variable = { pops_spending_target = workers_spending_target }

                #Sales Tax
                set_variable = { workers_sales_tax_spending = workers_needs_spending }
                multiply_variable = { workers_sales_tax_spending = sales_tax_multiplier }
                add_to_variable = { workers_spending = workers_sales_tax_spending }
                add_to_variable = { pops_sales_tax_spending = workers_sales_tax_spending }

                #Interest
                set_variable = { workers_debt_interest_spending = workers_debt }
                divide_variable = { workers_debt_interest_spending = 12 }
                multiply_variable = { workers_debt_interest_spending = controller:interest_rate }
                divide_variable = { workers_debt_interest_spending = 100 }
                add_to_variable = { workers_spending = workers_debt_interest_spending }
                add_to_variable = { pops_debt_interest_spending = workers_debt_interest_spending }
            }
            else = {
                set_variable = { workers_spending = 0 }
                subtract_from_variable = { workers_spending_target = 0 }
                set_variable = { workers_income_tax_spending = 0 }
                set_variable = { workers_sales_tax_spending = 0 }
                set_variable = { workers_debt_interest_spending = 0 }
            }
        #
        # Professionals
            if = {
                limit = {
                    check_variable = { professionals_workforce > 0 }
                }
                set_variable = { professionals = professionals_workforce }
                divide_variable = { professionals = pops_workforce_percentage }
                set_variable = { professionals_percentage = professionals }
                divide_variable = { professionals_percentage = pops }

                add_to_variable = { pops_employed = professionals_employed }

                set_variable = { professionals_unemployed = professionals_workforce }
                subtract_from_variable = { professionals_unemployed = professionals_employed }

                # Earnings/Spending
                set_variable = { professionals_earnings = professionals_employed }
                multiply_variable = { professionals_earnings = professionals_wage }
                add_to_variable = { pops_earnings = professionals_earnings }

				set_variable = { professionals_food_cost = professionals_food_need }
			    multiply_variable = { professionals_food_cost = price@token:resource_food }
				set_variable = { professionals_consumer_goods_cost = professionals_consumer_goods_need }
			    multiply_variable = { professionals_consumer_goods_cost = price@token:resource_consumer_goods }
				set_variable = { professionals_luxury_goods_cost = professionals_luxury_goods_need }
			    multiply_variable = { professionals_luxury_goods_cost = price@token:resource_luxury_goods }
				set_variable = { professionals_energy_materials_cost = professionals_energy_materials_need }
			    multiply_variable = { professionals_energy_materials_cost = price@token:resource_energy_materials }
				set_variable = { professionals_electricity_cost = professionals_electricity_need }
			    multiply_variable = { professionals_electricity_cost = price@token:resource_electricity }
				set_variable = { professionals_services_cost = professionals_services_need }
			    multiply_variable = { professionals_services_cost = price@token:resource_services }

				set_variable = { professionals_needs_spending = professionals_food_cost }
                add_to_variable = { professionals_needs_spending = professionals_consumer_goods_cost }
                add_to_variable = { professionals_needs_spending = professionals_luxury_goods_cost }
                add_to_variable = { professionals_needs_spending = professionals_energy_materials_cost }
                add_to_variable = { professionals_needs_spending = professionals_electricity_cost }
                add_to_variable = { professionals_needs_spending = professionals_services_cost }

                set_variable = { professionals_col = professionals_needs_spending }
                divide_variable = { professionals_col = professionals_workforce }
                
                #Standard of Living
                set_temp_variable = { sol_temp = professionals_sol }
                multiply_temp_variable = { sol_temp = professionals_workforce }
                add_to_variable = { pops_sol = sol_temp }

                set_variable = { professionals_goods_spending = professionals_needs_spending }
                set_variable = { professionals_spending = professionals_needs_spending }

                #Income Tax
                set_temp_variable = { avg_earnings_temp = professionals_earnings }
                divide_temp_variable = { avg_earnings_temp = professionals }
                set_variable = { professionals_income_tax_spending = professionals_earnings }
                if = {
                    limit = {
                        check_variable = { avg_earnings_temp < lower_earnings_limit }
                    }
                    multiply_variable = { professionals_income_tax_spending = lower_income_multiplier }
                }
                else_if = {
                    limit = {
                        check_variable = { avg_earnings_temp < upper_earnings_limit }
                    }
                    multiply_variable = { professionals_income_tax_spending = middle_income_multiplier }
                }
                else = {
                    multiply_variable = { professionals_income_tax_spending = upper_income_multiplier }
                }
                add_to_variable = { professionals_spending = professionals_income_tax_spending }
                add_to_variable = { pops_income_tax_spending = professionals_income_tax_spending }

                #Spending Target
                set_variable = { professionals_spending_target = professionals_earnings }
                subtract_from_variable = { professionals_spending_target = professionals_income_tax_spending }
                multiply_variable = { professionals_spending_target = cons_conf_temp }
                add_to_variable = { pops_spending_target = professionals_spending_target }

                #Sales Tax
                set_variable = { professionals_sales_tax_spending = professionals_needs_spending }
                multiply_variable = { professionals_sales_tax_spending = sales_tax_multiplier }
                add_to_variable = { professionals_spending = professionals_sales_tax_spending }
                add_to_variable = { pops_sales_tax_spending = professionals_sales_tax_spending }

                #Interest
                set_variable = { professionals_debt_interest_spending = professionals_debt }
                divide_variable = { professionals_debt_interest_spending = 12 }
                multiply_variable = { professionals_debt_interest_spending = controller:interest_rate }
                divide_variable = { professionals_debt_interest_spending = 100 }
                add_to_variable = { professionals_spending = professionals_debt_interest_spending }
                add_to_variable = { pops_debt_interest_spending = professionals_debt_interest_spending }
            }
            else = {
                set_variable = { professionals_spending = 0 }
                subtract_from_variable = { professionals_spending_target = 0 }
                set_variable = { professionals_income_tax_spending = 0 }
                set_variable = { professionals_sales_tax_spending = 0 }
                set_variable = { professionals_debt_interest_spending = 0 }
            }
        #
        # Specialists
            if = {
                limit = {
                    check_variable = { specialists_workforce > 0 }
                }
                set_variable = { specialists = specialists_workforce }
                divide_variable = { specialists = pops_workforce_percentage }
                set_variable = { specialists_percentage = specialists }
                divide_variable = { specialists_percentage = pops }

                add_to_variable = { pops_employed = specialists_employed }

                set_variable = { specialists_unemployed = specialists_workforce }
                subtract_from_variable = { specialists_unemployed = specialists_employed }

                # Earnings/Spending
                set_variable = { specialists_earnings = specialists_employed }
                multiply_variable = { specialists_earnings = specialists_wage }
                add_to_variable = { pops_earnings = specialists_earnings }

				set_variable = { specialists_food_cost = specialists_food_need }
			    multiply_variable = { specialists_food_cost = price@token:resource_food }
				set_variable = { specialists_consumer_goods_cost = specialists_consumer_goods_need }
			    multiply_variable = { specialists_consumer_goods_cost = price@token:resource_consumer_goods }
				set_variable = { specialists_luxury_goods_cost = specialists_luxury_goods_need }
			    multiply_variable = { specialists_luxury_goods_cost = price@token:resource_luxury_goods }
				set_variable = { specialists_energy_materials_cost = specialists_energy_materials_need }
			    multiply_variable = { specialists_energy_materials_cost = price@token:resource_energy_materials }
				set_variable = { specialists_electricity_cost = specialists_electricity_need }
			    multiply_variable = { specialists_electricity_cost = price@token:resource_electricity }
				set_variable = { specialists_services_cost = specialists_services_need }
			    multiply_variable = { specialists_services_cost = price@token:resource_services }

				set_variable = { specialists_needs_spending = specialists_food_cost }
                add_to_variable = { specialists_needs_spending = specialists_consumer_goods_cost }
                add_to_variable = { specialists_needs_spending = specialists_luxury_goods_cost }
                add_to_variable = { specialists_needs_spending = specialists_energy_materials_cost }
                add_to_variable = { specialists_needs_spending = specialists_electricity_cost }
                add_to_variable = { specialists_needs_spending = specialists_services_cost }

                set_variable = { specialists_col = specialists_needs_spending }
                divide_variable = { specialists_col = specialists_workforce }
                
                #Standard of Living
                set_temp_variable = { sol_temp = specialists_sol }
                multiply_temp_variable = { sol_temp = specialists_workforce }
                add_to_variable = { pops_sol = sol_temp }

                set_variable = { specialists_goods_spending = specialists_needs_spending }
                set_variable = { specialists_spending = specialists_needs_spending }

                #Income Tax
                set_temp_variable = { avg_earnings_temp = specialists_earnings }
                divide_temp_variable = { avg_earnings_temp = specialists }
                set_variable = { specialists_income_tax_spending = specialists_earnings }
                if = {
                    limit = {
                        check_variable = { avg_earnings_temp < lower_earnings_limit }
                    }
                    multiply_variable = { specialists_income_tax_spending = lower_income_multiplier }
                }
                else_if = {
                    limit = {
                        check_variable = { avg_earnings_temp < upper_earnings_limit }
                    }
                    multiply_variable = { specialists_income_tax_spending = middle_income_multiplier }
                }
                else = {
                    multiply_variable = { specialists_income_tax_spending = upper_income_multiplier }
                }
                add_to_variable = { specialists_spending = specialists_income_tax_spending }
                add_to_variable = { pops_income_tax_spending = specialists_income_tax_spending }

                #Spending Target
                set_variable = { specialists_spending_target = specialists_earnings }
                subtract_from_variable = { specialists_spending_target = specialists_income_tax_spending }
                multiply_variable = { specialists_spending_target = cons_conf_temp }
                add_to_variable = { pops_spending_target = specialists_spending_target }

                #Sales Tax
                set_variable = { specialists_sales_tax_spending = specialists_needs_spending }
                multiply_variable = { specialists_sales_tax_spending = sales_tax_multiplier }
                add_to_variable = { specialists_spending = specialists_sales_tax_spending }
                add_to_variable = { pops_sales_tax_spending = specialists_sales_tax_spending }

                #Interest
                set_variable = { specialists_debt_interest_spending = specialists_debt }
                divide_variable = { specialists_debt_interest_spending = 12 }
                multiply_variable = { specialists_debt_interest_spending = controller:interest_rate }
                divide_variable = { specialists_debt_interest_spending = 100 }
                add_to_variable = { specialists_spending = specialists_debt_interest_spending }
                add_to_variable = { pops_debt_interest_spending = specialists_debt_interest_spending }
            }
            else = {
                set_variable = { specialists_spending = 0 }
                subtract_from_variable = { specialists_spending_target = 0 }
                set_variable = { specialists_income_tax_spending = 0 }
                set_variable = { specialists_sales_tax_spending = 0 }
                set_variable = { specialists_debt_interest_spending = 0 }
            }
        #
        # Aristocrats
            if = {
                limit = {
                    check_variable = { aristocrats_workforce > 0 }
                }
                set_variable = { aristocrats = aristocrats_workforce }
                divide_variable = { aristocrats = pops_workforce_percentage }
                set_variable = { aristocrats_percentage = aristocrats }
                divide_variable = { aristocrats_percentage = pops }

                add_to_variable = { pops_employed = aristocrats_employed }

                set_variable = { aristocrats_unemployed = aristocrats_workforce }
                subtract_from_variable = { aristocrats_unemployed = aristocrats_employed }

                # Earnings/Spending
                set_variable = { aristocrats_earnings = aristocrats_employed }
                multiply_variable = { aristocrats_earnings = aristocrats_wage }
                add_to_variable = { pops_earnings = aristocrats_earnings }

				set_variable = { aristocrats_food_cost = aristocrats_food_need }
			    multiply_variable = { aristocrats_food_cost = price@token:resource_food }
				set_variable = { aristocrats_consumer_goods_cost = aristocrats_consumer_goods_need }
			    multiply_variable = { aristocrats_consumer_goods_cost = price@token:resource_consumer_goods }
				set_variable = { aristocrats_luxury_goods_cost = aristocrats_luxury_goods_need }
			    multiply_variable = { aristocrats_luxury_goods_cost = price@token:resource_luxury_goods }
				set_variable = { aristocrats_energy_materials_cost = aristocrats_energy_materials_need }
			    multiply_variable = { aristocrats_energy_materials_cost = price@token:resource_energy_materials }
				set_variable = { aristocrats_electricity_cost = aristocrats_electricity_need }
			    multiply_variable = { aristocrats_electricity_cost = price@token:resource_electricity }
				set_variable = { aristocrats_services_cost = aristocrats_services_need }
			    multiply_variable = { aristocrats_services_cost = price@token:resource_services }

				set_variable = { aristocrats_needs_spending = aristocrats_food_cost }
                add_to_variable = { aristocrats_needs_spending = aristocrats_consumer_goods_cost }
                add_to_variable = { aristocrats_needs_spending = aristocrats_luxury_goods_cost }
                add_to_variable = { aristocrats_needs_spending = aristocrats_energy_materials_cost }
                add_to_variable = { aristocrats_needs_spending = aristocrats_electricity_cost }
                add_to_variable = { aristocrats_needs_spending = aristocrats_services_cost }

                set_variable = { aristocrats_col = aristocrats_needs_spending }
                divide_variable = { aristocrats_col = aristocrats_workforce }
                
                #Standard of Living
                set_temp_variable = { sol_temp = aristocrats_sol }
                multiply_temp_variable = { sol_temp = aristocrats_workforce }
                add_to_variable = { pops_sol = sol_temp }

                set_variable = { aristocrats_goods_spending = aristocrats_needs_spending }
                set_variable = { aristocrats_spending = aristocrats_needs_spending }

                #Income Tax
                set_temp_variable = { avg_earnings_temp = aristocrats_earnings }
                divide_temp_variable = { avg_earnings_temp = aristocrats }
                set_variable = { aristocrats_income_tax_spending = aristocrats_earnings }
                if = {
                    limit = {
                        check_variable = { avg_earnings_temp < lower_earnings_limit }
                    }
                    multiply_variable = { aristocrats_income_tax_spending = lower_income_multiplier }
                }
                else_if = {
                    limit = {
                        check_variable = { avg_earnings_temp < upper_earnings_limit }
                    }
                    multiply_variable = { aristocrats_income_tax_spending = middle_income_multiplier }
                }
                else = {
                    multiply_variable = { aristocrats_income_tax_spending = upper_income_multiplier }
                }
                add_to_variable = { aristocrats_spending = aristocrats_income_tax_spending }
                add_to_variable = { pops_income_tax_spending = aristocrats_income_tax_spending }

                #Spending Target
                set_variable = { aristocrats_spending_target = aristocrats_earnings }
                subtract_from_variable = { aristocrats_spending_target = aristocrats_income_tax_spending }
                multiply_variable = { aristocrats_spending_target = cons_conf_temp }
                add_to_variable = { pops_spending_target = aristocrats_spending_target }

                #Sales Tax
                set_variable = { aristocrats_sales_tax_spending = aristocrats_needs_spending }
                multiply_variable = { aristocrats_sales_tax_spending = sales_tax_multiplier }
                add_to_variable = { aristocrats_spending = aristocrats_sales_tax_spending }
                add_to_variable = { pops_sales_tax_spending = aristocrats_sales_tax_spending }

                #Interest
                set_variable = { aristocrats_debt_interest_spending = aristocrats_debt }
                divide_variable = { aristocrats_debt_interest_spending = 12 }
                multiply_variable = { aristocrats_debt_interest_spending = controller:interest_rate }
                divide_variable = { aristocrats_debt_interest_spending = 100 }
                add_to_variable = { aristocrats_spending = aristocrats_debt_interest_spending }
                add_to_variable = { pops_debt_interest_spending = aristocrats_debt_interest_spending }
            }
            else = {
                set_variable = { aristocrats_spending = 0 }
                subtract_from_variable = { aristocrats_spending_target = 0 }
                set_variable = { aristocrats_income_tax_spending = 0 }
                set_variable = { aristocrats_sales_tax_spending = 0 }
                set_variable = { aristocrats_debt_interest_spending = 0 }
            }
        #
        # Capitalists
            if = {
                limit = {
                    check_variable = { capitalists_workforce > 0 }
                }
                set_variable = { capitalists = capitalists_workforce }
                divide_variable = { capitalists = pops_workforce_percentage }
                set_variable = { capitalists_percentage = capitalists }
                divide_variable = { capitalists_percentage = pops }

                add_to_variable = { pops_employed = capitalists_employed }

                set_variable = { capitalists_unemployed = capitalists_workforce }
                subtract_from_variable = { capitalists_unemployed = capitalists_employed }

                # Earnings/Spending
                set_variable = { capitalists_earnings = capitalists_employed }
                multiply_variable = { capitalists_earnings = capitalists_wage }
                add_to_variable = { pops_earnings = capitalists_earnings }

				set_variable = { capitalists_food_cost = capitalists_food_need }
			    multiply_variable = { capitalists_food_cost = price@token:resource_food }
				set_variable = { capitalists_consumer_goods_cost = capitalists_consumer_goods_need }
			    multiply_variable = { capitalists_consumer_goods_cost = price@token:resource_consumer_goods }
				set_variable = { capitalists_luxury_goods_cost = capitalists_luxury_goods_need }
			    multiply_variable = { capitalists_luxury_goods_cost = price@token:resource_luxury_goods }
				set_variable = { capitalists_energy_materials_cost = capitalists_energy_materials_need }
			    multiply_variable = { capitalists_energy_materials_cost = price@token:resource_energy_materials }
				set_variable = { capitalists_electricity_cost = capitalists_electricity_need }
			    multiply_variable = { capitalists_electricity_cost = price@token:resource_electricity }
				set_variable = { capitalists_services_cost = capitalists_services_need }
			    multiply_variable = { capitalists_services_cost = price@token:resource_services }

				set_variable = { capitalists_needs_spending = capitalists_food_cost }
                add_to_variable = { capitalists_needs_spending = capitalists_consumer_goods_cost }
                add_to_variable = { capitalists_needs_spending = capitalists_luxury_goods_cost }
                add_to_variable = { capitalists_needs_spending = capitalists_energy_materials_cost }
                add_to_variable = { capitalists_needs_spending = capitalists_electricity_cost }
                add_to_variable = { capitalists_needs_spending = capitalists_services_cost }

                set_variable = { capitalists_col = capitalists_needs_spending }
                divide_variable = { capitalists_col = capitalists_workforce }
                
                #Standard of Living
                set_temp_variable = { sol_temp = capitalists_sol }
                multiply_temp_variable = { sol_temp = capitalists_workforce }
                add_to_variable = { pops_sol = sol_temp }

                set_variable = { capitalists_goods_spending = capitalists_needs_spending }
                set_variable = { capitalists_spending = capitalists_needs_spending }

                #Income Tax
                set_temp_variable = { avg_earnings_temp = capitalists_earnings }
                divide_temp_variable = { avg_earnings_temp = capitalists }
                set_variable = { capitalists_income_tax_spending = capitalists_earnings }
                if = {
                    limit = {
                        check_variable = { avg_earnings_temp < lower_earnings_limit }
                    }
                    multiply_variable = { capitalists_income_tax_spending = lower_income_multiplier }
                }
                else_if = {
                    limit = {
                        check_variable = { avg_earnings_temp < upper_earnings_limit }
                    }
                    multiply_variable = { capitalists_income_tax_spending = middle_income_multiplier }
                }
                else = {
                    multiply_variable = { capitalists_income_tax_spending = upper_income_multiplier }
                }
                add_to_variable = { capitalists_spending = capitalists_income_tax_spending }
                add_to_variable = { pops_income_tax_spending = capitalists_income_tax_spending }

                #Spending Target
                set_variable = { capitalists_spending_target = capitalists_earnings }
                subtract_from_variable = { capitalists_spending_target = capitalists_income_tax_spending }
                multiply_variable = { capitalists_spending_target = cons_conf_temp }
                add_to_variable = { pops_spending_target = capitalists_spending_target }

                #Sales Tax
                set_variable = { capitalists_sales_tax_spending = capitalists_needs_spending }
                multiply_variable = { capitalists_sales_tax_spending = sales_tax_multiplier }
                add_to_variable = { capitalists_spending = capitalists_sales_tax_spending }
                add_to_variable = { pops_sales_tax_spending = capitalists_sales_tax_spending }

                #Interest
                set_variable = { capitalists_debt_interest_spending = capitalists_debt }
                divide_variable = { capitalists_debt_interest_spending = 12 }
                multiply_variable = { capitalists_debt_interest_spending = controller:interest_rate }
                divide_variable = { capitalists_debt_interest_spending = 100 }
                add_to_variable = { capitalists_spending = capitalists_debt_interest_spending }
                add_to_variable = { pops_debt_interest_spending = capitalists_debt_interest_spending }
            }
            else = {
                set_variable = { capitalists_spending = 0 }
                subtract_from_variable = { capitalists_spending_target = 0 }
                set_variable = { capitalists_income_tax_spending = 0 }
                set_variable = { capitalists_sales_tax_spending = 0 }
                set_variable = { capitalists_debt_interest_spending = 0 }
            }
        #
        # Bureaucrats
            if = {
                limit = {
                    check_variable = { bureaucrats_workforce > 0 }
                }
                set_variable = { bureaucrats = bureaucrats_workforce }
                divide_variable = { bureaucrats = pops_workforce_percentage }
                set_variable = { bureaucrats_percentage = bureaucrats }
                divide_variable = { bureaucrats_percentage = pops }

                add_to_variable = { pops_employed = bureaucrats_employed }

                set_variable = { bureaucrats_unemployed = bureaucrats_workforce }
                subtract_from_variable = { bureaucrats_unemployed = bureaucrats_employed }

                # Earnings/Spending
                set_variable = { bureaucrats_earnings = bureaucrats_employed }
                multiply_variable = { bureaucrats_earnings = professionals_wage }
                add_to_variable = { pops_earnings = bureaucrats_earnings }

				set_variable = { bureaucrats_food_cost = bureaucrats_food_need }
			    multiply_variable = { bureaucrats_food_cost = price@token:resource_food }
				set_variable = { bureaucrats_consumer_goods_cost = bureaucrats_consumer_goods_need }
			    multiply_variable = { bureaucrats_consumer_goods_cost = price@token:resource_consumer_goods }
				set_variable = { bureaucrats_luxury_goods_cost = bureaucrats_luxury_goods_need }
			    multiply_variable = { bureaucrats_luxury_goods_cost = price@token:resource_luxury_goods }
				set_variable = { bureaucrats_energy_materials_cost = bureaucrats_energy_materials_need }
			    multiply_variable = { bureaucrats_energy_materials_cost = price@token:resource_energy_materials }
				set_variable = { bureaucrats_electricity_cost = bureaucrats_electricity_need }
			    multiply_variable = { bureaucrats_electricity_cost = price@token:resource_electricity }
				set_variable = { bureaucrats_services_cost = bureaucrats_services_need }
			    multiply_variable = { bureaucrats_services_cost = price@token:resource_services }

				set_variable = { bureaucrats_needs_spending = bureaucrats_food_cost }
                add_to_variable = { bureaucrats_needs_spending = bureaucrats_consumer_goods_cost }
                add_to_variable = { bureaucrats_needs_spending = bureaucrats_luxury_goods_cost }
                add_to_variable = { bureaucrats_needs_spending = bureaucrats_energy_materials_cost }
                add_to_variable = { bureaucrats_needs_spending = bureaucrats_electricity_cost }
                add_to_variable = { bureaucrats_needs_spending = bureaucrats_services_cost }

                set_variable = { bureaucrats_col = bureaucrats_needs_spending }
                divide_variable = { bureaucrats_col = bureaucrats_workforce }
                
                #Standard of Living
                set_temp_variable = { sol_temp = bureaucrats_sol }
                multiply_temp_variable = { sol_temp = bureaucrats_workforce }
                add_to_variable = { pops_sol = sol_temp }

                set_variable = { bureaucrats_goods_spending = bureaucrats_needs_spending }
                set_variable = { bureaucrats_spending = bureaucrats_needs_spending }

                #Income Tax
                set_temp_variable = { avg_earnings_temp = bureaucrats_earnings }
                divide_temp_variable = { avg_earnings_temp = bureaucrats }
                set_variable = { bureaucrats_income_tax_spending = bureaucrats_earnings }
                if = {
                    limit = {
                        check_variable = { avg_earnings_temp < lower_earnings_limit }
                    }
                    multiply_variable = { bureaucrats_income_tax_spending = lower_income_multiplier }
                }
                else_if = {
                    limit = {
                        check_variable = { avg_earnings_temp < upper_earnings_limit }
                    }
                    multiply_variable = { bureaucrats_income_tax_spending = middle_income_multiplier }
                }
                else = {
                    multiply_variable = { bureaucrats_income_tax_spending = upper_income_multiplier }
                }
                add_to_variable = { bureaucrats_spending = bureaucrats_income_tax_spending }
                add_to_variable = { pops_income_tax_spending = bureaucrats_income_tax_spending }

                #Spending Target
                set_variable = { bureaucrats_spending_target = bureaucrats_earnings }
                subtract_from_variable = { bureaucrats_spending_target = bureaucrats_income_tax_spending }
                multiply_variable = { bureaucrats_spending_target = cons_conf_temp }
                add_to_variable = { pops_spending_target = bureaucrats_spending_target }

                #Sales Tax
                set_variable = { bureaucrats_sales_tax_spending = bureaucrats_needs_spending }
                multiply_variable = { bureaucrats_sales_tax_spending = sales_tax_multiplier }
                add_to_variable = { bureaucrats_spending = bureaucrats_sales_tax_spending }
                add_to_variable = { pops_sales_tax_spending = bureaucrats_sales_tax_spending }

                #Interest
                set_variable = { bureaucrats_debt_interest_spending = bureaucrats_debt }
                divide_variable = { bureaucrats_debt_interest_spending = 12 }
                multiply_variable = { bureaucrats_debt_interest_spending = controller:interest_rate }
                divide_variable = { bureaucrats_debt_interest_spending = 100 }
                add_to_variable = { bureaucrats_spending = bureaucrats_debt_interest_spending }
                add_to_variable = { pops_debt_interest_spending = bureaucrats_debt_interest_spending }
            }
            else = {
                set_variable = { bureaucrats_spending = 0 }
                subtract_from_variable = { bureaucrats_spending_target = 0 }
                set_variable = { bureaucrats_income_tax_spending = 0 }
                set_variable = { bureaucrats_sales_tax_spending = 0 }
                set_variable = { bureaucrats_debt_interest_spending = 0 }
            }
        #
        # Soldiers
            if = {
                limit = {
                    check_variable = { soldiers_workforce > 0 }
                }
                set_variable = { soldiers = soldiers_workforce }
                divide_variable = { soldiers = pops_workforce_percentage }
                set_variable = { soldiers_percentage = soldiers }
                divide_variable = { soldiers_percentage = pops }

                add_to_variable = { pops_employed = soldiers_employed }

                set_variable = { soldiers_unemployed = soldiers_workforce }
                subtract_from_variable = { soldiers_unemployed = soldiers_employed }

                # Earnings/Spending
                set_variable = { soldiers_earnings = soldiers_employed }
                multiply_variable = { soldiers_earnings = workers_wage }
                add_to_variable = { pops_earnings = soldiers_earnings }

				set_variable = { soldiers_food_cost = soldiers_food_need }
			    multiply_variable = { soldiers_food_cost = price@token:resource_food }
				set_variable = { soldiers_consumer_goods_cost = soldiers_consumer_goods_need }
			    multiply_variable = { soldiers_consumer_goods_cost = price@token:resource_consumer_goods }
				set_variable = { soldiers_luxury_goods_cost = soldiers_luxury_goods_need }
			    multiply_variable = { soldiers_luxury_goods_cost = price@token:resource_luxury_goods }
				set_variable = { soldiers_energy_materials_cost = soldiers_energy_materials_need }
			    multiply_variable = { soldiers_energy_materials_cost = price@token:resource_energy_materials }
				set_variable = { soldiers_electricity_cost = soldiers_electricity_need }
			    multiply_variable = { soldiers_electricity_cost = price@token:resource_electricity }
				set_variable = { soldiers_services_cost = soldiers_services_need }
			    multiply_variable = { soldiers_services_cost = price@token:resource_services }

				set_variable = { soldiers_needs_spending = soldiers_food_cost }
                add_to_variable = { soldiers_needs_spending = soldiers_consumer_goods_cost }
                add_to_variable = { soldiers_needs_spending = soldiers_luxury_goods_cost }
                add_to_variable = { soldiers_needs_spending = soldiers_energy_materials_cost }
                add_to_variable = { soldiers_needs_spending = soldiers_electricity_cost }
                add_to_variable = { soldiers_needs_spending = soldiers_services_cost }

                set_variable = { soldiers_col = soldiers_needs_spending }
                divide_variable = { soldiers_col = soldiers_workforce }
                
                #Standard of Living
                set_temp_variable = { sol_temp = soldiers_sol }
                multiply_temp_variable = { sol_temp = soldiers_workforce }
                add_to_variable = { pops_sol = sol_temp }

                set_variable = { soldiers_goods_spending = soldiers_needs_spending }
                set_variable = { soldiers_spending = soldiers_needs_spending }

                #Income Tax
                set_temp_variable = { avg_earnings_temp = soldiers_earnings }
                divide_temp_variable = { avg_earnings_temp = soldiers }
                set_variable = { soldiers_income_tax_spending = soldiers_earnings }
                if = {
                    limit = {
                        check_variable = { avg_earnings_temp < lower_earnings_limit }
                    }
                    multiply_variable = { soldiers_income_tax_spending = lower_income_multiplier }
                }
                else_if = {
                    limit = {
                        check_variable = { avg_earnings_temp < upper_earnings_limit }
                    }
                    multiply_variable = { soldiers_income_tax_spending = middle_income_multiplier }
                }
                else = {
                    multiply_variable = { soldiers_income_tax_spending = upper_income_multiplier }
                }
                add_to_variable = { soldiers_spending = soldiers_income_tax_spending }
                add_to_variable = { pops_income_tax_spending = soldiers_income_tax_spending }

                #Spending Target
                set_variable = { soldiers_spending_target = soldiers_earnings }
                subtract_from_variable = { soldiers_spending_target = soldiers_income_tax_spending }
                multiply_variable = { soldiers_spending_target = cons_conf_temp }
                add_to_variable = { pops_spending_target = soldiers_spending_target }

                #Sales Tax
                set_variable = { soldiers_sales_tax_spending = soldiers_needs_spending }
                multiply_variable = { soldiers_sales_tax_spending = sales_tax_multiplier }
                add_to_variable = { soldiers_spending = soldiers_sales_tax_spending }
                add_to_variable = { pops_sales_tax_spending = soldiers_sales_tax_spending }

                #Interest
                set_variable = { soldiers_debt_interest_spending = soldiers_debt }
                divide_variable = { soldiers_debt_interest_spending = 12 }
                multiply_variable = { soldiers_debt_interest_spending = controller:interest_rate }
                divide_variable = { soldiers_debt_interest_spending = 100 }
                add_to_variable = { soldiers_spending = soldiers_debt_interest_spending }
                add_to_variable = { pops_debt_interest_spending = soldiers_debt_interest_spending }
            }
            else = {
                set_variable = { soldiers_spending = 0 }
                subtract_from_variable = { soldiers_spending_target = 0 }
                set_variable = { soldiers_income_tax_spending = 0 }
                set_variable = { soldiers_sales_tax_spending = 0 }
                set_variable = { soldiers_debt_interest_spending = 0 }
            }
        #

        set_variable = { pops_employed_percentage = pops_employed }
        divide_variable = { pops_employed_percentage = pops_workforce }

        set_variable = { pops_unemployed = pops_workforce }
        subtract_from_variable = { pops_unemployed = pops_employed }

        set_variable = { pops_unemployed_percentage = pops_unemployed }
        divide_variable = { pops_unemployed_percentage = pops_workforce }

        set_variable = { available_workforce = pops_unemployed }
        add_to_variable = { available_workforce = employed@token:building_subsistence_farm }
        add_to_variable = { available_workforce = employed@token:building_rice_paddy }

        set_variable = { pops_spending = pops_needs_spending }
        add_to_variable = { pops_spending = pops_income_tax_spending }
        add_to_variable = { pops_spending = pops_sales_tax_spending }
        add_to_variable = { pops_spending = pops_debt_interest_spending }

        divide_variable = { pops_sol = pops_workforce }
    }

    calculate_pop_needs = {
        # Calculates Pops Needs & Costs
        # NOTE: This does need magnitude_temp
        set_temp_variable = { magnitude_temp = 1 }

		#Slaves
			if = {
				limit = {
					check_variable = { slaves_workforce > 0 }
				}

				set_temp_variable = { sol_temp = slaves_sol }
				get_pop_needs = yes

				set_variable = { slaves_food_need = food_need_temp }
				set_variable = { slaves_consumer_goods_need = consumer_goods_need_temp }
				set_variable = { slaves_luxury_goods_need = luxury_goods_need_temp }
				set_variable = { slaves_energy_materials_need = energy_materials_need_temp }
				set_variable = { slaves_electricity_need = electricity_need_temp }
				set_variable = { slaves_services_need = services_need_temp }

				if = {
					limit = {
						check_variable = { slaves_workforce > 100 }
					}
					set_temp_variable = { cpn_pa_temp = slaves_workforce }
					divide_temp_variable = { cpn_pa_temp = magnitude_temp }

					#Multiply by Pop Amount
					multiply_variable = { slaves_food_need = cpn_pa_temp }
					multiply_variable = { slaves_consumer_goods_need = cpn_pa_temp }
					multiply_variable = { slaves_luxury_goods_need = cpn_pa_temp }
					multiply_variable = { slaves_energy_materials_need = cpn_pa_temp }
					multiply_variable = { slaves_electricity_need = cpn_pa_temp }
					multiply_variable = { slaves_services_need = cpn_pa_temp }
				}
				else = {
					#Multiply by Pop Amount
					multiply_variable = { slaves_food_need = slaves_workforce }
					multiply_variable = { slaves_consumer_goods_need = slaves_workforce }
					multiply_variable = { slaves_luxury_goods_need = slaves_workforce }
					multiply_variable = { slaves_energy_materials_need = slaves_workforce }
					multiply_variable = { slaves_electricity_need = slaves_workforce }
					multiply_variable = { slaves_services_need = slaves_workforce }

                    #Divide by magnitude_temp
					divide_variable = { slaves_food_need = magnitude_temp }
					divide_variable = { slaves_consumer_goods_need = magnitude_temp }
					divide_variable = { slaves_luxury_goods_need = magnitude_temp }
					divide_variable = { slaves_energy_materials_need = magnitude_temp }
					divide_variable = { slaves_electricity_need = magnitude_temp }
					divide_variable = { slaves_services_need = magnitude_temp }
				}
				#Divide by Workforce %
                divide_variable = { slaves_food_need = pops_workforce_participation }
                divide_variable = { slaves_consumer_goods_need = pops_workforce_participation }
                divide_variable = { slaves_luxury_goods_need = pops_workforce_participation }
                divide_variable = { slaves_energy_materials_need = pops_workforce_participation }
                divide_variable = { slaves_electricity_need = pops_workforce_participation }
                divide_variable = { slaves_services_need = pops_workforce_participation }

                multiply_variable = { slaves_food_need = global.pops_workforce_participation }
                multiply_variable = { slaves_consumer_goods_need = global.pops_workforce_participation }
                multiply_variable = { slaves_luxury_goods_need = global.pops_workforce_participation }
                multiply_variable = { slaves_energy_materials_need = global.pops_workforce_participation }
                multiply_variable = { slaves_electricity_need = global.pops_workforce_participation }
                multiply_variable = { slaves_services_need = global.pops_workforce_participation }
			}
			else = {
				clear_variable = slaves_food_need
				clear_variable = slaves_consumer_goods_need
				clear_variable = slaves_luxury_goods_need
				clear_variable = slaves_energy_materials_need
				clear_variable = slaves_electricity_need
				clear_variable = slaves_services_need
			}

		#
		#Peasants
			if = {
				limit = {
					check_variable = { peasants_workforce > 0 }
				}

				set_temp_variable = { sol_temp = peasants_sol }
				get_pop_needs = yes

				set_variable = { peasants_food_need = food_need_temp }
				set_variable = { peasants_consumer_goods_need = consumer_goods_need_temp }
				set_variable = { peasants_luxury_goods_need = luxury_goods_need_temp }
				set_variable = { peasants_energy_materials_need = energy_materials_need_temp }
				set_variable = { peasants_electricity_need = electricity_need_temp }
				set_variable = { peasants_services_need = services_need_temp }

				if = {
					limit = {
						check_variable = { peasants_workforce > 100 }
					}
					set_temp_variable = { cpn_pa_temp = peasants_workforce }
					divide_temp_variable = { cpn_pa_temp = magnitude_temp }

					#Multiply by Pop Amount
					multiply_variable = { peasants_food_need = cpn_pa_temp }
					multiply_variable = { peasants_consumer_goods_need = cpn_pa_temp }
					multiply_variable = { peasants_luxury_goods_need = cpn_pa_temp }
					multiply_variable = { peasants_energy_materials_need = cpn_pa_temp }
					multiply_variable = { peasants_electricity_need = cpn_pa_temp }
					multiply_variable = { peasants_services_need = cpn_pa_temp }
				}
				else = {
					#Multiply by Pop Amount
					multiply_variable = { peasants_food_need = peasants_workforce }
					multiply_variable = { peasants_consumer_goods_need = peasants_workforce }
					multiply_variable = { peasants_luxury_goods_need = peasants_workforce }
					multiply_variable = { peasants_energy_materials_need = peasants_workforce }
					multiply_variable = { peasants_electricity_need = peasants_workforce }
					multiply_variable = { peasants_services_need = peasants_workforce }

                    #Divide by magnitude_temp
					divide_variable = { peasants_food_need = magnitude_temp }
					divide_variable = { peasants_consumer_goods_need = magnitude_temp }
					divide_variable = { peasants_luxury_goods_need = magnitude_temp }
					divide_variable = { peasants_energy_materials_need = magnitude_temp }
					divide_variable = { peasants_electricity_need = magnitude_temp }
					divide_variable = { peasants_services_need = magnitude_temp }
				}
				#Divide by Workforce %
                divide_variable = { peasants_food_need = pops_workforce_participation }
                divide_variable = { peasants_consumer_goods_need = pops_workforce_participation }
                divide_variable = { peasants_luxury_goods_need = pops_workforce_participation }
                divide_variable = { peasants_energy_materials_need = pops_workforce_participation }
                divide_variable = { peasants_electricity_need = pops_workforce_participation }
                divide_variable = { peasants_services_need = pops_workforce_participation }

                multiply_variable = { peasants_food_need = global.pops_workforce_participation }
                multiply_variable = { peasants_consumer_goods_need = global.pops_workforce_participation }
                multiply_variable = { peasants_luxury_goods_need = global.pops_workforce_participation }
                multiply_variable = { peasants_energy_materials_need = global.pops_workforce_participation }
                multiply_variable = { peasants_electricity_need = global.pops_workforce_participation }
                multiply_variable = { peasants_services_need = global.pops_workforce_participation }
			}
			else = {
				clear_variable = peasants_food_need
				clear_variable = peasants_consumer_goods_need
				clear_variable = peasants_luxury_goods_need
				clear_variable = peasants_energy_materials_need
				clear_variable = peasants_electricity_need
				clear_variable = peasants_services_need
			}

		#
		#Laborers
			if = {
				limit = {
					check_variable = { laborers_workforce > 0 }
				}

				set_temp_variable = { sol_temp = laborers_sol }
				get_pop_needs = yes

				set_variable = { laborers_food_need = food_need_temp }
				set_variable = { laborers_consumer_goods_need = consumer_goods_need_temp }
				set_variable = { laborers_luxury_goods_need = luxury_goods_need_temp }
				set_variable = { laborers_energy_materials_need = energy_materials_need_temp }
				set_variable = { laborers_electricity_need = electricity_need_temp }
				set_variable = { laborers_services_need = services_need_temp }

				if = {
					limit = {
						check_variable = { laborers_workforce > 100 }
					}
					set_temp_variable = { cpn_pa_temp = laborers_workforce }
					divide_temp_variable = { cpn_pa_temp = magnitude_temp }

					#Multiply by Pop Amount
					multiply_variable = { laborers_food_need = cpn_pa_temp }
					multiply_variable = { laborers_consumer_goods_need = cpn_pa_temp }
					multiply_variable = { laborers_luxury_goods_need = cpn_pa_temp }
					multiply_variable = { laborers_energy_materials_need = cpn_pa_temp }
					multiply_variable = { laborers_electricity_need = cpn_pa_temp }
					multiply_variable = { laborers_services_need = cpn_pa_temp }
				}
				else = {
					#Multiply by Pop Amount
					multiply_variable = { laborers_food_need = laborers_workforce }
					multiply_variable = { laborers_consumer_goods_need = laborers_workforce }
					multiply_variable = { laborers_luxury_goods_need = laborers_workforce }
					multiply_variable = { laborers_energy_materials_need = laborers_workforce }
					multiply_variable = { laborers_electricity_need = laborers_workforce }
					multiply_variable = { laborers_services_need = laborers_workforce }

                    #Divide by magnitude_temp
					divide_variable = { laborers_food_need = magnitude_temp }
					divide_variable = { laborers_consumer_goods_need = magnitude_temp }
					divide_variable = { laborers_luxury_goods_need = magnitude_temp }
					divide_variable = { laborers_energy_materials_need = magnitude_temp }
					divide_variable = { laborers_electricity_need = magnitude_temp }
					divide_variable = { laborers_services_need = magnitude_temp }
				}
				#Divide by Workforce %
                divide_variable = { laborers_food_need = pops_workforce_participation }
                divide_variable = { laborers_consumer_goods_need = pops_workforce_participation }
                divide_variable = { laborers_luxury_goods_need = pops_workforce_participation }
                divide_variable = { laborers_energy_materials_need = pops_workforce_participation }
                divide_variable = { laborers_electricity_need = pops_workforce_participation }
                divide_variable = { laborers_services_need = pops_workforce_participation }

                multiply_variable = { laborers_food_need = global.pops_workforce_participation }
                multiply_variable = { laborers_consumer_goods_need = global.pops_workforce_participation }
                multiply_variable = { laborers_luxury_goods_need = global.pops_workforce_participation }
                multiply_variable = { laborers_energy_materials_need = global.pops_workforce_participation }
                multiply_variable = { laborers_electricity_need = global.pops_workforce_participation }
                multiply_variable = { laborers_services_need = global.pops_workforce_participation }
			}
			else = {
				clear_variable = laborers_food_need
				clear_variable = laborers_consumer_goods_need
				clear_variable = laborers_luxury_goods_need
				clear_variable = laborers_energy_materials_need
				clear_variable = laborers_electricity_need
				clear_variable = laborers_services_need
			}

		#
		#Workers
			if = {
				limit = {
					check_variable = { workers_workforce > 0 }
				}

				set_temp_variable = { sol_temp = workers_sol }
				get_pop_needs = yes

				set_variable = { workers_food_need = food_need_temp }
				set_variable = { workers_consumer_goods_need = consumer_goods_need_temp }
				set_variable = { workers_luxury_goods_need = luxury_goods_need_temp }
				set_variable = { workers_energy_materials_need = energy_materials_need_temp }
				set_variable = { workers_electricity_need = electricity_need_temp }
				set_variable = { workers_services_need = services_need_temp }

				if = {
					limit = {
						check_variable = { workers_workforce > 100 }
					}
					set_temp_variable = { cpn_pa_temp = workers_workforce }
					divide_temp_variable = { cpn_pa_temp = magnitude_temp }

					#Multiply by Pop Amount
					multiply_variable = { workers_food_need = cpn_pa_temp }
					multiply_variable = { workers_consumer_goods_need = cpn_pa_temp }
					multiply_variable = { workers_luxury_goods_need = cpn_pa_temp }
					multiply_variable = { workers_energy_materials_need = cpn_pa_temp }
					multiply_variable = { workers_electricity_need = cpn_pa_temp }
					multiply_variable = { workers_services_need = cpn_pa_temp }
				}
				else = {
					#Multiply by Pop Amount
					multiply_variable = { workers_food_need = workers_workforce }
					multiply_variable = { workers_consumer_goods_need = workers_workforce }
					multiply_variable = { workers_luxury_goods_need = workers_workforce }
					multiply_variable = { workers_energy_materials_need = workers_workforce }
					multiply_variable = { workers_electricity_need = workers_workforce }
					multiply_variable = { workers_services_need = workers_workforce }

                    #Divide by magnitude_temp
					divide_variable = { workers_food_need = magnitude_temp }
					divide_variable = { workers_consumer_goods_need = magnitude_temp }
					divide_variable = { workers_luxury_goods_need = magnitude_temp }
					divide_variable = { workers_energy_materials_need = magnitude_temp }
					divide_variable = { workers_electricity_need = magnitude_temp }
					divide_variable = { workers_services_need = magnitude_temp }
				}
				#Divide by Workforce %
                divide_variable = { workers_food_need = pops_workforce_participation }
                divide_variable = { workers_consumer_goods_need = pops_workforce_participation }
                divide_variable = { workers_luxury_goods_need = pops_workforce_participation }
                divide_variable = { workers_energy_materials_need = pops_workforce_participation }
                divide_variable = { workers_electricity_need = pops_workforce_participation }
                divide_variable = { workers_services_need = pops_workforce_participation }

                multiply_variable = { workers_food_need = global.pops_workforce_participation }
                multiply_variable = { workers_consumer_goods_need = global.pops_workforce_participation }
                multiply_variable = { workers_luxury_goods_need = global.pops_workforce_participation }
                multiply_variable = { workers_energy_materials_need = global.pops_workforce_participation }
                multiply_variable = { workers_electricity_need = global.pops_workforce_participation }
                multiply_variable = { workers_services_need = global.pops_workforce_participation }
			}
			else = {
				clear_variable = workers_food_need
				clear_variable = workers_consumer_goods_need
				clear_variable = workers_luxury_goods_need
				clear_variable = workers_energy_materials_need
				clear_variable = workers_electricity_need
				clear_variable = workers_services_need
			}

		#
		#Professionals
			if = {
				limit = {
					check_variable = { professionals_workforce > 0 }
				}

				set_temp_variable = { sol_temp = professionals_sol }
				get_pop_needs = yes

				set_variable = { professionals_food_need = food_need_temp }
				set_variable = { professionals_consumer_goods_need = consumer_goods_need_temp }
				set_variable = { professionals_luxury_goods_need = luxury_goods_need_temp }
				set_variable = { professionals_energy_materials_need = energy_materials_need_temp }
				set_variable = { professionals_electricity_need = electricity_need_temp }
				set_variable = { professionals_services_need = services_need_temp }

				if = {
					limit = {
						check_variable = { professionals_workforce > 100 }
					}
					set_temp_variable = { cpn_pa_temp = professionals_workforce }
					divide_temp_variable = { cpn_pa_temp = magnitude_temp }

					#Multiply by Pop Amount
					multiply_variable = { professionals_food_need = cpn_pa_temp }
					multiply_variable = { professionals_consumer_goods_need = cpn_pa_temp }
					multiply_variable = { professionals_luxury_goods_need = cpn_pa_temp }
					multiply_variable = { professionals_energy_materials_need = cpn_pa_temp }
					multiply_variable = { professionals_electricity_need = cpn_pa_temp }
					multiply_variable = { professionals_services_need = cpn_pa_temp }
				}
				else = {
					#Multiply by Pop Amount
					multiply_variable = { professionals_food_need = professionals_workforce }
					multiply_variable = { professionals_consumer_goods_need = professionals_workforce }
					multiply_variable = { professionals_luxury_goods_need = professionals_workforce }
					multiply_variable = { professionals_energy_materials_need = professionals_workforce }
					multiply_variable = { professionals_electricity_need = professionals_workforce }
					multiply_variable = { professionals_services_need = professionals_workforce }

                    #Divide by magnitude_temp
					divide_variable = { professionals_food_need = magnitude_temp }
					divide_variable = { professionals_consumer_goods_need = magnitude_temp }
					divide_variable = { professionals_luxury_goods_need = magnitude_temp }
					divide_variable = { professionals_energy_materials_need = magnitude_temp }
					divide_variable = { professionals_electricity_need = magnitude_temp }
					divide_variable = { professionals_services_need = magnitude_temp }
				}
				#Divide by Workforce %
                divide_variable = { professionals_food_need = pops_workforce_participation }
                divide_variable = { professionals_consumer_goods_need = pops_workforce_participation }
                divide_variable = { professionals_luxury_goods_need = pops_workforce_participation }
                divide_variable = { professionals_energy_materials_need = pops_workforce_participation }
                divide_variable = { professionals_electricity_need = pops_workforce_participation }
                divide_variable = { professionals_services_need = pops_workforce_participation }

                multiply_variable = { professionals_food_need = global.pops_workforce_participation }
                multiply_variable = { professionals_consumer_goods_need = global.pops_workforce_participation }
                multiply_variable = { professionals_luxury_goods_need = global.pops_workforce_participation }
                multiply_variable = { professionals_energy_materials_need = global.pops_workforce_participation }
                multiply_variable = { professionals_electricity_need = global.pops_workforce_participation }
                multiply_variable = { professionals_services_need = global.pops_workforce_participation }
			}
			else = {
				clear_variable = professionals_food_need
				clear_variable = professionals_consumer_goods_need
				clear_variable = professionals_luxury_goods_need
				clear_variable = professionals_energy_materials_need
				clear_variable = professionals_electricity_need
				clear_variable = professionals_services_need
			}

		#
		#Specialists
			if = {
				limit = {
					check_variable = { specialists_workforce > 0 }
				}

				set_temp_variable = { sol_temp = specialists_sol }
				get_pop_needs = yes

				set_variable = { specialists_food_need = food_need_temp }
				set_variable = { specialists_consumer_goods_need = consumer_goods_need_temp }
				set_variable = { specialists_luxury_goods_need = luxury_goods_need_temp }
				set_variable = { specialists_energy_materials_need = energy_materials_need_temp }
				set_variable = { specialists_electricity_need = electricity_need_temp }
				set_variable = { specialists_services_need = services_need_temp }

				if = {
					limit = {
						check_variable = { specialists_workforce > 100 }
					}
					set_temp_variable = { cpn_pa_temp = specialists_workforce }
					divide_temp_variable = { cpn_pa_temp = magnitude_temp }

					#Multiply by Pop Amount
					multiply_variable = { specialists_food_need = cpn_pa_temp }
					multiply_variable = { specialists_consumer_goods_need = cpn_pa_temp }
					multiply_variable = { specialists_luxury_goods_need = cpn_pa_temp }
					multiply_variable = { specialists_energy_materials_need = cpn_pa_temp }
					multiply_variable = { specialists_electricity_need = cpn_pa_temp }
					multiply_variable = { specialists_services_need = cpn_pa_temp }
				}
				else = {
					#Multiply by Pop Amount
					multiply_variable = { specialists_food_need = specialists_workforce }
					multiply_variable = { specialists_consumer_goods_need = specialists_workforce }
					multiply_variable = { specialists_luxury_goods_need = specialists_workforce }
					multiply_variable = { specialists_energy_materials_need = specialists_workforce }
					multiply_variable = { specialists_electricity_need = specialists_workforce }
					multiply_variable = { specialists_services_need = specialists_workforce }

                    #Divide by magnitude_temp
					divide_variable = { specialists_food_need = magnitude_temp }
					divide_variable = { specialists_consumer_goods_need = magnitude_temp }
					divide_variable = { specialists_luxury_goods_need = magnitude_temp }
					divide_variable = { specialists_energy_materials_need = magnitude_temp }
					divide_variable = { specialists_electricity_need = magnitude_temp }
					divide_variable = { specialists_services_need = magnitude_temp }
				}
				#Divide by Workforce %
                divide_variable = { specialists_food_need = pops_workforce_participation }
                divide_variable = { specialists_consumer_goods_need = pops_workforce_participation }
                divide_variable = { specialists_luxury_goods_need = pops_workforce_participation }
                divide_variable = { specialists_energy_materials_need = pops_workforce_participation }
                divide_variable = { specialists_electricity_need = pops_workforce_participation }
                divide_variable = { specialists_services_need = pops_workforce_participation }

                multiply_variable = { specialists_food_need = global.pops_workforce_participation }
                multiply_variable = { specialists_consumer_goods_need = global.pops_workforce_participation }
                multiply_variable = { specialists_luxury_goods_need = global.pops_workforce_participation }
                multiply_variable = { specialists_energy_materials_need = global.pops_workforce_participation }
                multiply_variable = { specialists_electricity_need = global.pops_workforce_participation }
                multiply_variable = { specialists_services_need = global.pops_workforce_participation }
			}
			else = {
				clear_variable = specialists_food_need
				clear_variable = specialists_consumer_goods_need
				clear_variable = specialists_luxury_goods_need
				clear_variable = specialists_energy_materials_need
				clear_variable = specialists_electricity_need
				clear_variable = specialists_services_need
			}

		#
		#Aristocrats
			if = {
				limit = {
					check_variable = { aristocrats_workforce > 0 }
				}

				set_temp_variable = { sol_temp = aristocrats_sol }
				get_pop_needs = yes

				set_variable = { aristocrats_food_need = food_need_temp }
				set_variable = { aristocrats_consumer_goods_need = consumer_goods_need_temp }
				set_variable = { aristocrats_luxury_goods_need = luxury_goods_need_temp }
				set_variable = { aristocrats_energy_materials_need = energy_materials_need_temp }
				set_variable = { aristocrats_electricity_need = electricity_need_temp }
				set_variable = { aristocrats_services_need = services_need_temp }

				if = {
					limit = {
						check_variable = { aristocrats_workforce > 100 }
					}
					set_temp_variable = { cpn_pa_temp = aristocrats_workforce }
					divide_temp_variable = { cpn_pa_temp = magnitude_temp }

					#Multiply by Pop Amount
					multiply_variable = { aristocrats_food_need = cpn_pa_temp }
					multiply_variable = { aristocrats_consumer_goods_need = cpn_pa_temp }
					multiply_variable = { aristocrats_luxury_goods_need = cpn_pa_temp }
					multiply_variable = { aristocrats_energy_materials_need = cpn_pa_temp }
					multiply_variable = { aristocrats_electricity_need = cpn_pa_temp }
					multiply_variable = { aristocrats_services_need = cpn_pa_temp }
				}
				else = {
					#Multiply by Pop Amount
					multiply_variable = { aristocrats_food_need = aristocrats_workforce }
					multiply_variable = { aristocrats_consumer_goods_need = aristocrats_workforce }
					multiply_variable = { aristocrats_luxury_goods_need = aristocrats_workforce }
					multiply_variable = { aristocrats_energy_materials_need = aristocrats_workforce }
					multiply_variable = { aristocrats_electricity_need = aristocrats_workforce }
					multiply_variable = { aristocrats_services_need = aristocrats_workforce }

                    #Divide by magnitude_temp
					divide_variable = { aristocrats_food_need = magnitude_temp }
					divide_variable = { aristocrats_consumer_goods_need = magnitude_temp }
					divide_variable = { aristocrats_luxury_goods_need = magnitude_temp }
					divide_variable = { aristocrats_energy_materials_need = magnitude_temp }
					divide_variable = { aristocrats_electricity_need = magnitude_temp }
					divide_variable = { aristocrats_services_need = magnitude_temp }
				}
				#Divide by Workforce %
                divide_variable = { aristocrats_food_need = pops_workforce_participation }
                divide_variable = { aristocrats_consumer_goods_need = pops_workforce_participation }
                divide_variable = { aristocrats_luxury_goods_need = pops_workforce_participation }
                divide_variable = { aristocrats_energy_materials_need = pops_workforce_participation }
                divide_variable = { aristocrats_electricity_need = pops_workforce_participation }
                divide_variable = { aristocrats_services_need = pops_workforce_participation }

                multiply_variable = { aristocrats_food_need = global.pops_workforce_participation }
                multiply_variable = { aristocrats_consumer_goods_need = global.pops_workforce_participation }
                multiply_variable = { aristocrats_luxury_goods_need = global.pops_workforce_participation }
                multiply_variable = { aristocrats_energy_materials_need = global.pops_workforce_participation }
                multiply_variable = { aristocrats_electricity_need = global.pops_workforce_participation }
                multiply_variable = { aristocrats_services_need = global.pops_workforce_participation }
			}
			else = {
				clear_variable = aristocrats_food_need
				clear_variable = aristocrats_consumer_goods_need
				clear_variable = aristocrats_luxury_goods_need
				clear_variable = aristocrats_energy_materials_need
				clear_variable = aristocrats_electricity_need
				clear_variable = aristocrats_services_need
			}

		#
		#Capitalists
			if = {
				limit = {
					check_variable = { capitalists_workforce > 0 }
				}

				set_temp_variable = { sol_temp = capitalists_sol }
				get_pop_needs = yes

				set_variable = { capitalists_food_need = food_need_temp }
				set_variable = { capitalists_consumer_goods_need = consumer_goods_need_temp }
				set_variable = { capitalists_luxury_goods_need = luxury_goods_need_temp }
				set_variable = { capitalists_energy_materials_need = energy_materials_need_temp }
				set_variable = { capitalists_electricity_need = electricity_need_temp }
				set_variable = { capitalists_services_need = services_need_temp }

				if = {
					limit = {
						check_variable = { capitalists_workforce > 100 }
					}
					set_temp_variable = { cpn_pa_temp = capitalists_workforce }
					divide_temp_variable = { cpn_pa_temp = magnitude_temp }

					#Multiply by Pop Amount
					multiply_variable = { capitalists_food_need = cpn_pa_temp }
					multiply_variable = { capitalists_consumer_goods_need = cpn_pa_temp }
					multiply_variable = { capitalists_luxury_goods_need = cpn_pa_temp }
					multiply_variable = { capitalists_energy_materials_need = cpn_pa_temp }
					multiply_variable = { capitalists_electricity_need = cpn_pa_temp }
					multiply_variable = { capitalists_services_need = cpn_pa_temp }
				}
				else = {
					#Multiply by Pop Amount
					multiply_variable = { capitalists_food_need = capitalists_workforce }
					multiply_variable = { capitalists_consumer_goods_need = capitalists_workforce }
					multiply_variable = { capitalists_luxury_goods_need = capitalists_workforce }
					multiply_variable = { capitalists_energy_materials_need = capitalists_workforce }
					multiply_variable = { capitalists_electricity_need = capitalists_workforce }
					multiply_variable = { capitalists_services_need = capitalists_workforce }

                    #Divide by magnitude_temp
					divide_variable = { capitalists_food_need = magnitude_temp }
					divide_variable = { capitalists_consumer_goods_need = magnitude_temp }
					divide_variable = { capitalists_luxury_goods_need = magnitude_temp }
					divide_variable = { capitalists_energy_materials_need = magnitude_temp }
					divide_variable = { capitalists_electricity_need = magnitude_temp }
					divide_variable = { capitalists_services_need = magnitude_temp }
				}
				#Divide by Workforce %
                divide_variable = { capitalists_food_need = pops_workforce_participation }
                divide_variable = { capitalists_consumer_goods_need = pops_workforce_participation }
                divide_variable = { capitalists_luxury_goods_need = pops_workforce_participation }
                divide_variable = { capitalists_energy_materials_need = pops_workforce_participation }
                divide_variable = { capitalists_electricity_need = pops_workforce_participation }
                divide_variable = { capitalists_services_need = pops_workforce_participation }

                multiply_variable = { capitalists_food_need = global.pops_workforce_participation }
                multiply_variable = { capitalists_consumer_goods_need = global.pops_workforce_participation }
                multiply_variable = { capitalists_luxury_goods_need = global.pops_workforce_participation }
                multiply_variable = { capitalists_energy_materials_need = global.pops_workforce_participation }
                multiply_variable = { capitalists_electricity_need = global.pops_workforce_participation }
                multiply_variable = { capitalists_services_need = global.pops_workforce_participation }
			}
			else = {
				clear_variable = capitalists_food_need
				clear_variable = capitalists_consumer_goods_need
				clear_variable = capitalists_luxury_goods_need
				clear_variable = capitalists_energy_materials_need
				clear_variable = capitalists_electricity_need
				clear_variable = capitalists_services_need
			}

		#
		#Bureaucrats
			if = {
				limit = {
					check_variable = { bureaucrats_workforce > 0 }
				}

				set_temp_variable = { sol_temp = bureaucrats_sol }
				get_pop_needs = yes

				set_variable = { bureaucrats_food_need = food_need_temp }
				set_variable = { bureaucrats_consumer_goods_need = consumer_goods_need_temp }
				set_variable = { bureaucrats_luxury_goods_need = luxury_goods_need_temp }
				set_variable = { bureaucrats_energy_materials_need = energy_materials_need_temp }
				set_variable = { bureaucrats_electricity_need = electricity_need_temp }
				set_variable = { bureaucrats_services_need = services_need_temp }

				if = {
					limit = {
						check_variable = { bureaucrats_workforce > 100 }
					}
					set_temp_variable = { cpn_pa_temp = bureaucrats_workforce }
					divide_temp_variable = { cpn_pa_temp = magnitude_temp }

					#Multiply by Pop Amount
					multiply_variable = { bureaucrats_food_need = cpn_pa_temp }
					multiply_variable = { bureaucrats_consumer_goods_need = cpn_pa_temp }
					multiply_variable = { bureaucrats_luxury_goods_need = cpn_pa_temp }
					multiply_variable = { bureaucrats_energy_materials_need = cpn_pa_temp }
					multiply_variable = { bureaucrats_electricity_need = cpn_pa_temp }
					multiply_variable = { bureaucrats_services_need = cpn_pa_temp }
				}
				else = {
					#Multiply by Pop Amount
					multiply_variable = { bureaucrats_food_need = bureaucrats_workforce }
					multiply_variable = { bureaucrats_consumer_goods_need = bureaucrats_workforce }
					multiply_variable = { bureaucrats_luxury_goods_need = bureaucrats_workforce }
					multiply_variable = { bureaucrats_energy_materials_need = bureaucrats_workforce }
					multiply_variable = { bureaucrats_electricity_need = bureaucrats_workforce }
					multiply_variable = { bureaucrats_services_need = bureaucrats_workforce }

                    #Divide by magnitude_temp
					divide_variable = { bureaucrats_food_need = magnitude_temp }
					divide_variable = { bureaucrats_consumer_goods_need = magnitude_temp }
					divide_variable = { bureaucrats_luxury_goods_need = magnitude_temp }
					divide_variable = { bureaucrats_energy_materials_need = magnitude_temp }
					divide_variable = { bureaucrats_electricity_need = magnitude_temp }
					divide_variable = { bureaucrats_services_need = magnitude_temp }
				}
				#Divide by Workforce %
                divide_variable = { bureaucrats_food_need = pops_workforce_participation }
                divide_variable = { bureaucrats_consumer_goods_need = pops_workforce_participation }
                divide_variable = { bureaucrats_luxury_goods_need = pops_workforce_participation }
                divide_variable = { bureaucrats_energy_materials_need = pops_workforce_participation }
                divide_variable = { bureaucrats_electricity_need = pops_workforce_participation }
                divide_variable = { bureaucrats_services_need = pops_workforce_participation }

                multiply_variable = { bureaucrats_food_need = global.pops_workforce_participation }
                multiply_variable = { bureaucrats_consumer_goods_need = global.pops_workforce_participation }
                multiply_variable = { bureaucrats_luxury_goods_need = global.pops_workforce_participation }
                multiply_variable = { bureaucrats_energy_materials_need = global.pops_workforce_participation }
                multiply_variable = { bureaucrats_electricity_need = global.pops_workforce_participation }
                multiply_variable = { bureaucrats_services_need = global.pops_workforce_participation }
			}
			else = {
				clear_variable = bureaucrats_food_need
				clear_variable = bureaucrats_consumer_goods_need
				clear_variable = bureaucrats_luxury_goods_need
				clear_variable = bureaucrats_energy_materials_need
				clear_variable = bureaucrats_electricity_need
				clear_variable = bureaucrats_services_need
			}

		#
		#Soldiers
			if = {
				limit = {
					check_variable = { soldiers_workforce > 0 }
				}

				set_temp_variable = { sol_temp = soldiers_sol }
				get_pop_needs = yes

				set_variable = { soldiers_food_need = food_need_temp }
				set_variable = { soldiers_consumer_goods_need = consumer_goods_need_temp }
				set_variable = { soldiers_luxury_goods_need = luxury_goods_need_temp }
				set_variable = { soldiers_energy_materials_need = energy_materials_need_temp }
				set_variable = { soldiers_electricity_need = electricity_need_temp }
				set_variable = { soldiers_services_need = services_need_temp }

				if = {
					limit = {
						check_variable = { soldiers_workforce > 100 }
					}
					set_temp_variable = { cpn_pa_temp = soldiers_workforce }
					divide_temp_variable = { cpn_pa_temp = magnitude_temp }

					#Multiply by Pop Amount
					multiply_variable = { soldiers_food_need = cpn_pa_temp }
					multiply_variable = { soldiers_consumer_goods_need = cpn_pa_temp }
					multiply_variable = { soldiers_luxury_goods_need = cpn_pa_temp }
					multiply_variable = { soldiers_energy_materials_need = cpn_pa_temp }
					multiply_variable = { soldiers_electricity_need = cpn_pa_temp }
					multiply_variable = { soldiers_services_need = cpn_pa_temp }
				}
				else = {
					#Multiply by Pop Amount
					multiply_variable = { soldiers_food_need = soldiers_workforce }
					multiply_variable = { soldiers_consumer_goods_need = soldiers_workforce }
					multiply_variable = { soldiers_luxury_goods_need = soldiers_workforce }
					multiply_variable = { soldiers_energy_materials_need = soldiers_workforce }
					multiply_variable = { soldiers_electricity_need = soldiers_workforce }
					multiply_variable = { soldiers_services_need = soldiers_workforce }

                    #Divide by magnitude_temp
					divide_variable = { soldiers_food_need = magnitude_temp }
					divide_variable = { soldiers_consumer_goods_need = magnitude_temp }
					divide_variable = { soldiers_luxury_goods_need = magnitude_temp }
					divide_variable = { soldiers_energy_materials_need = magnitude_temp }
					divide_variable = { soldiers_electricity_need = magnitude_temp }
					divide_variable = { soldiers_services_need = magnitude_temp }
				}
				#Divide by Workforce %
                divide_variable = { soldiers_food_need = pops_workforce_participation }
                divide_variable = { soldiers_consumer_goods_need = pops_workforce_participation }
                divide_variable = { soldiers_luxury_goods_need = pops_workforce_participation }
                divide_variable = { soldiers_energy_materials_need = pops_workforce_participation }
                divide_variable = { soldiers_electricity_need = pops_workforce_participation }
                divide_variable = { soldiers_services_need = pops_workforce_participation }

                multiply_variable = { soldiers_food_need = global.pops_workforce_participation }
                multiply_variable = { soldiers_consumer_goods_need = global.pops_workforce_participation }
                multiply_variable = { soldiers_luxury_goods_need = global.pops_workforce_participation }
                multiply_variable = { soldiers_energy_materials_need = global.pops_workforce_participation }
                multiply_variable = { soldiers_electricity_need = global.pops_workforce_participation }
                multiply_variable = { soldiers_services_need = global.pops_workforce_participation }
			}
			else = {
				clear_variable = soldiers_needs_spending
				clear_variable = soldiers_food_cost
				clear_variable = soldiers_consumer_goods_cost
				clear_variable = soldiers_luxury_goods_cost
				clear_variable = soldiers_energy_materials_cost
				clear_variable = soldiers_electricity_cost
				clear_variable = soldiers_services_cost

				clear_variable = soldiers_food_need
				clear_variable = soldiers_consumer_goods_need
				clear_variable = soldiers_luxury_goods_need
				clear_variable = soldiers_energy_materials_need
				clear_variable = soldiers_electricity_need
				clear_variable = soldiers_services_need
			}

		#

        #Total
            set_variable = { pops_needs_spending = 0 }
            set_variable = { pops_food_cost = 0 }
            set_variable = { pops_consumer_goods_cost = 0 }
            set_variable = { pops_luxury_goods_cost = 0 }
            set_variable = { pops_energy_materials_cost = 0 }
            set_variable = { pops_electricity_cost = 0 }
            set_variable = { pops_services_cost = 0 }

            set_variable = { pops_need@token:resource_food = 0 }
            set_variable = { pops_need@token:resource_consumer_goods = 0 }
            set_variable = { pops_need@token:resource_luxury_goods = 0 }
            set_variable = { pops_need@token:resource_energy_materials = 0 }
            set_variable = { pops_need@token:resource_electricity = 0 }
            set_variable = { pops_need@token:resource_services = 0 }

            #Slaves
                add_to_variable = { pops_needs_spending = slaves_needs_spending }
                add_to_variable = { pops_food_cost = slaves_food_cost }
                add_to_variable = { pops_consumer_goods_cost = slaves_consumer_goods_cost }
                add_to_variable = { pops_luxury_goods_cost = slaves_luxury_goods_cost }
                add_to_variable = { pops_energy_materials_cost = slaves_energy_materials_cost }
                add_to_variable = { pops_electricity_cost = slaves_electricity_cost }
                add_to_variable = { pops_services_cost = slaves_services_cost }
                add_to_variable = { pops_need@token:resource_food = slaves_food_need }
                add_to_variable = { pops_need@token:resource_consumer_goods = slaves_consumer_goods_need }
                add_to_variable = { pops_need@token:resource_luxury_goods = slaves_luxury_goods_need }
                add_to_variable = { pops_need@token:resource_energy_materials = slaves_energy_materials_need }
                add_to_variable = { pops_need@token:resource_electricity = slaves_electricity_need }
                add_to_variable = { pops_need@token:resource_services = slaves_services_need }
            #
            #Peasants
                add_to_variable = { pops_needs_spending = peasants_needs_spending }
                add_to_variable = { pops_food_cost = peasants_food_cost }
                add_to_variable = { pops_consumer_goods_cost = peasants_consumer_goods_cost }
                add_to_variable = { pops_luxury_goods_cost = peasants_luxury_goods_cost }
                add_to_variable = { pops_energy_materials_cost = peasants_energy_materials_cost }
                add_to_variable = { pops_electricity_cost = peasants_electricity_cost }
                add_to_variable = { pops_services_cost = peasants_services_cost }
                add_to_variable = { pops_need@token:resource_food = peasants_food_need }
                add_to_variable = { pops_need@token:resource_consumer_goods = peasants_consumer_goods_need }
                add_to_variable = { pops_need@token:resource_luxury_goods = peasants_luxury_goods_need }
                add_to_variable = { pops_need@token:resource_energy_materials = peasants_energy_materials_need }
                add_to_variable = { pops_need@token:resource_electricity = peasants_electricity_need }
                add_to_variable = { pops_need@token:resource_services = peasants_services_need }
            #
            #Laborers
                add_to_variable = { pops_needs_spending = laborers_needs_spending }
                add_to_variable = { pops_food_cost = laborers_food_cost }
                add_to_variable = { pops_consumer_goods_cost = laborers_consumer_goods_cost }
                add_to_variable = { pops_luxury_goods_cost = laborers_luxury_goods_cost }
                add_to_variable = { pops_energy_materials_cost = laborers_energy_materials_cost }
                add_to_variable = { pops_electricity_cost = laborers_electricity_cost }
                add_to_variable = { pops_services_cost = laborers_services_cost }
                add_to_variable = { pops_need@token:resource_food = laborers_food_need }
                add_to_variable = { pops_need@token:resource_consumer_goods = laborers_consumer_goods_need }
                add_to_variable = { pops_need@token:resource_luxury_goods = laborers_luxury_goods_need }
                add_to_variable = { pops_need@token:resource_energy_materials = laborers_energy_materials_need }
                add_to_variable = { pops_need@token:resource_electricity = laborers_electricity_need }
                add_to_variable = { pops_need@token:resource_services = laborers_services_need }
            #
            #Workers
                add_to_variable = { pops_needs_spending = workers_needs_spending }
                add_to_variable = { pops_food_cost = workers_food_cost }
                add_to_variable = { pops_consumer_goods_cost = workers_consumer_goods_cost }
                add_to_variable = { pops_luxury_goods_cost = workers_luxury_goods_cost }
                add_to_variable = { pops_energy_materials_cost = workers_energy_materials_cost }
                add_to_variable = { pops_electricity_cost = workers_electricity_cost }
                add_to_variable = { pops_services_cost = workers_services_cost }
                add_to_variable = { pops_need@token:resource_food = workers_food_need }
                add_to_variable = { pops_need@token:resource_consumer_goods = workers_consumer_goods_need }
                add_to_variable = { pops_need@token:resource_luxury_goods = workers_luxury_goods_need }
                add_to_variable = { pops_need@token:resource_energy_materials = workers_energy_materials_need }
                add_to_variable = { pops_need@token:resource_electricity = workers_electricity_need }
                add_to_variable = { pops_need@token:resource_services = workers_services_need }
            #
            #Professionals
                add_to_variable = { pops_needs_spending = professionals_needs_spending }
                add_to_variable = { pops_food_cost = professionals_food_cost }
                add_to_variable = { pops_consumer_goods_cost = professionals_consumer_goods_cost }
                add_to_variable = { pops_luxury_goods_cost = professionals_luxury_goods_cost }
                add_to_variable = { pops_energy_materials_cost = professionals_energy_materials_cost }
                add_to_variable = { pops_electricity_cost = professionals_electricity_cost }
                add_to_variable = { pops_services_cost = professionals_services_cost }
                add_to_variable = { pops_need@token:resource_food = professionals_food_need }
                add_to_variable = { pops_need@token:resource_consumer_goods = professionals_consumer_goods_need }
                add_to_variable = { pops_need@token:resource_luxury_goods = professionals_luxury_goods_need }
                add_to_variable = { pops_need@token:resource_energy_materials = professionals_energy_materials_need }
                add_to_variable = { pops_need@token:resource_electricity = professionals_electricity_need }
                add_to_variable = { pops_need@token:resource_services = professionals_services_need }
            #
            #Specialists
                add_to_variable = { pops_needs_spending = specialists_needs_spending }
                add_to_variable = { pops_food_cost = specialists_food_cost }
                add_to_variable = { pops_consumer_goods_cost = specialists_consumer_goods_cost }
                add_to_variable = { pops_luxury_goods_cost = specialists_luxury_goods_cost }
                add_to_variable = { pops_energy_materials_cost = specialists_energy_materials_cost }
                add_to_variable = { pops_electricity_cost = specialists_electricity_cost }
                add_to_variable = { pops_services_cost = specialists_services_cost }
                add_to_variable = { pops_need@token:resource_food = specialists_food_need }
                add_to_variable = { pops_need@token:resource_consumer_goods = specialists_consumer_goods_need }
                add_to_variable = { pops_need@token:resource_luxury_goods = specialists_luxury_goods_need }
                add_to_variable = { pops_need@token:resource_energy_materials = specialists_energy_materials_need }
                add_to_variable = { pops_need@token:resource_electricity = specialists_electricity_need }
                add_to_variable = { pops_need@token:resource_services = specialists_services_need }
            #
            #Aristocrats
                add_to_variable = { pops_needs_spending = aristocrats_needs_spending }
                add_to_variable = { pops_food_cost = aristocrats_food_cost }
                add_to_variable = { pops_consumer_goods_cost = aristocrats_consumer_goods_cost }
                add_to_variable = { pops_luxury_goods_cost = aristocrats_luxury_goods_cost }
                add_to_variable = { pops_energy_materials_cost = aristocrats_energy_materials_cost }
                add_to_variable = { pops_electricity_cost = aristocrats_electricity_cost }
                add_to_variable = { pops_services_cost = aristocrats_services_cost }
                add_to_variable = { pops_need@token:resource_food = aristocrats_food_need }
                add_to_variable = { pops_need@token:resource_consumer_goods = aristocrats_consumer_goods_need }
                add_to_variable = { pops_need@token:resource_luxury_goods = aristocrats_luxury_goods_need }
                add_to_variable = { pops_need@token:resource_energy_materials = aristocrats_energy_materials_need }
                add_to_variable = { pops_need@token:resource_electricity = aristocrats_electricity_need }
                add_to_variable = { pops_need@token:resource_services = aristocrats_services_need }
            #
            #Capitalists
                add_to_variable = { pops_needs_spending = capitalists_needs_spending }
                add_to_variable = { pops_food_cost = capitalists_food_cost }
                add_to_variable = { pops_consumer_goods_cost = capitalists_consumer_goods_cost }
                add_to_variable = { pops_luxury_goods_cost = capitalists_luxury_goods_cost }
                add_to_variable = { pops_energy_materials_cost = capitalists_energy_materials_cost }
                add_to_variable = { pops_electricity_cost = capitalists_electricity_cost }
                add_to_variable = { pops_services_cost = capitalists_services_cost }
                add_to_variable = { pops_need@token:resource_food = capitalists_food_need }
                add_to_variable = { pops_need@token:resource_consumer_goods = capitalists_consumer_goods_need }
                add_to_variable = { pops_need@token:resource_luxury_goods = capitalists_luxury_goods_need }
                add_to_variable = { pops_need@token:resource_energy_materials = capitalists_energy_materials_need }
                add_to_variable = { pops_need@token:resource_electricity = capitalists_electricity_need }
                add_to_variable = { pops_need@token:resource_services = capitalists_services_need }
            #
            #Bureaucrats
                add_to_variable = { pops_needs_spending = bureaucrats_needs_spending }
                add_to_variable = { pops_food_cost = bureaucrats_food_cost }
                add_to_variable = { pops_consumer_goods_cost = bureaucrats_consumer_goods_cost }
                add_to_variable = { pops_luxury_goods_cost = bureaucrats_luxury_goods_cost }
                add_to_variable = { pops_energy_materials_cost = bureaucrats_energy_materials_cost }
                add_to_variable = { pops_electricity_cost = bureaucrats_electricity_cost }
                add_to_variable = { pops_services_cost = bureaucrats_services_cost }
                add_to_variable = { pops_need@token:resource_food = bureaucrats_food_need }
                add_to_variable = { pops_need@token:resource_consumer_goods = bureaucrats_consumer_goods_need }
                add_to_variable = { pops_need@token:resource_luxury_goods = bureaucrats_luxury_goods_need }
                add_to_variable = { pops_need@token:resource_energy_materials = bureaucrats_energy_materials_need }
                add_to_variable = { pops_need@token:resource_electricity = bureaucrats_electricity_need }
                add_to_variable = { pops_need@token:resource_services = bureaucrats_services_need }
            #
            #Soldiers
                add_to_variable = { pops_needs_spending = soldiers_needs_spending }
                add_to_variable = { pops_food_cost = soldiers_food_cost }
                add_to_variable = { pops_consumer_goods_cost = soldiers_consumer_goods_cost }
                add_to_variable = { pops_luxury_goods_cost = soldiers_luxury_goods_cost }
                add_to_variable = { pops_energy_materials_cost = soldiers_energy_materials_cost }
                add_to_variable = { pops_electricity_cost = soldiers_electricity_cost }
                add_to_variable = { pops_services_cost = soldiers_services_cost }
                add_to_variable = { pops_need@token:resource_food = soldiers_food_need }
                add_to_variable = { pops_need@token:resource_consumer_goods = soldiers_consumer_goods_need }
                add_to_variable = { pops_need@token:resource_luxury_goods = soldiers_luxury_goods_need }
                add_to_variable = { pops_need@token:resource_energy_materials = soldiers_energy_materials_need }
                add_to_variable = { pops_need@token:resource_electricity = soldiers_electricity_need }
                add_to_variable = { pops_need@token:resource_services = soldiers_services_need }
            #
        #
    }
    get_pop_needs = {
		#Input:
		#	sol_temp
		#	pops_electricity_use

		#Note: All these values should be taken as 1 resource every 1K WORKFORCE pops
        #Output:
        # total_cost_temp
        #   food_need_temp
        #   food_cost_temp
        #   consumer_goods_need_temp
        #   consumer_goods_cost_temp
        #   luxury_goods_need_temp
        #   luxury_goods_cost_temp
        #   energy_materials_need_temp
        #   energy_materials_cost_temp
        #   electricity_need_temp
        #   electricity_cost_temp
        #   services_need_temp
        #   services_cost_temp

        set_temp_variable = { food_need_temp = global.pops_base_food_need }
        set_temp_variable = { food_increase_temp = global.pops_food_need_increase }
        multiply_temp_variable = { food_increase_temp = sol_temp }
        add_to_temp_variable = { food_need_temp = food_increase_temp }

        set_temp_variable = { consumer_goods_need_temp = global.pops_base_need@token:resource_consumer_goods }
        set_temp_variable = { luxury_goods_need_temp = global.pops_base_need@token:resource_luxury_goods }
        set_temp_variable = { energy_materials_need_temp = global.pops_base_need@token:resource_energy_materials }
        #set_temp_variable = { electricity_need_temp = 0 }
        set_temp_variable = { services_need_temp = global.pops_base_need@token:resource_services }

        set_temp_variable = { sol_start = 0 }
        if = {
            limit = {
                check_variable = { sol_temp > 9 }
            }
            set_temp_variable = { sol_start = 10 }

            multiply_temp_variable = { consumer_goods_need_temp = 2 }
            multiply_temp_variable = { luxury_goods_need_temp = 2 }
            multiply_temp_variable = { energy_materials_need_temp = 2 }
            multiply_temp_variable = { services_need_temp = 2 }

            add_to_temp_variable = { consumer_goods_need_temp = global.pops_10_need@token:resource_consumer_goods }
            add_to_temp_variable = { luxury_goods_need_temp = global.pops_10_need@token:resource_luxury_goods }
            add_to_temp_variable = { energy_materials_need_temp = global.pops_10_need@token:resource_energy_materials }
            add_to_temp_variable = { services_need_temp = global.pops_10_need@token:resource_services }
        }
        if = {
            limit = {
                check_variable = { sol_temp > 19 }
            }
            set_temp_variable = { sol_start = 20 }

            multiply_temp_variable = { consumer_goods_need_temp = 2 }
            multiply_temp_variable = { luxury_goods_need_temp = 2 }
            multiply_temp_variable = { energy_materials_need_temp = 2 }
            multiply_temp_variable = { services_need_temp = 2 }

            add_to_temp_variable = { consumer_goods_need_temp = global.pops_20_need@token:resource_consumer_goods }
            add_to_temp_variable = { luxury_goods_need_temp = global.pops_20_need@token:resource_luxury_goods }
            add_to_temp_variable = { energy_materials_need_temp = global.pops_20_need@token:resource_energy_materials }
            add_to_temp_variable = { services_need_temp = global.pops_20_need@token:resource_services }
        }
        if = {
            limit = {
                check_variable = { sol_temp > 29 }
            }
            set_temp_variable = { sol_start = 30 }

            multiply_temp_variable = { consumer_goods_need_temp = 2 }
            multiply_temp_variable = { luxury_goods_need_temp = 2 }
            multiply_temp_variable = { energy_materials_need_temp = 2 }
            multiply_temp_variable = { services_need_temp = 2 }

            add_to_temp_variable = { consumer_goods_need_temp = global.pops_30_need@token:resource_consumer_goods }
            add_to_temp_variable = { luxury_goods_need_temp = global.pops_30_need@token:resource_luxury_goods }
            add_to_temp_variable = { energy_materials_need_temp = global.pops_30_need@token:resource_energy_materials }
            add_to_temp_variable = { services_need_temp = global.pops_30_need@token:resource_services }
        }
        if = {
            limit = {
                check_variable = { sol_temp > 39 }
            }
            set_temp_variable = { sol_start = 40 }

            multiply_temp_variable = { consumer_goods_need_temp = 2 }
            multiply_temp_variable = { luxury_goods_need_temp = 2 }
            multiply_temp_variable = { energy_materials_need_temp = 2 }
            multiply_temp_variable = { services_need_temp = 2 }

            add_to_temp_variable = { consumer_goods_need_temp = global.pops_40_need@token:resource_consumer_goods }
            add_to_temp_variable = { luxury_goods_need_temp = global.pops_40_need@token:resource_luxury_goods }
            add_to_temp_variable = { energy_materials_need_temp = global.pops_40_need@token:resource_energy_materials }
            add_to_temp_variable = { services_need_temp = global.pops_40_need@token:resource_services }
        }
        if = {
            limit = {
                check_variable = { sol_temp > 49 }
            }
            set_temp_variable = { sol_start = 50 }

            multiply_temp_variable = { consumer_goods_need_temp = 2 }
            multiply_temp_variable = { luxury_goods_need_temp = 2 }
            multiply_temp_variable = { energy_materials_need_temp = 2 }
            multiply_temp_variable = { services_need_temp = 2 }

            add_to_temp_variable = { consumer_goods_need_temp = global.pops_50_need@token:resource_consumer_goods }
            add_to_temp_variable = { luxury_goods_need_temp = global.pops_50_need@token:resource_luxury_goods }
            add_to_temp_variable = { energy_materials_need_temp = global.pops_50_need@token:resource_energy_materials }
            add_to_temp_variable = { services_need_temp = global.pops_50_need@token:resource_services }
        }
        if = {
            limit = {
                check_variable = { sol_temp > 59 }
            }
            set_temp_variable = { sol_start = 60 }

            multiply_temp_variable = { consumer_goods_need_temp = 2 }
            multiply_temp_variable = { luxury_goods_need_temp = 2 }
            multiply_temp_variable = { energy_materials_need_temp = 2 }
            multiply_temp_variable = { services_need_temp = 2 }

            add_to_temp_variable = { consumer_goods_need_temp = global.pops_60_need@token:resource_consumer_goods }
            add_to_temp_variable = { luxury_goods_need_temp = global.pops_60_need@token:resource_luxury_goods }
            add_to_temp_variable = { energy_materials_need_temp = global.pops_60_need@token:resource_energy_materials }
            add_to_temp_variable = { services_need_temp = global.pops_60_need@token:resource_services }
        }
        if = {
            limit = {
                check_variable = { sol_temp > 69 }
            }
            set_temp_variable = { sol_start = 70 }

            multiply_temp_variable = { consumer_goods_need_temp = 2 }
            multiply_temp_variable = { luxury_goods_need_temp = 2 }
            multiply_temp_variable = { energy_materials_need_temp = 2 }
            multiply_temp_variable = { services_need_temp = 2 }

            add_to_temp_variable = { consumer_goods_need_temp = global.pops_70_need@token:resource_consumer_goods }
            add_to_temp_variable = { luxury_goods_need_temp = global.pops_70_need@token:resource_luxury_goods }
            add_to_temp_variable = { energy_materials_need_temp = global.pops_70_need@token:resource_energy_materials }
            add_to_temp_variable = { services_need_temp = global.pops_70_need@token:resource_services }
        }
        if = {
            limit = {
                check_variable = { sol_temp > 79 }
            }
            set_temp_variable = { sol_start = 80 }

            multiply_temp_variable = { consumer_goods_need_temp = 2 }
            multiply_temp_variable = { luxury_goods_need_temp = 2 }
            multiply_temp_variable = { energy_materials_need_temp = 2 }
            multiply_temp_variable = { services_need_temp = 2 }

            add_to_temp_variable = { consumer_goods_need_temp = global.pops_80_need@token:resource_consumer_goods }
            add_to_temp_variable = { luxury_goods_need_temp = global.pops_80_need@token:resource_luxury_goods }
            add_to_temp_variable = { energy_materials_need_temp = global.pops_80_need@token:resource_energy_materials }
            add_to_temp_variable = { services_need_temp = global.pops_80_need@token:resource_services }
        }
        if = {
            limit = {
                check_variable = { sol_temp > 89 }
            }
            set_temp_variable = { sol_start = 90 }

            multiply_temp_variable = { consumer_goods_need_temp = 2 }
            multiply_temp_variable = { luxury_goods_need_temp = 2 }
            multiply_temp_variable = { energy_materials_need_temp = 2 }
            multiply_temp_variable = { services_need_temp = 2 }

            add_to_temp_variable = { consumer_goods_need_temp = global.pops_90_need@token:resource_consumer_goods }
            add_to_temp_variable = { luxury_goods_need_temp = global.pops_90_need@token:resource_luxury_goods }
            add_to_temp_variable = { energy_materials_need_temp = global.pops_90_need@token:resource_energy_materials }
            add_to_temp_variable = { services_need_temp = global.pops_90_need@token:resource_services }
        }
        if = {
            limit = {
                check_variable = { sol_temp > 99 }
            }
            set_temp_variable = { sol_start = 100 }

            multiply_temp_variable = { consumer_goods_need_temp = 2 }
            multiply_temp_variable = { luxury_goods_need_temp = 2 }
            multiply_temp_variable = { energy_materials_need_temp = 2 }
            multiply_temp_variable = { services_need_temp = 2 }

            add_to_temp_variable = { consumer_goods_need_temp = global.pops_100_need@token:resource_consumer_goods }
            add_to_temp_variable = { luxury_goods_need_temp = global.pops_100_need@token:resource_luxury_goods }
            add_to_temp_variable = { energy_materials_need_temp = global.pops_100_need@token:resource_energy_materials }
            add_to_temp_variable = { services_need_temp = global.pops_100_need@token:resource_services }
        }

        set_temp_variable = { sol_inc = 1 }
        set_temp_variable = { sol_dif = sol_temp }
        subtract_from_temp_variable = { sol_dif = sol_start }
        while_loop_effect = {
            limit = {
                check_variable = { sol_dif > 10 }
            }
            multiply_temp_variable = { sol_inc = 2 }
            subtract_from_temp_variable = { sol_dif = 10 }
        }

        set_temp_variable = { x = sol_dif }
        multiply_temp_variable = { x = 0.07 } #doubles every 10

        set_temp_variable = { xx = x } # x^2 / 2
        multiply_temp_variable = { xx = x }
        divide_temp_variable = { xx = 2 }

        set_temp_variable = { xxx = xx } # x^3 / 6
        multiply_temp_variable = { xxx = x }
        divide_temp_variable = { xxx = 3 }

        set_temp_variable = { xxxx = xxx } # x^4 / 24
        multiply_temp_variable = { xxxx = x }
        divide_temp_variable = { xxxx = 4 }

        set_temp_variable = { xxxxx = xxxx } # x^5 / 120
        multiply_temp_variable = { xxxxx = x }
        divide_temp_variable = { xxxxx = 5 }

        set_temp_variable = { taylor_approx = 1 }
        add_to_temp_variable = { taylor_approx = x }
        add_to_temp_variable = { taylor_approx = xx }
        add_to_temp_variable = { taylor_approx = xxx }
        add_to_temp_variable = { taylor_approx = xxxx }
        add_to_temp_variable = { taylor_approx = xxxxx }
        multiply_temp_variable = { sol_inc = taylor_approx }

        multiply_temp_variable = { consumer_goods_need_temp = sol_inc }
        multiply_temp_variable = { luxury_goods_need_temp = sol_inc }
        multiply_temp_variable = { energy_materials_need_temp = sol_inc }
        multiply_temp_variable = { services_need_temp = sol_inc }

        set_temp_variable = { electricity_need_temp = energy_materials_need_temp }
        multiply_temp_variable = { electricity_need_temp = pops_electricity_use }
        subtract_from_temp_variable = { energy_materials_need_temp = electricity_need_temp }
        divide_temp_variable = { electricity_need_temp = 2 }
    }

	pops_balance = {
		# Balance pops according to jobs available
		# Uses pops_convert to do most of the heavy lifting
		# Sets workforce amount depending on ratio of unemployed to non-subsistence jobs		
		# Peasants & Subsistence Farms have to be handled seperately
		
		set_temp_variable = { total_workers_temp = laborers_workforce }
		add_to_temp_variable = { total_workers_temp = workers_workforce }
		add_to_temp_variable = { total_workers_temp = professionals_workforce }
		add_to_temp_variable = { total_workers_temp = specialists_workforce }
		add_to_temp_variable = { total_workers_temp = aristocrats_workforce }
		add_to_temp_variable = { total_workers_temp = capitalists_workforce }
		subtract_from_temp_variable = { total_workers_temp = aristocrats_employed@token:building_subsistence_farm }
		subtract_from_temp_variable = { total_workers_temp = aristocrats_employed@token:building_rice_paddy }

		set_temp_variable = { total_jobs_temp = laborers_jobs }
		add_to_temp_variable = { total_jobs_temp = workers_jobs }
		add_to_temp_variable = { total_jobs_temp = professionals_jobs }
		add_to_temp_variable = { total_jobs_temp = specialists_jobs }
		add_to_temp_variable = { total_jobs_temp = aristocrats_jobs }
		add_to_temp_variable = { total_jobs_temp = capitalists_jobs }
		subtract_from_temp_variable = { total_jobs_temp = aristocrats_jobs@token:building_subsistence_farm }
		subtract_from_temp_variable = { total_jobs_temp = aristocrats_jobs@token:building_rice_paddy }

		set_temp_variable = { workers_jobs_ratio = total_workers_temp }
		divide_temp_variable = { workers_jobs_ratio = total_jobs_temp }

		# log = "wjr: [?workers_jobs_ratio]"

		set_temp_variable = { laborers_change = laborers_jobs }
		multiply_temp_variable = { laborers_change = workers_jobs_ratio }
		subtract_from_temp_variable = { laborers_change = laborers_workforce }
		
		set_temp_variable = { workers_change = workers_jobs }
		multiply_temp_variable = { workers_change = workers_jobs_ratio }
		subtract_from_temp_variable = { workers_change = workers_workforce }

		set_temp_variable = { professionals_change = professionals_jobs }
		multiply_temp_variable = { professionals_change = workers_jobs_ratio }
		subtract_from_temp_variable = { professionals_change = professionals_workforce }
        
		set_temp_variable = { specialists_change = specialists_jobs }
		multiply_temp_variable = { specialists_change = workers_jobs_ratio }
		subtract_from_temp_variable = { specialists_change = specialists_workforce }

		set_temp_variable = { aristocrats_change = aristocrats_jobs }
		multiply_temp_variable = { aristocrats_change = workers_jobs_ratio }
		subtract_from_temp_variable = { aristocrats_change = aristocrats_workforce }
		add_to_temp_variable = { aristocrats_change = aristocrats_employed@token:building_subsistence_farm }
		add_to_temp_variable = { aristocrats_change = aristocrats_employed@token:building_rice_paddy }
        
		set_temp_variable = { capitalists_change = capitalists_jobs }
		multiply_temp_variable = { capitalists_change = workers_jobs_ratio }
		subtract_from_temp_variable = { capitalists_change = capitalists_workforce }

		pops_convert = yes
	}
	pops_convert = {
		# Changes pops from from one pop type to another. Defaults to workforce amounts. Accounts for qualifications.
		# Inputs:
		# slaves_change - Net Change. Positive is adding, Negative is removing
		# peasants_change
		# laborers_change
		# workers_change
		# professionals_change
		# specialists_change
		# aristocrats_change
		# capitalists_change
		# bureaucrats_change
		# soldiers_change
		#
		# Outputs:
		# percent_done - What % got converted

		## Making sure negatives don't go beyond actual amount ##
			if = {	
				limit = {
					set_temp_variable = { slaves_temp = slaves_change }
					multiply_temp_variable = { slaves_temp = -1 }
					check_variable = { slaves_temp > slaves_workforce }
				}
				set_temp_variable = { slaves_change = slaves_workforce }
				multiply_temp_variable = { slaves_change = -1 }
			}
			if = {	
				limit = {
					set_temp_variable = { peasants_temp = peasants_change }
					multiply_temp_variable = { peasants_temp = -1 }
					check_variable = { peasants_temp > peasants_workforce }
				}
				set_temp_variable = { peasants_change = peasants_workforce }
				multiply_temp_variable = { peasants_change = -1 }
			}
			if = {	
				limit = {
					set_temp_variable = { laborers_temp = laborers_change }
					multiply_temp_variable = { laborers_temp = -1 }
					check_variable = { laborers_temp > laborers_workforce }
				}
				set_temp_variable = { laborers_change = laborers_workforce }
				multiply_temp_variable = { laborers_change = -1 }
			}
			if = {	
				limit = {
					set_temp_variable = { workers_temp = workers_change }
					multiply_temp_variable = { workers_temp = -1 }
					check_variable = { workers_temp > workers_workforce }
				}
				set_temp_variable = { workers_change = workers_workforce }
				multiply_temp_variable = { workers_change = -1 }
			}
			if = {	
				limit = {
					set_temp_variable = { professionals_temp = professionals_change }
					multiply_temp_variable = { professionals_temp = -1 }
					check_variable = { professionals_temp > professionals_workforce }
				}
				set_temp_variable = { professionals_change = professionals_workforce }
				multiply_temp_variable = { professionals_change = -1 }
			}
			if = {	
				limit = {
					set_temp_variable = { specialists_temp = specialists_change }
					multiply_temp_variable = { specialists_temp = -1 }
					check_variable = { specialists_temp > specialists_workforce }
				}
				set_temp_variable = { specialists_change = specialists_workforce }
				multiply_temp_variable = { specialists_change = -1 }
			}
			if = {	
				limit = {
					set_temp_variable = { aristocrats_temp = aristocrats_change }
					multiply_temp_variable = { aristocrats_temp = -1 }
					check_variable = { aristocrats_temp > aristocrats_workforce }
				}
				set_temp_variable = { aristocrats_change = aristocrats_workforce }
				multiply_temp_variable = { aristocrats_change = -1 }
			}
			if = {	
				limit = {
					set_temp_variable = { capitalists_temp = capitalists_change }
					multiply_temp_variable = { capitalists_temp = -1 }
					check_variable = { capitalists_temp > capitalists_workforce }
				}
				set_temp_variable = { capitalists_change = capitalists_workforce }
				multiply_temp_variable = { capitalists_change = -1 }
			}
			if = {	
				limit = {
					set_temp_variable = { bureaucrats_temp = bureaucrats_change }
					multiply_temp_variable = { bureaucrats_temp = -1 }
					check_variable = { bureaucrats_temp > bureaucrats_workforce }
				}
				set_temp_variable = { bureaucrats_change = bureaucrats_workforce }
				multiply_temp_variable = { bureaucrats_change = -1 }
			}
			if = {	
				limit = {
					set_temp_variable = { soldiers_temp = soldiers_change }
					multiply_temp_variable = { soldiers_temp = -1 }
					check_variable = { soldiers_temp > soldiers_workforce }
				}
				set_temp_variable = { soldiers_change = soldiers_workforce }
				multiply_temp_variable = { soldiers_change = -1 }
			}
		#

		## Add up positive & negative change totals and see if they match ##
			set_temp_variable = { percent_done = 1 }
			set_temp_variable = { positive_change_total = 0 }
			set_temp_variable = { negative_change_total = 0 }

			if = { limit = { check_variable = { slaves_change > 0 } } add_to_temp_variable = { positive_change_total = slaves_change } }
			else = { subtract_from_temp_variable = { negative_change_total = slaves_change } }

			if = { limit = { check_variable = { peasants_change > 0 } } add_to_temp_variable = { positive_change_total = peasants_change } }
			else = { subtract_from_temp_variable = { negative_change_total = peasants_change } }

			if = { limit = { check_variable = { laborers_change > 0 } } add_to_temp_variable = { positive_change_total = laborers_change } }
			else = { subtract_from_temp_variable = { negative_change_total = laborers_change } }

			if = { limit = { check_variable = { workers_change > 0 } } add_to_temp_variable = { positive_change_total = workers_change } }
			else = { subtract_from_temp_variable = { negative_change_total = workers_change } }

			if = { limit = { check_variable = { professionals_change > 0 } } add_to_temp_variable = { positive_change_total = professionals_change } }
			else = { subtract_from_temp_variable = { negative_change_total = professionals_change } }

			if = { limit = { check_variable = { specialists_change > 0 } } add_to_temp_variable = { positive_change_total = specialists_change } }
			else = { subtract_from_temp_variable = { negative_change_total = specialists_change } }
            
			if = { limit = { check_variable = { aristocrats_change > 0 } } add_to_temp_variable = { positive_change_total = aristocrats_change } }
			else = { subtract_from_temp_variable = { negative_change_total = aristocrats_change } }
            
			if = { limit = { check_variable = { capitalists_change > 0 } } add_to_temp_variable = { positive_change_total = capitalists_change } }
			else = { subtract_from_temp_variable = { negative_change_total = capitalists_change } }

			if = { limit = { check_variable = { bureaucrats_change > 0 } } add_to_temp_variable = { positive_change_total = bureaucrats_change } }
			else = { subtract_from_temp_variable = { negative_change_total = bureaucrats_change } }

			if = { limit = { check_variable = { soldiers_change > 0 } } add_to_temp_variable = { positive_change_total = soldiers_change } }
			else = { subtract_from_temp_variable = { negative_change_total = soldiers_change } }

			if = {
				limit = {
					check_variable = { positive_change_total > negative_change_total }
				}
				set_temp_variable = { first_percent_done = negative_change_total }
				multiply_temp_variable = { first_percent_done = 10 }
				divide_temp_variable = { first_percent_done = positive_change_total }

				multiply_temp_variable = { percent_done = first_percent_done }
				divide_temp_variable = { percent_done = 10 }

				if = { limit = { check_variable = { slaves_change > 0 } } 
					multiply_temp_variable = { slaves_change = first_percent_done } 
					round_temp_variable = slaves_change
					divide_temp_variable = { slaves_change = 10 }
				}
				if = { limit = { check_variable = { peasants_change > 0 } } 
					multiply_temp_variable = { peasants_change = first_percent_done } 
					round_temp_variable = peasants_change
					divide_temp_variable = { peasants_change = 10 }
				}
				if = { limit = { check_variable = { laborers_change > 0 } } 
					multiply_temp_variable = { laborers_change = first_percent_done } 
					round_temp_variable = laborers_change
					divide_temp_variable = { laborers_change = 10 }
				}
				if = { limit = { check_variable = { workers_change > 0 } } 
					multiply_temp_variable = { workers_change = first_percent_done } 
					round_temp_variable = workers_change
					divide_temp_variable = { workers_change = 10 }
				}
				if = { limit = { check_variable = { professionals_change > 0 } } 
					multiply_temp_variable = { professionals_change = first_percent_done } 
					round_temp_variable = professionals_change
					divide_temp_variable = { professionals_change = 10 }
				}
				if = { limit = { check_variable = { specialists_change > 0 } } 
					multiply_temp_variable = { specialists_change = first_percent_done } 
					round_temp_variable = specialists_change
					divide_temp_variable = { specialists_change = 10 }
				}
				if = { limit = { check_variable = { aristocrats_change > 0 } } 
					multiply_temp_variable = { aristocrats_change = first_percent_done } 
					round_temp_variable = aristocrats_change
					divide_temp_variable = { aristocrats_change = 10 }
				}
				if = { limit = { check_variable = { capitalists_change > 0 } } 
					multiply_temp_variable = { capitalists_change = first_percent_done } 
					round_temp_variable = capitalists_change
					divide_temp_variable = { capitalists_change = 10 }
				}
				if = { limit = { check_variable = { bureaucrats_change > 0 } } 
					multiply_temp_variable = { bureaucrats_change = first_percent_done } 
					round_temp_variable = bureaucrats_change
					divide_temp_variable = { bureaucrats_change = 10 }
				}
				if = { limit = { check_variable = { soldiers_change > 0 } } 
					multiply_temp_variable = { soldiers_change = first_percent_done } 
					round_temp_variable = soldiers_change
					divide_temp_variable = { soldiers_change = 10 }

				# Redo totals
				set_temp_variable = { positive_change_total = 0 }
				set_temp_variable = { negative_change_total = 0 }
				if = { limit = { check_variable = { slaves_change > 0 } } add_to_temp_variable = { positive_change_total = slaves_change } }
				else = { subtract_from_temp_variable = { negative_change_total = slaves_change } }
				if = { limit = { check_variable = { peasants_change > 0 } } add_to_temp_variable = { positive_change_total = peasants_change } }
				else = { subtract_from_temp_variable = { negative_change_total = peasants_change } }
				if = { limit = { check_variable = { laborers_change > 0 } } add_to_temp_variable = { positive_change_total = laborers_change } }
				else = { subtract_from_temp_variable = { negative_change_total = laborers_change } }
				if = { limit = { check_variable = { workers_change > 0 } } add_to_temp_variable = { positive_change_total = workers_change } }
				else = { subtract_from_temp_variable = { negative_change_total = workers_change } }
				if = { limit = { check_variable = { professionals_change > 0 } } add_to_temp_variable = { positive_change_total = professionals_change } }
				else = { subtract_from_temp_variable = { negative_change_total = professionals_change } }
				if = { limit = { check_variable = { specialists_change > 0 } } add_to_temp_variable = { positive_change_total = specialists_change } }
				else = { subtract_from_temp_variable = { negative_change_total = specialists_change } }
				if = { limit = { check_variable = { aristocrats_change > 0 } } add_to_temp_variable = { positive_change_total = aristocrats_change } }
				else = { subtract_from_temp_variable = { negative_change_total = aristocrats_change } }
				if = { limit = { check_variable = { capitalists_change > 0 } } add_to_temp_variable = { positive_change_total = capitalists_change } }
				else = { subtract_from_temp_variable = { negative_change_total = capitalists_change } }
				if = { limit = { check_variable = { bureaucrats_change > 0 } } add_to_temp_variable = { positive_change_total = bureaucrats_change } }
				else = { subtract_from_temp_variable = { negative_change_total = bureaucrats_change } }
				if = { limit = { check_variable = { soldiers_change > 0 } } add_to_temp_variable = { positive_change_total = soldiers_change } }
				else = { subtract_from_temp_variable = { negative_change_total = soldiers_change } }
				}
			}
			else_if = {
				limit = {
					check_variable = { positive_change_total < negative_change_total }
				}
				set_temp_variable = { first_percent_done = positive_change_total }
				multiply_temp_variable = { first_percent_done = 10 }
				divide_temp_variable = { first_percent_done = negative_change_total }

				multiply_temp_variable = { percent_done = first_percent_done }
				divide_temp_variable = { percent_done = 10 }

				if = { limit = { check_variable = { slaves_change < 0 } } 
					multiply_temp_variable = { slaves_change = first_percent_done } 
					round_temp_variable = slaves_change
					divide_temp_variable = { slaves_change = 10 }
				}
				if = { limit = { check_variable = { peasants_change < 0 } } 
					multiply_temp_variable = { peasants_change = first_percent_done } 
					round_temp_variable = peasants_change
					divide_temp_variable = { peasants_change = 10 }
				}
				if = { limit = { check_variable = { laborers_change < 0 } } 
					multiply_temp_variable = { laborers_change = first_percent_done } 
					round_temp_variable = laborers_change
					divide_temp_variable = { laborers_change = 10 }
				}
				if = { limit = { check_variable = { workers_change < 0 } } 
					multiply_temp_variable = { workers_change = first_percent_done } 
					round_temp_variable = workers_change
					divide_temp_variable = { workers_change = 10 }
				}
				if = { limit = { check_variable = { professionals_change < 0 } } 
					multiply_temp_variable = { professionals_change = first_percent_done } 
					round_temp_variable = professionals_change
					divide_temp_variable = { professionals_change = 10 }
				}
				if = { limit = { check_variable = { specialists_change < 0 } } 
					multiply_temp_variable = { specialists_change = first_percent_done } 
					round_temp_variable = specialists_change
					divide_temp_variable = { specialists_change = 10 }
				}
				if = { limit = { check_variable = { aristocrats_change < 0 } } 
					multiply_temp_variable = { aristocrats_change = first_percent_done } 
					round_temp_variable = aristocrats_change
					divide_temp_variable = { aristocrats_change = 10 }
				}
				if = { limit = { check_variable = { capitalists_change < 0 } } 
					multiply_temp_variable = { capitalists_change = first_percent_done } 
					round_temp_variable = capitalists_change
					divide_temp_variable = { capitalists_change = 10 }
				}
				if = { limit = { check_variable = { bureaucrats_change < 0 } } 
					multiply_temp_variable = { bureaucrats_change = first_percent_done } 
					round_temp_variable = bureaucrats_change
					divide_temp_variable = { bureaucrats_change = 10 }
				}
				if = { limit = { check_variable = { soldiers_change < 0 } } 
					multiply_temp_variable = { soldiers_change = first_percent_done } 
					round_temp_variable = soldiers_change
					divide_temp_variable = { soldiers_change = 10 }
				}

				# Redo totals
				set_temp_variable = { positive_change_total = 0 }
				set_temp_variable = { negative_change_total = 0 }
				if = { limit = { check_variable = { slaves_change > 0 } } add_to_temp_variable = { positive_change_total = slaves_change } }
				else = { subtract_from_temp_variable = { negative_change_total = slaves_change } }
				if = { limit = { check_variable = { peasants_change > 0 } } add_to_temp_variable = { positive_change_total = peasants_change } }
				else = { subtract_from_temp_variable = { negative_change_total = peasants_change } }
				if = { limit = { check_variable = { laborers_change > 0 } } add_to_temp_variable = { positive_change_total = laborers_change } }
				else = { subtract_from_temp_variable = { negative_change_total = laborers_change } }
				if = { limit = { check_variable = { workers_change > 0 } } add_to_temp_variable = { positive_change_total = workers_change } }
				else = { subtract_from_temp_variable = { negative_change_total = workers_change } }
				if = { limit = { check_variable = { professionals_change > 0 } } add_to_temp_variable = { positive_change_total = professionals_change } }
				else = { subtract_from_temp_variable = { negative_change_total = professionals_change } }
				if = { limit = { check_variable = { specialists_change > 0 } } add_to_temp_variable = { positive_change_total = specialists_change } }
				else = { subtract_from_temp_variable = { negative_change_total = specialists_change } }
				if = { limit = { check_variable = { aristocrats_change > 0 } } add_to_temp_variable = { positive_change_total = aristocrats_change } }
				else = { subtract_from_temp_variable = { negative_change_total = aristocrats_change } }
				if = { limit = { check_variable = { capitalists_change > 0 } } add_to_temp_variable = { positive_change_total = capitalists_change } }
				else = { subtract_from_temp_variable = { negative_change_total = capitalists_change } }
				if = { limit = { check_variable = { bureaucrats_change > 0 } } add_to_temp_variable = { positive_change_total = bureaucrats_change } }
				else = { subtract_from_temp_variable = { negative_change_total = bureaucrats_change } }
				if = { limit = { check_variable = { soldiers_change > 0 } } add_to_temp_variable = { positive_change_total = soldiers_change } }
				else = { subtract_from_temp_variable = { negative_change_total = soldiers_change } }
			}
			else = {
				set_temp_variable = { first_percent_done = 1 }
			}
		#

		# log = "STATE: [THIS.GetName]"

		if = {
			limit = { check_variable = { percent_done > 0 } }
			# Note: Aristocrats & Capitalists don't count for qualification changes b/c they're required at every stage of tech. But they do count as literate + schooled.

			## Educated Qualifications (Just specialists) ##
				if = {
					limit = {
						check_variable = { specialists_change > 0 }
					}
					set_temp_variable = { education_change_cap = pops_workforce }
					multiply_temp_variable = { education_change_cap = pops_education_percentage }
                    divide_temp_variable = { education_change_cap = 100 }
					subtract_from_temp_variable = { education_change_cap = specialists_workforce }
					# log = "Educated Change: [?specialists_change] / [?education_change_cap]"

					if = {
						limit = {
							check_variable = { education_change_cap < specialists_change }
						}
						set_temp_variable = { amount_temp = specialists_change }
						set_temp_variable = { max_amount_temp = education_change_cap }
						multiply_pops_change = yes
						set_temp_variable = { second_percent_done = temp_percent_done }
						multiply_temp_variable = { percent_done = second_percent_done }
					}
					else = {
						set_temp_variable = { second_percent_done = 1 }
					}
				}
			#
			## Schooled Qualifications ##
				set_temp_variable = { schooled_change = specialists_change }
				add_to_temp_variable = { schooled_change = professionals_change }
				if = {
					limit = {
						check_variable = { schooled_change > 0 }
					}
					set_temp_variable = { schooled_change_cap = pops_workforce }
					multiply_temp_variable = { schooled_change_cap = pops_schooling_percentage }
                    divide_temp_variable = { schooled_change_cap = 100 }
					subtract_from_temp_variable = { schooled_change_cap = professionals_workforce }
					subtract_from_temp_variable = { schooled_change_cap = specialists_workforce }
					subtract_from_temp_variable = { schooled_change_cap = capitalists_workforce }
					subtract_from_temp_variable = { schooled_change_cap = aristocrats_workforce }
					# log = "Schooled Change: [?schooled_change] / [?schooled_change_cap]"

					if = {
						limit = {
							check_variable = { schooled_change_cap < professionals_change }
						}
						set_temp_variable = { amount_temp = schooled_change }
						set_temp_variable = { max_amount_temp = schooled_change_cap }
						multiply_pops_change = yes
						set_temp_variable = { third_percent_done = temp_percent_done }
						multiply_temp_variable = { percent_done = third_percent_done }
					}
					else = {
						set_temp_variable = { third_percent_done = 1 }
					}
				}
			#
			## Literates Qualifications ##
				set_temp_variable = { literates_change = workers_change }
				add_to_temp_variable = { literates_change = professionals_change }
				add_to_temp_variable = { literates_change = specialists_change }
				add_to_temp_variable = { literates_change = bureaucrats_change }
				if = {
					limit = {
						check_variable = { literates_change > 0 }
					}
					set_temp_variable = { literates_change_cap = pops_workforce }
					multiply_temp_variable = { literates_change_cap = pops_literacy_percentage }
                    divide_temp_variable = { literates_change_cap = 100 }
					subtract_from_temp_variable = { literates_change_cap = workers_workforce }
					subtract_from_temp_variable = { literates_change_cap = professionals_workforce }
					subtract_from_temp_variable = { literates_change_cap = elites_workforce }
					subtract_from_temp_variable = { literates_change_cap = bureaucrats_workforce }
					# log = "Literates Change: [?literates_change] / [?literates_change_cap]"

					if = {
						limit = {
							check_variable = { literates_change_cap < literates_change }
						}
						set_temp_variable = { amount_temp = literates_change }
						set_temp_variable = { max_amount_temp = literates_change_cap }
						multiply_pops_change = yes
						set_temp_variable = { fourth_percent_done = temp_percent_done }
						multiply_temp_variable = { percent_done = fourth_percent_done }
					}
					else = {
						set_temp_variable = { fourth_percent_done = 1 }
					}
				}
			#

			# Debugging #
				# if = { limit = { NOT = { check_variable = { slaves_change = 0 } } }  log = "Slaves Change: [?slaves_change]" }
				# if = { limit = { NOT = { check_variable = { peasants_change = 0 } } }  log = "Peasants Change: [?peasants_change]" }
				# if = { limit = { NOT = { check_variable = { laborers_change = 0 } } }  log = "Laborers Change: [?laborers_change]" }
				# if = { limit = { NOT = { check_variable = { workers_change = 0 } } }  log = "Workers Change: [?workers_change]" }
				# if = { limit = { NOT = { check_variable = { professionals_change = 0 } } }  log = "Professionals Change: [?professionals_change]" }
				# if = { limit = { NOT = { check_variable = { specialists_change = 0 } } }  log = "Specialists Change: [?specialists_change]" }
				# if = { limit = { NOT = { check_variable = { aristocrats_change = 0 } } }  log = "Aristocrats Change: [?aristocrats_change]" }
				# if = { limit = { NOT = { check_variable = { capitalists_change = 0 } } }  log = "Capitalists Change: [?capitalists_change]" }
				# if = { limit = { NOT = { check_variable = { bureaucrats_change = 0 } } }  log = "Bureaucrats Change: [?bureaucrats_change]" }
				# if = { limit = { NOT = { check_variable = { soldiers_change = 0 } } }  log = "Soldiers Change: [?soldiers_change]" }
				# log = "BEFORE:"
				# if = { limit = { NOT = { check_variable = { slaves_workforce = 0 } } }  log = "Slaves Workforce: [?slaves_workforce]" }
				# if = { limit = { NOT = { check_variable = { peasants_workforce = 0 } } }  log = "Peasants Workforce: [?peasants_workforce]" }
				# if = { limit = { NOT = { check_variable = { laborers_workforce = 0 } } }  log = "Laborers Workforce: [?laborers_workforce]" }
				# if = { limit = { NOT = { check_variable = { workers_workforce = 0 } } }  log = "Workers Workforce: [?workers_workforce]" }
				# if = { limit = { NOT = { check_variable = { professionals_workforce = 0 } } }  log = "Professionals Workforce: [?professionals_workforce]" }
				# if = { limit = { NOT = { check_variable = { specialists_workforce = 0 } } }  log = "Specialists Workforce: [?specialists_workforce]" }
				# if = { limit = { NOT = { check_variable = { aristocrats_workforce = 0 } } }  log = "Aristocrats Workforce: [?aristocrats_workforce]" }
				# if = { limit = { NOT = { check_variable = { capitalists_workforce = 0 } } }  log = "Capitalists Workforce: [?capitalists_workforce]" }
				# if = { limit = { NOT = { check_variable = { bureaucrats_workforce = 0 } } }  log = "Bureaucrats Workforce: [?bureaucrats_workforce]" }
				# if = { limit = { NOT = { check_variable = { soldiers_workforce = 0 } } }  log = "Soldiers Workforce: [?soldiers_workforce]" }
				# log = "AFTER:"
			#

			## Changes to Workforce ##
				add_to_variable = { slaves_workforce = slaves_change }
				add_to_variable = { slaves_unemployed = slaves_change }
				
				add_to_variable = { peasants_workforce = peasants_change }
				add_to_variable = { peasants_unemployed = peasants_change }
				
				add_to_variable = { laborers_workforce = laborers_change }
				add_to_variable = { laborers_unemployed = laborers_change }
				
				add_to_variable = { workers_workforce = workers_change }
				add_to_variable = { workers_unemployed = workers_change }
				
				add_to_variable = { professionals_workforce = professionals_change }
				add_to_variable = { professionals_unemployed = professionals_change }
				
				add_to_variable = { specialists_workforce = specialists_change }
				add_to_variable = { specialists_unemployed = specialists_change }
                
				add_to_variable = { aristocrats_workforce = aristocrats_change }
				add_to_variable = { aristocrats_unemployed = aristocrats_change }
                
				add_to_variable = { capitalists_workforce = capitalists_change }
				add_to_variable = { capitalists_unemployed = capitalists_change }
				
				add_to_variable = { bureaucrats_workforce = bureaucrats_change }
				add_to_variable = { bureaucrats_unemployed = bureaucrats_change }
				
				add_to_variable = { soldiers_workforce = soldiers_change }
				add_to_variable = { soldiers_unemployed = soldiers_change }
			#
		}

		# More Debugging #
			# if = { limit = { NOT = { check_variable = { slaves_workforce = 0 } } }  log = "Slaves Workforce: [?slaves_workforce]" }
			# if = { limit = { NOT = { check_variable = { peasants_workforce = 0 } } }  log = "Peasants Workforce: [?peasants_workforce]" }
			# if = { limit = { NOT = { check_variable = { laborers_workforce = 0 } } }  log = "Laborers Workforce: [?laborers_workforce]" }
			# if = { limit = { NOT = { check_variable = { workers_workforce = 0 } } }  log = "Workers Workforce: [?workers_workforce]" }
			# if = { limit = { NOT = { check_variable = { professionals_workforce = 0 } } }  log = "Professionals Workforce: [?professionals_workforce]" }
			# if = { limit = { NOT = { check_variable = { specialists_workforce = 0 } } }  log = "Specialists Workforce: [?specialists_workforce]" }
			# if = { limit = { NOT = { check_variable = { aristocrats_workforce = 0 } } }  log = "Aristocrats Workforce: [?aristocrats_workforce]" }
			# if = { limit = { NOT = { check_variable = { capitalists_workforce = 0 } } }  log = "Capitalists Workforce: [?capitalists_workforce]" }
			# if = { limit = { NOT = { check_variable = { bureaucrats_workforce = 0 } } }  log = "Bureaucrats Workforce: [?bureaucrats_workforce]" }
			# if = { limit = { NOT = { check_variable = { soldiers_workforce = 0 } } }  log = "Soldiers Workforce: [?soldiers_workforce]" }
			# log = "PERCENT DONE: [?percent_done]"
		#

		## Reset Temp Vars ##
		set_temp_variable = { slaves_change = 0 }
		set_temp_variable = { peasants_change = 0 }
		set_temp_variable = { laborers_change = 0 }
		set_temp_variable = { workers_change = 0 }
		set_temp_variable = { professionals_change = 0 }
		set_temp_variable = { specialists_change = 0 }
		set_temp_variable = { aristocrats_change = 0 }
		set_temp_variable = { capitalists_change = 0 }
		set_temp_variable = { bureaucrats_change = 0 }
		set_temp_variable = { soldiers_change = 0 }
	}
	multiply_pops_change = {
		# Effect for pops_convert
		# amount_temp
		# max_amount_temp
	
		set_temp_variable = { temp_percent_done = max_amount_temp }
		multiply_temp_variable = { temp_percent_done = 10 }
		divide_temp_variable = { temp_percent_done = amount_temp }

		multiply_temp_variable = { slaves_change = temp_percent_done } 
		round_temp_variable = slaves_change
		divide_temp_variable = { slaves_change = 10 }
		multiply_temp_variable = { peasants_change = temp_percent_done } 
		round_temp_variable = peasants_change
		divide_temp_variable = { peasants_change = 10 }
		multiply_temp_variable = { laborers_change = temp_percent_done } 
		round_temp_variable = laborers_change
		divide_temp_variable = { laborers_change = 10 }
		multiply_temp_variable = { workers_change = temp_percent_done } 
		round_temp_variable = workers_change
		divide_temp_variable = { workers_change = 10 }
		multiply_temp_variable = { professionals_change = temp_percent_done } 
		round_temp_variable = professionals_change
		divide_temp_variable = { professionals_change = 10 }
		multiply_temp_variable = { specialists_change = temp_percent_done } 
		round_temp_variable = specialists_change
		divide_temp_variable = { specialists_change = 10 }
		multiply_temp_variable = { aristocrats_change = temp_percent_done } 
		round_temp_variable = aristocrats_change
		divide_temp_variable = { aristocrats_change = 10 }
		multiply_temp_variable = { capitalists_change = temp_percent_done } 
		round_temp_variable = capitalists_change
		divide_temp_variable = { capitalists_change = 10 }
		multiply_temp_variable = { bureaucrats_change = temp_percent_done } 
		round_temp_variable = bureaucrats_change
		divide_temp_variable = { bureaucrats_change = 10 }
		multiply_temp_variable = { soldiers_change = temp_percent_done } 
		round_temp_variable = soldiers_change
		divide_temp_variable = { soldiers_change = 10 }

		# Redo totals
		set_temp_variable = { positive_change_total = 0 }
		set_temp_variable = { negative_change_total = 0 }
		if = { limit = { check_variable = { slaves_change > 0 } } add_to_temp_variable = { positive_change_total = slaves_change } }
		else = { subtract_from_temp_variable = { negative_change_total = slaves_change } }
		if = { limit = { check_variable = { peasants_change > 0 } } add_to_temp_variable = { positive_change_total = peasants_change } }
		else = { subtract_from_temp_variable = { negative_change_total = peasants_change } }
		if = { limit = { check_variable = { laborers_change > 0 } } add_to_temp_variable = { positive_change_total = laborers_change } }
		else = { subtract_from_temp_variable = { negative_change_total = laborers_change } }
		if = { limit = { check_variable = { workers_change > 0 } } add_to_temp_variable = { positive_change_total = workers_change } }
		else = { subtract_from_temp_variable = { negative_change_total = workers_change } }
		if = { limit = { check_variable = { professionals_change > 0 } } add_to_temp_variable = { positive_change_total = professionals_change } }
		else = { subtract_from_temp_variable = { negative_change_total = professionals_change } }
		if = { limit = { check_variable = { specialists_change > 0 } } add_to_temp_variable = { positive_change_total = specialists_change } }
		else = { subtract_from_temp_variable = { negative_change_total = specialists_change } }
		if = { limit = { check_variable = { aristocrats_change > 0 } } add_to_temp_variable = { positive_change_total = aristocrats_change } }
		else = { subtract_from_temp_variable = { negative_change_total = aristocrats_change } }
		if = { limit = { check_variable = { capitalists_change > 0 } } add_to_temp_variable = { positive_change_total = capitalists_change } }
		else = { subtract_from_temp_variable = { negative_change_total = capitalists_change } }
		if = { limit = { check_variable = { bureaucrats_change > 0 } } add_to_temp_variable = { positive_change_total = bureaucrats_change } }
		else = { subtract_from_temp_variable = { negative_change_total = bureaucrats_change } }
		if = { limit = { check_variable = { soldiers_change > 0 } } add_to_temp_variable = { positive_change_total = soldiers_change } }
		else = { subtract_from_temp_variable = { negative_change_total = soldiers_change } }
	}

    update_country_pop_stats = {
        set_variable = { pops = 0 }
        set_variable = { pops_col = 0 }
        set_variable = { pops_sol = 0 }
        set_variable = { pops_earnings = 0 }


        every_controlled_state = {
            #Pops
            add_to_variable = { PREV.pops = pops }

            set_temp_variable = { stat_temp = pops_col }
            multiply_temp_variable = { stat_temp = pops }
            add_to_variable = { PREV.pops_col = stat_temp }

            set_temp_variable = { stat_temp = pops_sol }
            multiply_temp_variable = { stat_temp = pops }
            add_to_variable = { PREV.pops_sol = stat_temp }

            add_to_variable = { PREV.pops_earnings = pops_earnings }
        }

        divide_variable = { pops_sol = pops }
        divide_variable = { pops_col = pops }

        set_variable = { pops_earnings_avg = pops_earnings }
        divide_variable = { pops_earnings_avg = pops }
    }


	create_pie_chart_pop_type = {
		# this creates a pie chart of popularities - can be easily adapted to show anything that adds up to 100%
		# This code is much different from Yard's, but I'll credit him anyway
		# State Scope

		clear_array = pie_chart_pop_type
		resize_array = {
			array = pie_chart_pop_type
			value = 1 # 1 is value for RGO frame
			size = 100 # 100 pieces, each percent is one piece
		}

		clear_temp_array = pop_types_percentage
		add_to_temp_array = { pop_types_percentage = 0 }
		add_to_temp_array = { pop_types_percentage = slaves_percentage }
		add_to_temp_array = { pop_types_percentage = peasants_percentage }
		add_to_temp_array = { pop_types_percentage = laborers_percentage }
		add_to_temp_array = { pop_types_percentage = workers_percentage }
		add_to_temp_array = { pop_types_percentage = professionals_percentage }
		add_to_temp_array = { pop_types_percentage = specialists_percentage }
		add_to_temp_array = { pop_types_percentage = aristocrats_percentage }
		add_to_temp_array = { pop_types_percentage = capitalists_percentage }
		add_to_temp_array = { pop_types_percentage = bureaucrats_percentage }
		add_to_temp_array = { pop_types_percentage = soldiers_percentage }

        set_temp_variable = { total_temp = 0 }
        set_temp_variable = { largest = 0 }
        for_each_loop = {
            array = pop_types_percentage
            index = rr
            if = {
                limit = {
                    check_variable = { pop_types_percentage^rr > pop_types_percentage^largest }
                }
                set_temp_variable = { largest = rr }
            }

            multiply_temp_variable = { pop_types_percentage^rr = 100 }
            round_temp_variable = pop_types_percentage^rr
            add_to_temp_variable = { total_temp = pop_types_percentage^rr }
        }

        if = {
            limit = {
                NOT = { check_variable = { total_temp = 100 } }
            }
            add_to_temp_variable = { pop_types_percentage^largest = 100 }
            subtract_from_temp_variable = { pop_types_percentage^largest = total_temp }
        }

		set_temp_variable = { pie_pop = 0 }
		for_each_loop = {
			array = pop_types_percentage
			index = rr
			value = vv

			set_variable = { last_idx = pie_pop }
			set_temp_variable = { pie_pop = vv }

			add_to_temp_variable = { pie_pop = last_idx }
			#subtract_from_temp_variable = { pie_pop = 1 }
			if = {
				limit = {
					check_variable = { pie_pop > 100 }
				}
				set_temp_variable = { pie_pop = 100 }
			}
			for_loop_effect = {
				start = last_idx
				end = pie_pop
				set_variable = { pie_chart_pop_type^v = rr }
			}
			set_variable = { last_idx = pie_pop }
		}
		clear_variable = last_idx

		add_to_variable = { update_state_econ_window = 1 }
	}
#

#Buildings
    on_monthly_buildings = {
        #Building Construction
            buildings_update_construction = yes

            for_each_loop = {
                array = buildings
                value = om_building

                if = {
                    limit = {
                        check_variable = { under_construction@var:om_building > 0 }
                    }
                    subtract_from_variable = { construction_amount@var:om_building = construction_speed@var:om_building }
                    if = {
                        limit = {
                            check_variable = { construction_amount@var:om_building < 0.001 }
                        }
                        set_variable = { construction_amount@var:om_building = 0 }
                        add_to_variable = { size@var:om_building = under_construction@var:om_building }
                        if = {
                            limit = {
                                check_variable = { om_building = token:building_military_industry }
                            }
                            set_temp_variable = { const_amount = under_construction@var:om_building }
                            add_building_construction = {
                                type = arms_factory
                                level = var:const_amount
                                instant_build = yes
                            }
                        }
                        else_if = {
                            limit = {
                                check_variable = { om_building = token:building_civilian_industry }
                            }
                            set_temp_variable = { const_amount = under_construction@var:om_building }
                            add_building_construction = {
                                type = industrial_complex
                                level = var:const_amount
                                instant_build = yes
                            }
                        }
                        else_if = {
                            limit = {
                                check_variable = { om_building = token:building_naval_industry }
                            }
                            set_temp_variable = { const_amount = under_construction@var:om_building }
                            add_building_construction = {
                                type = dockyard
                                level = var:const_amount
                                instant_build = yes
                            }
                        }
                        set_variable = { under_construction@var:om_building = 0 }
                    }
                }
            }
        #

        clear_temp_array = buildings_wage_sort
        for_each_loop = {
            array = buildings
            value = om_building

            #Money Accumulation
            add_to_variable = { money@var:om_building = profit@var:om_building }
            if = { #Excess goes to owners
                limit = {
                    check_variable = { money@var:om_building > money_limit@var:om_building }
                }
                set_variable = { money_transfer@var:om_building = money@var:om_building }
                subtract_from_variable = { money_transfer@var:om_building = money_limit@var:om_building }

                subtract_from_variable = { money@var:om_building = money_transfer@var:om_building }
                #TODO - Add to Aristocrats/Capitalists' money pool and/or Corporate money pools
            }
            else = {
                set_variable = { money_transfer@var:om_building = 0 }
            }
            if = {
                limit = {
                    check_variable = { money@var:om_building < 0 }
                }
                set_variable = { money@var:om_building = 0 }
            }
        }
    }
    building_productivity_sort = {
        # Puts industries into an array sorted by the base productivity

        clear_array = buildings_productivity_sort
        for_each_loop = {
            array = buildings
            value = om_building
            
            set_temp_variable = { effective_wage_om = base_productivity@var:om_building }

            for_each_loop = {
                array = buildings_productivity_sort
                index = ii
                value = vv
                break = bb

                set_temp_variable = { effective_wage_vv = base_productivity@var:vv }

                if = {
                    limit = {
                        check_variable = { effective_wage_vv < effective_wage_om }
                    }
                    add_to_array = { 
                        array = buildings_productivity_sort 
                        value = om_building
                        index = ii
                    }
                    set_temp_variable = { bb = 1 }
                }
            }
            if = {
                limit = {
                    check_variable = { bb = 0 }
                }
                add_to_array = { buildings_productivity_sort = om_building }
            }
        }
    }
    base_wage_calculation = {

        set_temp_variable = { base_wage_counting = 0 }

        set_temp_variable = { jobs_to_account_for = 0.1 }
        add_to_temp_variable = { jobs_to_account_for = slaves_workforce }
        add_to_temp_variable = { jobs_to_account_for = peasants_workforce }
        set_temp_variable = { weight_temp = laborers_workforce }
        multiply_temp_variable = { weight_temp = 2 }
        add_to_temp_variable = { jobs_to_account_for = weight_temp }
        set_temp_variable = { weight_temp = workers_workforce }
        multiply_temp_variable = { weight_temp = 5 }
        add_to_temp_variable = { jobs_to_account_for = weight_temp }
        set_temp_variable = { weight_temp = professionals_workforce }
        multiply_temp_variable = { weight_temp = 10 }
        add_to_temp_variable = { jobs_to_account_for = weight_temp }
        set_temp_variable = { weight_temp = specialists_workforce }
        multiply_temp_variable = { weight_temp = 20 }
        add_to_temp_variable = { jobs_to_account_for = weight_temp }
        set_temp_variable = { weight_temp = aristocrats_workforce }
        multiply_temp_variable = { weight_temp = 30 }
        add_to_temp_variable = { jobs_to_account_for = weight_temp }
        set_temp_variable = { weight_temp = capitalists_workforce }
        multiply_temp_variable = { weight_temp = 50 }
        add_to_temp_variable = { jobs_to_account_for = weight_temp }

        set_temp_variable = { jobs_accounted_for = jobs_to_account_for }

        for_each_loop = {
            array = buildings_productivity_sort
            value = b_temp
            
            # Base Wage Addition
            if = {
                limit = {
                    check_variable = { jobs_to_account_for > 0 }
                }
                # If there are still jobs to account for, then weight the jobs from this industry and add them up
                set_temp_variable = { jobs_wage_to_count = 0 }
                add_to_temp_variable = { jobs_wage_to_count = peasants_jobs@var:b_temp }
                set_temp_variable = { weight_temp = laborers_jobs@var:b_temp }
                multiply_temp_variable = { weight_temp = 2 }
                add_to_temp_variable = { jobs_wage_to_count = weight_temp }
                set_temp_variable = { weight_temp = workers_jobs@var:b_temp }
                multiply_temp_variable = { weight_temp = 5 }
                add_to_temp_variable = { jobs_wage_to_count = weight_temp }
                set_temp_variable = { weight_temp = professionals_jobs@var:b_temp }
                multiply_temp_variable = { weight_temp = 10 }
                add_to_temp_variable = { jobs_wage_to_count = weight_temp }
                set_temp_variable = { weight_temp = specialists_jobs@var:b_temp }
                multiply_temp_variable = { weight_temp = 20 }
                add_to_temp_variable = { jobs_wage_to_count = weight_temp }
                set_temp_variable = { weight_temp = aristocrats_jobs@var:b_temp }
                multiply_temp_variable = { weight_temp = 30 }
                add_to_temp_variable = { jobs_wage_to_count = weight_temp }
                set_temp_variable = { weight_temp = capitalists_jobs@var:b_temp }
                multiply_temp_variable = { weight_temp = 50 }
                add_to_temp_variable = { jobs_wage_to_count = weight_temp }

                if = { limit = { check_variable = { jobs_wage_to_count > jobs_to_account_for } } set_temp_variable = { jobs_wage_to_count = jobs_to_account_for } }
                subtract_from_temp_variable = { jobs_to_account_for = jobs_wage_to_count }
                
                if = {
                    limit = {
                        check_variable = { base_productivity@var:b_temp > 0.5 }
                    }
                    multiply_temp_variable = { jobs_wage_to_count = base_productivity@var:b_temp }
                }
                else = {
                    multiply_temp_variable = { jobs_wage_to_count = 0.5 }
                }
                add_to_temp_variable = { base_wage_counting = jobs_wage_to_count }
            }
        }

        subtract_from_temp_variable = { jobs_accounted_for = jobs_to_account_for }

        if = {
            limit = {
                check_variable = { jobs_to_account_for > 0 }
            }
            multiply_temp_variable = { jobs_to_account_for = 0.5 } # Base productivity of 0.5 (Approximation of Subsistence Farms being 1 divided by 2 as 
            add_to_temp_variable = { base_wage_counting = jobs_to_account_for }				#  Laborers earn twice as much as peasants do )
        }

        set_variable = { base_wage = base_wage_counting }
        divide_variable = { base_wage = jobs_accounted_for }

        set_variable = { laborers_wage = base_wage }
        multiply_variable = { laborers_wage = 2 }
        
        set_variable = { workers_wage = base_wage }
        multiply_variable = { workers_wage = 5 }
        
        set_variable = { professionals_wage = base_wage }
        multiply_variable = { professionals_wage = 10 }
        
        set_variable = { specialists_wage = base_wage }
        multiply_variable = { specialists_wage = 20 }
        
        set_variable = { aristocrats_wage = base_wage }
        multiply_variable = { aristocrats_wage = 30 }
        
        set_variable = { capitalists_wage = base_wage }
        multiply_variable = { capitalists_wage = 50 }
    }
    on_monthly_building_adjust_employment_target = {
        set_temp_variable = { icm_temp = controller:modifier@investment_confidence_modifier }
        divide_temp_variable = { icm_temp = 100 }
        divide_temp_variable = { icm_temp = 2 }
        add_to_temp_variable = { icm_temp = 0.5 }
        
        set_temp_variable = { prod_ubound = base_wage }
        divide_temp_variable = { prod_ubound = icm_temp } # >100 should decrease it

        set_temp_variable = { prod_ubound2 = prod_ubound }
        multiply_temp_variable = { prod_ubound2 = 1.25 }

        set_temp_variable = { prod_lbound = base_wage }
        multiply_temp_variable = { prod_lbound = 0.8 }
        divide_temp_variable = { prod_lbound = icm_temp }  # >100 should decrease it

        for_each_loop = {
            array = buildings
            value = om_building
            break = prod_break

            if = {
                limit = {
                    check_variable = { base_productivity@var:om_building > prod_ubound }
                }
                if = {
                    limit = {
                        check_variable = { base_productivity@var:om_building > prod_ubound2 }
                    }
                    add_to_variable = { employment_target@var:om_building = 5 }
                }

                add_to_variable = { employment_target@var:om_building = 5 }
                if = {
                    limit = {
					    check_variable = { employment_target@var:om_building > 100 }
                    }
				}
				set_variable = { employment_target@var:om_building = 100 }
			}
            else_if = {
                limit = {
                    check_variable = { base_productivity@var:om_building < prod_lbound }
                }

                if = {
                    limit = {
                        check_variable = { base_productivity@var:om_building > 0.5 }
                    }
                    subtract_from_variable = { employment_target@var:om_building = 5 }
                }
                else_if = {
                    limit = {
                        check_variable = { base_productivity@var:om_building > 0 }
                    }
                    subtract_from_variable = { employment_target@var:om_building = 10 }
                }
                else = {
                    subtract_from_variable = { employment_target@var:om_building = 20 }
                }

                
                if = {
                    limit = {
                        check_variable = { employment_target@var:om_building < 0 }
                    }
                    set_variable = { employment_target@var:om_building = 0 }
                }
            }
        }
	}
    on_monthly_building_employment = {	
        # The pool of available jobs is added up from positively productive buildings. Then 
        # 	there is a general "hiring" of the population. This pool of hired personnel then 
        # 	gets distributed weighted by available jobs and PPP among positively produtive buildings.

        # Firing
        for_each_loop = {
            array = buildings_productivity_sort
            value = building_token
            break = prod_break

            if = {
                limit = {
                    NOT = { check_variable = { building_token = token:building_subsistence_farm } }
                    NOT = { check_variable = { building_token = token:building_rice_paddy } }
                    check_variable = { employment_target@var:building_token < employment_percentage@var:building_token }
                }
                # x_percent_temp is the percentage of building jobs to fire (as it is negative in this context)
                set_temp_variable = { x_percent_temp = employment_target@var:building_token }
                subtract_from_temp_variable = { x_percent_temp = employment_percentage@var:building_token }

                change_building_employment_by_x_percent = yes # Firing
            }
        }

        pops_open_jobs_calc = yes # Adds up the pool of open jobs from positively productive buildings
        
        # Sets jobs_multiplier to the min of % of jobs of each type that can be filled
        set_temp_variable = { jobs_multiplier = 1 }
        set_temp_variable = { laborers_mult = laborers_unemployed_amount }
        divide_temp_variable = { laborers_mult = laborers_open_jobs_amount }
        set_temp_variable = { workers_mult = workers_unemployed_amount }
        divide_temp_variable = { workers_mult = workers_open_jobs_amount }
        set_temp_variable = { professionals_mult = professionals_unemployed_amount }
        divide_temp_variable = { professionals_mult = professionals_open_jobs_amount }
        set_temp_variable = { specialists_mult = specialists_unemployed_amount }
        divide_temp_variable = { specialists_mult = specialists_open_jobs_amount }
        set_temp_variable = { aristocrats_mult = aristocrats_unemployed_amount }
        divide_temp_variable = { aristocrats_mult = aristocrats_open_jobs_amount }
        set_temp_variable = { capitalists_mult = capitalists_unemployed_amount }
        divide_temp_variable = { capitalists_mult = capitalists_open_jobs_amount }
        if = {
            limit = {
                check_variable = { laborers_mult < jobs_multiplier }
            }
            set_temp_variable = { jobs_multiplier = laborers_mult }
        }
        if = {
            limit = {
                check_variable = { workers_mult < jobs_multiplier }
            }
            set_temp_variable = { jobs_multiplier = workers_mult }
        }
        if = {
            limit = {
                check_variable = { professionals_mult < jobs_multiplier }
            }
            set_temp_variable = { jobs_multiplier = professionals_mult }
        }
        if = {
            limit = {
                check_variable = { specialists_mult < jobs_multiplier }
            }
            set_temp_variable = { jobs_multiplier = specialists_mult }
        }
        if = {
            limit = {
                check_variable = { aristocrats_mult < jobs_multiplier }
            }
            set_temp_variable = { jobs_multiplier = aristocrats_mult }
        }
        if = {
            limit = {
                check_variable = { capitalists_mult < jobs_multiplier }
            }
            set_temp_variable = { jobs_multiplier = capitalists_mult }
        }


        if = {
            limit = {
                check_variable = { jobs_multiplier > 0 }
            }
            # Hiring
            for_each_loop = {
                array = industries_productivity_sort
                value = building_token
                break = prod_break

                if = {
                    limit = {
                        NOT = { check_variable = { building_token = token:building_subsistence_farm } }
                        NOT = { check_variable = { building_token = token:building_rice_paddy } }
                    }
                    if = {
                        limit = {
                            check_variable = { base_productivity@var:building_token > 0 }
                            check_variable = { employment_target@var:building_token > employment_percentage@var:building_token }
                        }
                        set_temp_variable = { hiring_percentage_mult = jobs_multiplier }
                        if = {
                            limit = {
                                check_variable = { base_productivity@var:building_token < base_wage }
                            }
                            multiply_temp_variable = { hiring_percentage_mult = base_productivity@var:building_token }
                            divide_temp_variable = { hiring_percentage_mult = base_wage }
                        }

                        if = {
                            limit = {
                                check_variable = { hiring_percentage_mult > 1 }
                            }
                            set_temp_variable = { hiring_percentage_mult = 1 }
                        }

                        # x_percent_temp is the percentage of building jobs to hire
                        set_temp_variable = { x_percent_temp = employment_target@var:building_token }
                        subtract_from_temp_variable = { x_percent_temp = employment_percentage@var:building_token }
                        multiply_temp_variable = { x_percent_temp = hiring_percentage_mult }

                        change_building_employment_by_x_percent = yes # Hiring
                    }
                    else_if = {
                        limit = {
                            check_variable = { base_productivity@var:building_token < 0 }
                        }
                        set_temp_variable = { prod_break = 1 }
                    }
                }
            }
        }
        else_if = {
            limit = {
                check_variable = { jobs_multiplier < 0 }
            }
            # Workforce Change

        }
    }


    construct_x_buildings_no_update = {
		# x_temp, financer_temp, building_token, production_method_temp
		# State

        round_temp_variable = x_temp #Look, people may do dumb shit and put a float in this thing.
        round_temp_variable = production_method_temp

        set_temp_variable = { pm_temp = production_method_temp }
        if = {
            limit = {
                check_variable = { x_temp > 0 }
                check_variable = { under_construction@var:building_token = 0 }
                is_in_array = { global.building_token_array = building_token }
                has_valid_production_method = yes
                if = {
                    limit = {
                        check_variable = { financer_temp < 0 } #Corporation
                    }
                }
                else_if = {
                    limit = {
                        check_variable = { financer_temp > 0 } #Government
                    }
                    country_exists = var:financer_temp

                }
                else = { #Local

                }
            }

            set_variable = { under_construction@var:building_token = x_temp }

            #Add building to array if it doesn't exist yet
            if = {
                limit = {
                    NOT = { is_in_array = { buildings = building_token } }
                }
                add_to_array = { buildings = building_token }
                set_variable = { production_method@var:building_token = production_method_temp }
            }

            #Financer
            set_variable = { financer@var:building_token = financer_temp }

            #Amount
            if = {
                limit = {
                    check_variable = { production_method@var:building_token = 0 }
                }
                set_variable = { construction_amount@var:building_token = global.building_basic_construction_amount@var:building_token }
            }
            else_if = {
                limit = {
                    check_variable = { production_method@var:building_token = 1 }
                }
                set_variable = { construction_amount@var:building_token = global.building_advanced_construction_amount@var:building_token }
            }
            else_if = {
                limit = {
                    check_variable = { production_method@var:building_token = 2 }
                }
                set_variable = { construction_amount@var:building_token = global.building_industrialized_construction_amount@var:building_token }
            }
            else_if = {
                limit = {
                    check_variable = { production_method@var:building_token = 3 }
                }
                set_variable = { construction_amount@var:building_token = global.building_mechanized_construction_amount@var:building_token }
            }
            else_if = {
                limit = {
                    check_variable = { production_method@var:building_token = 4 }
                }
                set_variable = { construction_amount@var:building_token = global.building_electrified_construction_amount@var:building_token }
            }
            else_if = {
                limit = {
                    check_variable = { production_method@var:building_token = 5 }
                }
                set_variable = { construction_amount@var:building_token = global.building_motorized_construction_amount@var:building_token }
            }
            else_if = {
                limit = {
                    check_variable = { production_method@var:building_token = 6 }
                }
                set_variable = { construction_amount@var:building_token = global.building_modernized_construction_amount@var:building_token }
            }
            else_if = {
                limit = {
                    check_variable = { production_method@var:building_token = 7 }
                }
                set_variable = { construction_amount@var:building_token = global.building_roboticized_construction_amount@var:building_token }
            }
            else_if = {
                limit = {
                    check_variable = { production_method@var:building_token = 8 }
                }
                set_variable = { construction_amount@var:building_token = global.building_computerized_construction_amount@var:building_token }
            }
            else_if = {
                limit = {
                    check_variable = { production_method@var:building_token = 9 }
                }
                set_variable = { construction_amount@var:building_token = global.building_digitalized_construction_amount@var:building_token }
            }
            else_if = {
                limit = {
                    check_variable = { production_method@var:building_token = 10 }
                }
                set_variable = { construction_amount@var:building_token = global.building_automatized_construction_amount@var:building_token }
            }
            else_if = {
                limit = {
                    check_variable = { production_method@var:building_token = 11 }
                }
                set_variable = { construction_amount@var:building_token = global.building_futurized_construction_amount@var:building_token }
            }
            multiply_variable = { construction_amount@var:building_token = under_construction@var:building_token }

            set_temp_variable = { initial_cost_temp = construction_amount@var:building_token }
            multiply_temp_variable = { initial_cost_temp = price@token:resource_industrial_goods }
            multiply_temp_variable = { initial_cost_temp = global.start_construction_cost_multiplier }
            if = {
                limit = {
                    check_variable = { financer_temp < 0 } #Corporation
                }
            }
            else_if = {
                limit = {
                    check_variable = { financer_temp > 0 } #Government
                }
                subtract_from_variable = { financer_temp:treasury = initial_cost_temp }
            }
            else = { #Local

            }

            buildings_update_construction = yes
        }
    }

	change_building_avg_wage = {
		#wage_change_temp, building_token

		set_temp_variable = { total_wage_multiplier = 0 }

		set_temp_variable = { wage_multiplier = peasants_jobs@var:building_token }
		multiply_temp_variable = { wage_multiplier = 1 }
		add_to_temp_variable = { total_wage_multiplier = wage_multiplier }

		set_temp_variable = { wage_multiplier = laborers_jobs@var:building_token }
		multiply_temp_variable = { wage_multiplier = 2 }
		add_to_temp_variable = { total_wage_multiplier = wage_multiplier }

		set_temp_variable = { wage_multiplier = workers_jobs@var:building_token }
		multiply_temp_variable = { wage_multiplier = 5 }
		add_to_temp_variable = { total_wage_multiplier = wage_multiplier }

		set_temp_variable = { wage_multiplier = professionals_jobs@var:building_token }
		multiply_temp_variable = { wage_multiplier = 10 }
		add_to_temp_variable = { total_wage_multiplier = wage_multiplier }

		set_temp_variable = { wage_multiplier = specialists_jobs@var:building_token }
		multiply_temp_variable = { wage_multiplier = 20 }
		add_to_temp_variable = { total_wage_multiplier = wage_multiplier }

		set_temp_variable = { wage_multiplier = aristocrats_jobs@var:building_token }
		multiply_temp_variable = { wage_multiplier = 30 }
		add_to_temp_variable = { total_wage_multiplier = wage_multiplier }

		set_temp_variable = { wage_multiplier = capitalists_jobs@var:building_token }
		multiply_temp_variable = { wage_multiplier = 50 }
		add_to_temp_variable = { total_wage_multiplier = wage_multiplier }

		set_temp_variable = { ciw_wage = wage_change_temp }
		multiply_temp_variable = { ciw_wage = jobs@var:building_token }
		divide_temp_variable = { ciw_wage = total_wage_multiplier }

		add_to_variable = { base_wage@var:building_token = ciw_wage }
	}
	change_building_base_wage = {
		#wage_change_temp, building_token

		add_to_variable = { base_wage@var:building_token = wage_change_temp }
	}

	change_building_employment_by_x_percent = {
		#x_percent_temp (0-100), building_token
		add_to_temp_variable = { x_percent_temp = employment_percentage@var:building_token }

		set_building_employment_to_x_percent = yes
	}
	set_building_employment_to_x_percent = {
		#x_percent_temp, building_token
		if = {
			limit = {
				check_variable = { x_percent_temp > 100 }
			}
			set_temp_variable = { x_percent_temp = 100 }
		}
		if = {
			limit = {
				check_variable = { x_percent_temp < 0 }
			}
			set_temp_variable = { x_percent_temp = 0 }
		}
		subtract_from_temp_variable = { x_percent_temp = employment_percentage@var:building_token }

		#Prospective Hiring
		set_temp_variable = { peasants_to_hire = peasants_jobs@var:building_token }
		multiply_temp_variable = { peasants_to_hire = x_percent_temp }
        divide_temp_variable = { peasants_to_hire = 100 }
		set_temp_variable = { laborers_to_hire = laborers_jobs@var:building_token }
		multiply_temp_variable = { laborers_to_hire = x_percent_temp }
        divide_temp_variable = { laborers_to_hire = 100 }
		set_temp_variable = { workers_to_hire = workers_jobs@var:building_token }
		multiply_temp_variable = { workers_to_hire = x_percent_temp }
        divide_temp_variable = { workers_to_hire = 100 }
		set_temp_variable = { professionals_to_hire = professionals_jobs@var:building_token }
		multiply_temp_variable = { professionals_to_hire = x_percent_temp }
        divide_temp_variable = { professionals_to_hire = 100 }
		set_temp_variable = { specialists_to_hire = specialists_jobs@var:building_token }
		multiply_temp_variable = { specialists_to_hire = x_percent_temp }
        divide_temp_variable = { specialists_to_hire = 100 }
		set_temp_variable = { aristocrats_to_hire = aristocrats_jobs@var:building_token }
		multiply_temp_variable = { aristocrats_to_hire = x_percent_temp }
        divide_temp_variable = { aristocrats_to_hire = 100 }
		set_temp_variable = { capitalists_to_hire = capitalists_jobs@var:building_token }
		multiply_temp_variable = { capitalists_to_hire = x_percent_temp }
        divide_temp_variable = { capitalists_to_hire = 100 }

		if = {
			limit = {
				check_variable = { peasants_to_hire > peasants_unemployed_amount }
			}
			# Recorrecting Hiring %
            if = {
                limit = {
                    check_variable = { peasants_unemployed_amount > 10000 }
                }
			    set_temp_variable = { x_percent_temp = peasants_unemployed_amount }
			    divide_temp_variable = { x_percent_temp = peasants_jobs@var:building_token }
			    multiply_temp_variable = { x_percent_temp = 100 }
            }
            else = {
			    set_temp_variable = { x_percent_temp = peasants_unemployed_amount }
			    multiply_temp_variable = { x_percent_temp = 100 }
			    divide_temp_variable = { x_percent_temp = peasants_jobs@var:building_token }
            }

			# Redoing Prospective Hiring
            set_temp_variable = { laborers_to_hire = laborers_jobs@var:building_token }
            multiply_temp_variable = { laborers_to_hire = x_percent_temp }
            divide_temp_variable = { laborers_to_hire = 100 }
            set_temp_variable = { workers_to_hire = workers_jobs@var:building_token }
            multiply_temp_variable = { workers_to_hire = x_percent_temp }
            divide_temp_variable = { workers_to_hire = 100 }
            set_temp_variable = { professionals_to_hire = professionals_jobs@var:building_token }
            multiply_temp_variable = { professionals_to_hire = x_percent_temp }
            divide_temp_variable = { professionals_to_hire = 100 }
            set_temp_variable = { specialists_to_hire = specialists_jobs@var:building_token }
            multiply_temp_variable = { specialists_to_hire = x_percent_temp }
            divide_temp_variable = { specialists_to_hire = 100 }
            set_temp_variable = { aristocrats_to_hire = aristocrats_jobs@var:building_token }
            multiply_temp_variable = { aristocrats_to_hire = x_percent_temp }
            divide_temp_variable = { aristocrats_to_hire = 100 }
            set_temp_variable = { capitalists_to_hire = capitalists_jobs@var:building_token }
            multiply_temp_variable = { capitalists_to_hire = x_percent_temp }
            divide_temp_variable = { capitalists_to_hire = 100 }

			set_temp_variable = { prod_break = 1 }
		}
		if = {
			limit = {
				check_variable = { laborers_to_hire > laborers_unemployed_amount }
			}
			# Recorrecting Hiring %
            if = {
                limit = {
                    check_variable = { laborers_unemployed_amount > 10000 }
                }
			    set_temp_variable = { x_percent_temp = laborers_unemployed_amount }
			    divide_temp_variable = { x_percent_temp = laborers_jobs@var:building_token }
			    multiply_temp_variable = { x_percent_temp = 100 }
            }
            else = {
			    set_temp_variable = { x_percent_temp = laborers_unemployed_amount }
			    multiply_temp_variable = { x_percent_temp = 100 }
			    divide_temp_variable = { x_percent_temp = laborers_jobs@var:building_token }
            }

			# Redoing Prospective Hiring
            set_temp_variable = { workers_to_hire = workers_jobs@var:building_token }
            multiply_temp_variable = { workers_to_hire = x_percent_temp }
            divide_temp_variable = { workers_to_hire = 100 }
            set_temp_variable = { professionals_to_hire = professionals_jobs@var:building_token }
            multiply_temp_variable = { professionals_to_hire = x_percent_temp }
            divide_temp_variable = { professionals_to_hire = 100 }
            set_temp_variable = { specialists_to_hire = specialists_jobs@var:building_token }
            multiply_temp_variable = { specialists_to_hire = x_percent_temp }
            divide_temp_variable = { specialists_to_hire = 100 }
            set_temp_variable = { aristocrats_to_hire = aristocrats_jobs@var:building_token }
            multiply_temp_variable = { aristocrats_to_hire = x_percent_temp }
            divide_temp_variable = { aristocrats_to_hire = 100 }
            set_temp_variable = { capitalists_to_hire = capitalists_jobs@var:building_token }
            multiply_temp_variable = { capitalists_to_hire = x_percent_temp }
            divide_temp_variable = { capitalists_to_hire = 100 }

			set_temp_variable = { prod_break = 1 }
		}
		if = {
			limit = {
				check_variable = { workers_to_hire > workers_unemployed_amount }
			}
			# Recorrecting Hiring %
            if = {
                limit = {
                    check_variable = { workers_unemployed_amount > 10000 }
                }
			    set_temp_variable = { x_percent_temp = workers_unemployed_amount }
			    divide_temp_variable = { x_percent_temp = workers_jobs@var:building_token }
			    multiply_temp_variable = { x_percent_temp = 100 }
            }
            else = {
			    set_temp_variable = { x_percent_temp = workers_unemployed_amount }
			    multiply_temp_variable = { x_percent_temp = 100 }
			    divide_temp_variable = { x_percent_temp = workers_jobs@var:building_token }
            }

			# Redoing Prospective Hiring
            set_temp_variable = { professionals_to_hire = professionals_jobs@var:building_token }
            multiply_temp_variable = { professionals_to_hire = x_percent_temp }
            divide_temp_variable = { professionals_to_hire = 100 }
            set_temp_variable = { specialists_to_hire = specialists_jobs@var:building_token }
            multiply_temp_variable = { specialists_to_hire = x_percent_temp }
            divide_temp_variable = { specialists_to_hire = 100 }
            set_temp_variable = { aristocrats_to_hire = aristocrats_jobs@var:building_token }
            multiply_temp_variable = { aristocrats_to_hire = x_percent_temp }
            divide_temp_variable = { aristocrats_to_hire = 100 }
            set_temp_variable = { capitalists_to_hire = capitalists_jobs@var:building_token }
            multiply_temp_variable = { capitalists_to_hire = x_percent_temp }
            divide_temp_variable = { capitalists_to_hire = 100 }

			set_temp_variable = { prod_break = 1 }
		}
		if = {
			limit = {
				check_variable = { professionals_to_hire > professionals_unemployed_amount }
			}
			# Recorrecting Hiring %
            if = {
                limit = {
                    check_variable = { professionals_unemployed_amount > 10000 }
                }
			    set_temp_variable = { x_percent_temp = professionals_unemployed_amount }
			    divide_temp_variable = { x_percent_temp = professionals_jobs@var:building_token }
			    multiply_temp_variable = { x_percent_temp = 100 }
            }
            else = {
			    set_temp_variable = { x_percent_temp = professionals_unemployed_amount }
			    multiply_temp_variable = { x_percent_temp = 100 }
			    divide_temp_variable = { x_percent_temp = professionals_jobs@var:building_token }
            }

			# Redoing Prospective Hiring
            set_temp_variable = { specialists_to_hire = specialists_jobs@var:building_token }
            multiply_temp_variable = { specialists_to_hire = x_percent_temp }
            divide_temp_variable = { specialists_to_hire = 100 }
            set_temp_variable = { aristocrats_to_hire = aristocrats_jobs@var:building_token }
            multiply_temp_variable = { aristocrats_to_hire = x_percent_temp }
            divide_temp_variable = { aristocrats_to_hire = 100 }
            set_temp_variable = { capitalists_to_hire = capitalists_jobs@var:building_token }
            multiply_temp_variable = { capitalists_to_hire = x_percent_temp }
            divide_temp_variable = { capitalists_to_hire = 100 }

			set_temp_variable = { prod_break = 1 }
		}
		if = {
			limit = {
				check_variable = { specialists_to_hire > specialists_unemployed_amount }
			}
			# Recorrecting Hiring %
            if = {
                limit = {
                    check_variable = { specialists_unemployed_amount > 10000 }
                }
			    set_temp_variable = { x_percent_temp = specialists_unemployed_amount }
			    divide_temp_variable = { x_percent_temp = specialists_jobs@var:building_token }
			    multiply_temp_variable = { x_percent_temp = 100 }
            }
            else = {
			    set_temp_variable = { x_percent_temp = specialists_unemployed_amount }
			    multiply_temp_variable = { x_percent_temp = 100 }
			    divide_temp_variable = { x_percent_temp = specialists_jobs@var:building_token }
            }

			# Redoing Prospective Hiring
            set_temp_variable = { aristocrats_to_hire = aristocrats_jobs@var:building_token }
            multiply_temp_variable = { aristocrats_to_hire = x_percent_temp }
            divide_temp_variable = { aristocrats_to_hire = 100 }
            set_temp_variable = { capitalists_to_hire = capitalists_jobs@var:building_token }
            multiply_temp_variable = { capitalists_to_hire = x_percent_temp }
            divide_temp_variable = { capitalists_to_hire = 100 }

			set_temp_variable = { prod_break = 1 }
		}
		if = {
			limit = {
				check_variable = { aristocrats_to_hire > aristocrats_unemployed_amount }
			}
			# Recorrecting Hiring %
            if = {
                limit = {
                    check_variable = { aristocrats_unemployed_amount > 10000 }
                }
			    set_temp_variable = { x_percent_temp = aristocrats_unemployed_amount }
			    divide_temp_variable = { x_percent_temp = aristocrats_jobs@var:building_token }
			    multiply_temp_variable = { x_percent_temp = 100 }
            }
            else = {
			    set_temp_variable = { x_percent_temp = aristocrats_unemployed_amount }
			    multiply_temp_variable = { x_percent_temp = 100 }
			    divide_temp_variable = { x_percent_temp = aristocrats_jobs@var:building_token }
            }

			# Redoing Prospective Hiring
            set_temp_variable = { capitalists_to_hire = capitalists_jobs@var:building_token }
            multiply_temp_variable = { capitalists_to_hire = x_percent_temp }
            divide_temp_variable = { capitalists_to_hire = 100 }

			set_temp_variable = { prod_break = 1 }
		}
		if = {
			limit = {
				check_variable = { capitalists_to_hire > capitalists_unemployed_amount }
			}
			# Recorrecting Hiring %
            if = {
                limit = {
                    check_variable = { capitalists_unemployed_amount > 10000 }
                }
			    set_temp_variable = { x_percent_temp = capitalists_unemployed_amount }
			    divide_temp_variable = { x_percent_temp = capitalists_jobs@var:building_token }
			    multiply_temp_variable = { x_percent_temp = 100 }
            }
            else = {
			    set_temp_variable = { x_percent_temp = capitalists_unemployed_amount }
			    multiply_temp_variable = { x_percent_temp = 100 }
			    divide_temp_variable = { x_percent_temp = capitalists_jobs@var:building_token }
            }

			set_temp_variable = { prod_break = 1 }
		}

		if = {
			limit = {
				NOT = { check_variable = { x_percent_temp = 0 } }
			}
			add_to_variable = { employment_percentage@var:building_token = x_percent_temp }
			if = {
				limit = {
					check_variable = { employment_percentage@var:building_token < 0 }
				}
				set_variable = { employment_percentage@var:building_token = 0 }
			}
			else_if = {
				limit = {
					check_variable = { employment_percentage@var:building_token > 100 }
				}
				set_variable = { employment_percentage@var:building_token = 100 }
			}

			set_temp_variable = { employed_before = employed@var:building_token }
			set_temp_variable = { peasants_before = peasants_employed@var:building_token }
			set_temp_variable = { laborers_before = laborers_employed@var:building_token }
			set_temp_variable = { workers_before = workers_employed@var:building_token }
			set_temp_variable = { professionals_before = professionals_employed@var:building_token }
			set_temp_variable = { specialists_before = specialists_employed@var:building_token }
			set_temp_variable = { aristocrats_before = aristocrats_employed@var:building_token }
			set_temp_variable = { capitalists_before = capitalists_employed@var:building_token }

            if = {
                limit = {
                    check_variable = { jobs@var:building_token > 10000 }
                }
			    set_variable = { employed@var:building_token = jobs@var:building_token }
                divide_variable = { employed@var:building_token = 100 }
			    multiply_variable = { employed@var:building_token = employment_percentage@var:building_token }
            }
            else = {
			    set_variable = { employed@var:building_token = jobs@var:building_token }
			    multiply_variable = { employed@var:building_token = employment_percentage@var:building_token }
                divide_variable = { employed@var:building_token = 100 }
            }
            if = {
                limit = {
                    check_variable = { peasants_jobs@var:building_token > 10000 }
                }
			    set_variable = { peasants_employed@var:building_token = peasants_jobs@var:building_token }
                divide_variable = { peasants_employed@var:building_token = 100 }
			    multiply_variable = { peasants_employed@var:building_token = employment_percentage@var:building_token }
            }
            else = {
			    set_variable = { peasants_employed@var:building_token = peasants_jobs@var:building_token }
			    multiply_variable = { peasants_employed@var:building_token = employment_percentage@var:building_token }
                divide_variable = { peasants_employed@var:building_token = 100 }
            }
            if = {
                limit = {
                    check_variable = { laborers_jobs@var:building_token > 10000 }
                }
			    set_variable = { laborers_employed@var:building_token = laborers_jobs@var:building_token }
                divide_variable = { laborers_employed@var:building_token = 100 }
			    multiply_variable = { laborers_employed@var:building_token = employment_percentage@var:building_token }
            }
            else = {
			    set_variable = { laborers_employed@var:building_token = laborers_jobs@var:building_token }
			    multiply_variable = { laborers_employed@var:building_token = employment_percentage@var:building_token }
                divide_variable = { laborers_employed@var:building_token = 100 }
            }
            if = {
                limit = {
                    check_variable = { workers_jobs@var:building_token > 10000 }
                }
			    set_variable = { workers_employed@var:building_token = workers_jobs@var:building_token }
                divide_variable = { workers_employed@var:building_token = 100 }
			    multiply_variable = { workers_employed@var:building_token = employment_percentage@var:building_token }
            }
            else = {
			    set_variable = { workers_employed@var:building_token = workers_jobs@var:building_token }
			    multiply_variable = { workers_employed@var:building_token = employment_percentage@var:building_token }
                divide_variable = { workers_employed@var:building_token = 100 }
            }
            if = {
                limit = {
                    check_variable = { professionals_jobs@var:building_token > 10000 }
                }
			    set_variable = { professionals_employed@var:building_token = professionals_jobs@var:building_token }
                divide_variable = { professionals_employed@var:building_token = 100 }
			    multiply_variable = { professionals_employed@var:building_token = employment_percentage@var:building_token }
            }
            else = {
			    set_variable = { professionals_employed@var:building_token = professionals_jobs@var:building_token }
			    multiply_variable = { professionals_employed@var:building_token = employment_percentage@var:building_token }
                divide_variable = { professionals_employed@var:building_token = 100 }
            }
            if = {
                limit = {
                    check_variable = { specialists_jobs@var:building_token > 10000 }
                }
			    set_variable = { specialists_employed@var:building_token = specialists_jobs@var:building_token }
                divide_variable = { specialists_employed@var:building_token = 100 }
			    multiply_variable = { specialists_employed@var:building_token = employment_percentage@var:building_token }
            }
            else = {
			    set_variable = { specialists_employed@var:building_token = specialists_jobs@var:building_token }
			    multiply_variable = { specialists_employed@var:building_token = employment_percentage@var:building_token }
                divide_variable = { specialists_employed@var:building_token = 100 }
            }
            if = {
                limit = {
                    check_variable = { aristocrats_jobs@var:building_token > 10000 }
                }
			    set_variable = { aristocrats_employed@var:building_token = aristocrats_jobs@var:building_token }
                divide_variable = { aristocrats_employed@var:building_token = 100 }
			    multiply_variable = { aristocrats_employed@var:building_token = employment_percentage@var:building_token }
            }
            else = {
			    set_variable = { aristocrats_employed@var:building_token = aristocrats_jobs@var:building_token }
			    multiply_variable = { aristocrats_employed@var:building_token = employment_percentage@var:building_token }
                divide_variable = { aristocrats_employed@var:building_token = 100 }
            }
            if = {
                limit = {
                    check_variable = { capitalists_jobs@var:building_token > 10000 }
                }
			    set_variable = { capitalists_employed@var:building_token = capitalists_jobs@var:building_token }
                divide_variable = { capitalists_employed@var:building_token = 100 }
			    multiply_variable = { capitalists_employed@var:building_token = employment_percentage@var:building_token }
            }
            else = {
			    set_variable = { capitalists_employed@var:building_token = capitalists_jobs@var:building_token }
			    multiply_variable = { capitalists_employed@var:building_token = employment_percentage@var:building_token }
                divide_variable = { capitalists_employed@var:building_token = 100 }
            }

			add_to_variable = { pops_employed = employed@var:building_token }
			subtract_from_variable = { pops_employed = employed_before }
			subtract_from_variable = { pops_unemployed = employed@var:building_token }
			add_to_variable = { pops_unemployed = employed_before }
			add_to_variable = { peasants_employed = peasants_employed@var:building_token }
			subtract_from_variable = { peasants_employed = peasants_before }
			subtract_from_variable = { peasants_unemployed = peasants_employed@var:building_token }
			add_to_variable = { peasants_unemployed = peasants_before }
			add_to_variable = { laborers_employed = laborers_employed@var:building_token }
			subtract_from_variable = { laborers_employed = laborers_before }
			subtract_from_variable = { laborers_unemployed = laborers_employed@var:building_token }
			add_to_variable = { laborers_unemployed = laborers_before }
			add_to_variable = { workers_employed = workers_employed@var:building_token }
			subtract_from_variable = { workers_employed = workers_before }
			subtract_from_variable = { workers_unemployed = workers_employed@var:building_token }
			add_to_variable = { workers_unemployed = workers_before }
			add_to_variable = { professionals_employed = professionals_employed@var:building_token }
			subtract_from_variable = { professionals_employed = professionals_before }
			subtract_from_variable = { professionals_unemployed = professionals_employed@var:building_token }
			add_to_variable = { professionals_unemployed = professionals_before }
			add_to_variable = { specialists_employed = specialists_employed@var:building_token }
			subtract_from_variable = { specialists_employed = specialists_before }
			subtract_from_variable = { specialists_unemployed = specialists_employed@var:building_token }
			add_to_variable = { specialists_unemployed = specialists_before }
			add_to_variable = { aristocrats_employed = aristocrats_employed@var:building_token }
			subtract_from_variable = { aristocrats_employed = aristocrats_before }
			subtract_from_variable = { aristocrats_unemployed = aristocrats_employed@var:building_token }
			add_to_variable = { aristocrats_unemployed = aristocrats_before }
			add_to_variable = { capitalists_employed = capitalists_employed@var:building_token }
			subtract_from_variable = { capitalists_employed = capitalists_before }
			subtract_from_variable = { capitalists_unemployed = capitalists_employed@var:building_token }
			add_to_variable = { capitalists_unemployed = capitalists_before }
		}
	}

    set_production_method = {
        #building_token, pm_temp
        #State scope
        #Sets the production method to pm provided. Checks if PM is too advanced & also adjusts workforce.

        # Checks PM if too advanced/basic
        set_variable = { production_method@var:building_token = pm_temp }
        get_latest_production_method = yes
        if = {
            limit = {
                check_variable = { pm_temp < production_method@var:building_token }
            }
            set_variable = { production_method@var:building_token = pm_temp }
        }

        get_earliest_production_method = yes
        if = {
            limit = {
                check_variable = { production_method@var:building_token < pm_temp }
            }
            set_variable = { production_method@var:building_token = pm_temp }
        }
        if = {
            limit = {
                check_variable = { production_method@var:building_token < 0 }
            }
            set_variable = { production_method@var:building_token = 0 }
        }

        # Adjusts Workforce
		set_temp_variable = { bu_token = building_token }
        set_temp_variable = { x_percent_temp = 0 }
        set_building_employment_to_x_percent = yes

        building_update = yes
        
        set_temp_variable = { x_percent_temp = employment_target@var:building_token }
        set_building_employment_to_x_percent = yes

        buildings_update = yes
        pops_update = yes
    }
    set_latest_production_method = {
        #building_token
        #State Scope
        #Sets the building to the latest production method available
        get_latest_production_method = yes
        set_production_method = yes
    }
    get_latest_production_method = {
        # building_token
        # State Scope
        # Returns pm_temp
        # Returns a temporary variable which has the latest production method available (as the number) and returns -1 if not available

        set_temp_variable = { pm_temp = -1 }

        #Checks latest first
        if = {
            limit = {
                OR = {
                    check_variable = { global.building_futurized_tech_unlock@var:building_token = 1 }
                    AND = {
                        NOT = { check_variable = { global.building_futurized_tech_unlock@var:building_token = 0 } }
                        set_temp_variable = { tech_temp = global.building_futurized_tech_unlock@var:building_token }
                        controller = { has_tech = var:tech_temp }
                    }
                }
            }
            set_temp_variable = { pm_temp = 11 }
        }
        else_if = {
            limit = {
                OR = {
                    check_variable = { global.building_automatized_tech_unlock@var:building_token = 1 }
                    AND = {
                        NOT = { check_variable = { global.building_automatized_tech_unlock@var:building_token = 0 } }
                        set_temp_variable = { tech_temp = global.building_automatized_tech_unlock@var:building_token }
                        controller = { has_tech = var:tech_temp }
                    }
                }
            }
            set_temp_variable = { pm_temp = 10 }
        }
        else_if = {
            limit = {
                OR = {
                    check_variable = { global.building_digitalized_tech_unlock@var:building_token = 1 }
                    AND = {
                        NOT = { check_variable = { global.building_digitalized_tech_unlock@var:building_token = 0 } }
                        set_temp_variable = { tech_temp = global.building_digitalized_tech_unlock@var:building_token }
                        controller = { has_tech = var:tech_temp }
                    }
                }
            }
            set_temp_variable = { pm_temp = 9 }
        }
        else_if = {
            limit = {
                OR = {
                    check_variable = { global.building_computerized_tech_unlock@var:building_token = 1 }
                    AND = {
                        NOT = { check_variable = { global.building_computerized_tech_unlock@var:building_token = 0 } }
                        set_temp_variable = { tech_temp = global.building_computerized_tech_unlock@var:building_token }
                        controller = { has_tech = var:tech_temp }
                    }
                }
            }
            set_temp_variable = { pm_temp = 8 }
        }
        else_if = {
            limit = {
                OR = {
                    check_variable = { global.building_roboticized_tech_unlock@var:building_token = 1 }
                    AND = {
                        NOT = { check_variable = { global.building_roboticized_tech_unlock@var:building_token = 0 } }
                        set_temp_variable = { tech_temp = global.building_roboticized_tech_unlock@var:building_token }
                        controller = { has_tech = var:tech_temp }
                    }
                }
            }
            set_temp_variable = { pm_temp = 7 }
        }
        else_if = {
            limit = {
                OR = {
                    check_variable = { global.building_modernized_tech_unlock@var:building_token = 1 }
                    AND = {
                        NOT = { check_variable = { global.building_modernized_tech_unlock@var:building_token = 0 } }
                        set_temp_variable = { tech_temp = global.building_modernized_tech_unlock@var:building_token }
                        controller = { has_tech = var:tech_temp }
                    }
                }
            }
            set_temp_variable = { pm_temp = 6 }
        }
        else_if = {
            limit = {
                OR = {
                    check_variable = { global.building_motorized_tech_unlock@var:building_token = 1 }
                    AND = {
                        NOT = { check_variable = { global.building_motorized_tech_unlock@var:building_token = 0 } }
                        set_temp_variable = { tech_temp = global.building_motorized_tech_unlock@var:building_token }
                        controller = { has_tech = var:tech_temp }
                    }
                }
            }
            set_temp_variable = { pm_temp = 5 }
        }
        else_if = {
            limit = {
                OR = {
                    check_variable = { global.building_electrified_tech_unlock@var:building_token = 1 }
                    AND = {
                        NOT = { check_variable = { global.building_electrified_tech_unlock@var:building_token = 0 } }
                        set_temp_variable = { tech_temp = global.building_electrified_tech_unlock@var:building_token }
                        controller = { has_tech = var:tech_temp }
                    }
                }
            }
            set_temp_variable = { pm_temp = 4 }
        }
        else_if = {
            limit = {
                OR = {
                    check_variable = { global.building_mechanized_tech_unlock@var:building_token = 1 }
                    AND = {
                        NOT = { check_variable = { global.building_mechanized_tech_unlock@var:building_token = 0 } }
                        set_temp_variable = { tech_temp = global.building_mechanized_tech_unlock@var:building_token }
                        controller = { has_tech = var:tech_temp }
                    }
                }
            }
            set_temp_variable = { pm_temp = 3 }
        }
        else_if = {
            limit = {
                OR = {
                    check_variable = { global.building_industrialized_tech_unlock@var:building_token = 1 }
                    AND = {
                        NOT = { check_variable = { global.building_industrialized_tech_unlock@var:building_token = 0 } }
                        set_temp_variable = { tech_temp = global.building_industrialized_tech_unlock@var:building_token }
                        controller = { has_tech = var:tech_temp }
                    }
                }
            }
            set_temp_variable = { pm_temp = 2 }
        }
        else_if = {
            limit = {
                OR = {
                    check_variable = { global.building_advanced_tech_unlock@var:building_token = 1 }
                    AND = {
                        NOT = { check_variable = { global.building_advanced_tech_unlock@var:building_token = 0 } }
                        set_temp_variable = { tech_temp = global.building_advanced_tech_unlock@var:building_token }
                        controller = { has_tech = var:tech_temp }
                    }
                }
            }
            set_temp_variable = { pm_temp = 1 }
        }
        else_if = {
            limit = {
                OR = {
                    check_variable = { global.building_basic_tech_unlock@var:building_token = 1 }
                    AND = {
                        NOT = { check_variable = { global.building_basic_tech_unlock@var:building_token = 0 } }
                        set_temp_variable = { tech_temp = global.building_basic_tech_unlock@var:building_token }
                        controller = { has_tech = var:tech_temp }
                    }
                }
            }
            set_temp_variable = { pm_temp = 0 }
        }
    }
    get_earliest_production_method = {
        # building_token
        # State Scope
        # Returns pm_temp
        # Returns a temporary variable which has the earliest production method available (as the number) and returns -1 if not available

        set_temp_variable = { pm_temp = -1 }

        #Checks earliest first
        if = {
            limit = {
                OR = {
                    check_variable = { global.building_basic_tech_unlock@var:building_token = 1 }
                    AND = {
                        NOT = { check_variable = { global.building_basic_tech_unlock@var:building_token = 0 } }
                        set_temp_variable = { tech_temp = global.building_basic_tech_unlock@var:building_token }
                        controller = { has_tech = var:tech_temp }
                    }
                }
            }
            set_temp_variable = { pm_temp = 0 }
        }
        else_if = {
            limit = {
                OR = {
                    check_variable = { global.building_advanced_tech_unlock@var:building_token = 1 }
                    AND = {
                        NOT = { check_variable = { global.building_advanced_tech_unlock@var:building_token = 0 } }
                        set_temp_variable = { tech_temp = global.building_advanced_tech_unlock@var:building_token }
                        controller = { has_tech = var:tech_temp }
                    }
                }
            }
            set_temp_variable = { pm_temp = 1 }
        }
        else_if = {
            limit = {
                OR = {
                    check_variable = { global.building_industrialized_tech_unlock@var:building_token = 1 }
                    AND = {
                        NOT = { check_variable = { global.building_industrialized_tech_unlock@var:building_token = 0 } }
                        set_temp_variable = { tech_temp = global.building_industrialized_tech_unlock@var:building_token }
                        controller = { has_tech = var:tech_temp }
                    }
                }
            }
            set_temp_variable = { pm_temp = 2 }
        }
        else_if = {
            limit = {
                OR = {
                    check_variable = { global.building_mechanized_tech_unlock@var:building_token = 1 }
                    AND = {
                        NOT = { check_variable = { global.building_mechanized_tech_unlock@var:building_token = 0 } }
                        set_temp_variable = { tech_temp = global.building_mechanized_tech_unlock@var:building_token }
                        controller = { has_tech = var:tech_temp }
                    }
                }
            }
            set_temp_variable = { pm_temp = 3 }
        }
        else_if = {
            limit = {
                OR = {
                    check_variable = { global.building_electrified_tech_unlock@var:building_token = 1 }
                    AND = {
                        NOT = { check_variable = { global.building_electrified_tech_unlock@var:building_token = 0 } }
                        set_temp_variable = { tech_temp = global.building_electrified_tech_unlock@var:building_token }
                        controller = { has_tech = var:tech_temp }
                    }
                }
            }
            set_temp_variable = { pm_temp = 4 }
        }
        else_if = {
            limit = {
                OR = {
                    check_variable = { global.building_motorized_tech_unlock@var:building_token = 1 }
                    AND = {
                        NOT = { check_variable = { global.building_motorized_tech_unlock@var:building_token = 0 } }
                        set_temp_variable = { tech_temp = global.building_motorized_tech_unlock@var:building_token }
                        controller = { has_tech = var:tech_temp }
                    }
                }
            }
            set_temp_variable = { pm_temp = 5 }
        }
        else_if = {
            limit = {
                OR = {
                    check_variable = { global.building_modernized_tech_unlock@var:building_token = 1 }
                    AND = {
                        NOT = { check_variable = { global.building_modernized_tech_unlock@var:building_token = 0 } }
                        set_temp_variable = { tech_temp = global.building_modernized_tech_unlock@var:building_token }
                        controller = { has_tech = var:tech_temp }
                    }
                }
            }
            set_temp_variable = { pm_temp = 6 }
        }
        else_if = {
            limit = {
                OR = {
                    check_variable = { global.building_roboticized_tech_unlock@var:building_token = 1 }
                    AND = {
                        NOT = { check_variable = { global.building_roboticized_tech_unlock@var:building_token = 0 } }
                        set_temp_variable = { tech_temp = global.building_roboticized_tech_unlock@var:building_token }
                        controller = { has_tech = var:tech_temp }
                    }
                }
            }
            set_temp_variable = { pm_temp = 7 }
        }
        else_if = {
            limit = {
                OR = {
                    check_variable = { global.building_computerized_tech_unlock@var:building_token = 1 }
                    AND = {
                        NOT = { check_variable = { global.building_computerized_tech_unlock@var:building_token = 0 } }
                        set_temp_variable = { tech_temp = global.building_computerized_tech_unlock@var:building_token }
                        controller = { has_tech = var:tech_temp }
                    }
                }
            }
            set_temp_variable = { pm_temp = 8 }
        }
        else_if = {
            limit = {
                OR = {
                    check_variable = { global.building_digitalized_tech_unlock@var:building_token = 1 }
                    AND = {
                        NOT = { check_variable = { global.building_digitalized_tech_unlock@var:building_token = 0 } }
                        set_temp_variable = { tech_temp = global.building_digitalized_tech_unlock@var:building_token }
                        controller = { has_tech = var:tech_temp }
                    }
                }
            }
            set_temp_variable = { pm_temp = 9 }
        }
        else_if = {
            limit = {
                OR = {
                    check_variable = { global.building_automatized_tech_unlock@var:building_token = 1 }
                    AND = {
                        NOT = { check_variable = { global.building_automatized_tech_unlock@var:building_token = 0 } }
                        set_temp_variable = { tech_temp = global.building_automatized_tech_unlock@var:building_token }
                        controller = { has_tech = var:tech_temp }
                    }
                }
            }
            set_temp_variable = { pm_temp = 10 }
        }
        else_if = {
            limit = {
                OR = {
                    check_variable = { global.building_futurized_tech_unlock@var:building_token = 1 }
                    AND = {
                        NOT = { check_variable = { global.building_futurized_tech_unlock@var:building_token = 0 } }
                        set_temp_variable = { tech_temp = global.building_futurized_tech_unlock@var:building_token }
                        controller = { has_tech = var:tech_temp }
                    }
                }
            }
            set_temp_variable = { pm_temp = 11 }
        }
    }
    correct_production_method = {
        # building_token. pm_temp
        # State Scope
        # Takes in a production method and "corrects" it. If set to -1, then latest is chosen. If not valid, then sets it to -1

        if = {
            limit = {
                check_variable = { pm_temp = -1 }
            }
            get_latest_production_method = yes
        }
        else = {
            set_temp_variable = { pm_correcting_temp = pm_temp }
            get_latest_production_method = yes
            if = {
                limit = {
                    check_variable = { pm_correcting_temp > pm_temp }
                }
                set_temp_variable = { pm_correcting_temp = pm_temp }
            }

            get_earliest_production_method = yes
            if = {
                limit = {
                    check_variable = { pm_correcting_temp < pm_temp }
                }
                set_temp_variable = { pm_correcting_temp = pm_temp }
            }

            set_temp_variable = { pm_temp = pm_correcting_temp }
        }
    }

    reload_building_array = {
        clear_array = urban_buildings
        clear_array = rural_buildings
        clear_array = buildings
        for_each_loop = {
            array = global.urban_building_token_array
            value = bld_token
            if = {
                limit = {
                    OR = {
                        check_variable = { size@var:bld_token > 0 }
                        check_variable = { under_construction@var:bld_token > 0 }
                    }
                }
                add_to_array = { urban_buildings = bld_token }
                add_to_array = { buildings = bld_token }
            }
        }
        for_each_loop = {
            array = global.rural_building_token_array
            value = bld_token
            if = {
                limit = {
                    OR = {
                        check_variable = { size@var:bld_token > 0 }
                        check_variable = { under_construction@var:bld_token > 0 }
                    }
                }
                add_to_array = { rural_buildings = bld_token }
                add_to_array = { buildings = bld_token }
            }
        }
    }

    buildings_update = {

        set_variable = { total_building_amount = 0 }

		set_variable = { jobs_buildings = 0 }
		set_variable = { employed_buildings = 0 }

		set_variable = { non_subs_jobs_buildings = 0 }
		set_variable = { non_subs_employed_buildings = 0 }

        # Update Mil/Civ/Naval Factories
            if = {
                limit = {
                    NOT = { check_variable = { size@token:building_military_industry = arms_factory_level } }
                }
                set_variable = { size@token:building_military_industry = arms_factory_level }
                if = {
                    limit = {
                        NOT = { has_variable = production_method@token:building_military_industry }
                    }
                    set_variable = { production_method@token:building_military_industry = controller:latest_production_method@token:building_military_industry }
                }
            }

            if = {
                limit = {
                    NOT = { check_variable = { size@token:building_civilian_industry = industrial_complex_level} }
                }
                set_variable = { size@token:building_civilian_industry = industrial_complex_level }
                if = {
                    limit = {
                        NOT = { has_variable = production_method@token:building_civilian_industry }
                    }
                    set_variable = { production_method@token:building_civilian_industry = controller:latest_production_method@token:building_civilian_industry }
                }
            }

            if = {
                limit = {
                    NOT = { check_variable = { size@token:building_naval_industry = building_level@dockyard } }
                }
                set_variable = { size@token:building_naval_industry = building_level@dockyard }
                if = {
                    limit = {
                        NOT = { has_variable = production_method@token:building_naval_industry }
                    }
                    set_variable = { production_method@token:building_naval_industry = controller:latest_production_method@token:building_naval_industry }
                }
            }
        #

		for_each_loop = {
			array = buildings
			value = bu_token
			index = ind
			break = ind_break

			building_update = yes

			add_to_variable = { jobs_buildings = jobs@var:bu_token }
			add_to_variable = { employed_buildings = employed@var:bu_token }

            if = {
                limit = {
                    NOT = { check_variable = { bu_token = token:building_subsistence_farm } }
                    NOT = { check_variable = { bu_token = token:building_rice_paddy } }
                }
			    add_to_variable = { total_building_amount = size@var:bu_token }
                add_to_variable = { non_subs_jobs_buildings = jobs@var:bu_token }
                add_to_variable = { non_subs_employed_buildings = employed@var:bu_token }
            }
		}
    }
    building_update = {
        #bu_token

		set_temp_variable = { bu_resource_1 = global.building_output_resource_1@var:bu_token }
		set_temp_variable = { bu_resource_2 = global.building_output_resource_2@var:bu_token }
		set_temp_variable = { bu_resource_3 = global.building_output_resource_3@var:bu_token }
		set_temp_variable = { bu_resource_4 = global.building_output_resource_4@var:bu_token }
		set_temp_variable = { bu_resource_5 = global.building_output_resource_5@var:bu_token }

        # Building Era
			if = { #Basic
				limit = {
					check_variable = { production_method@var:bu_token = 0 }
				}
                # Jobs
				set_variable = { peasants_jobs@var:bu_token = global.building_basic_peasants_employment@var:bu_token }
				set_variable = { laborers_jobs@var:bu_token = global.building_basic_laborers_employment@var:bu_token }
				set_variable = { workers_jobs@var:bu_token = global.building_basic_workers_employment@var:bu_token }
				set_variable = { professionals_jobs@var:bu_token = global.building_basic_professionals_employment@var:bu_token }
				set_variable = { specialists_jobs@var:bu_token = global.building_basic_specialists_employment@var:bu_token }
				set_variable = { aristocrats_jobs@var:bu_token = global.building_basic_aristocrats_employment@var:bu_token }
				set_variable = { capitalists_jobs@var:bu_token = global.building_basic_capitalists_employment@var:bu_token }
                set_variable = { payroll_multiplier@var:bu_token = global.building_basic_payroll_multiplier@var:bu_token }

                # Max Production
                set_variable = { max_production_1@var:bu_token = global.building_basic_output_1@var:bu_token }
                set_variable = { max_production_2@var:bu_token = global.building_basic_output_2@var:bu_token }
                set_variable = { max_production_3@var:bu_token = global.building_basic_output_3@var:bu_token }
                set_variable = { max_production_4@var:bu_token = global.building_basic_output_4@var:bu_token }
                set_variable = { max_production_5@var:bu_token = global.building_basic_output_5@var:bu_token }
                
                # Inputs
                set_temp_variable = { input_r_1 = global.building_basic_input_resource_1@var:bu_token }
                set_temp_variable = { input_r_2 = global.building_basic_input_resource_2@var:bu_token }
                set_temp_variable = { input_r_3 = global.building_basic_input_resource_3@var:bu_token }
                set_temp_variable = { input_r_4 = global.building_basic_input_resource_4@var:bu_token }
                set_temp_variable = { input_r_5 = global.building_basic_input_resource_5@var:bu_token }

                set_variable = { input_1_amount@var:bu_token = global.building_basic_input_amount_1@var:bu_token }
                set_variable = { input_2_amount@var:bu_token = global.building_basic_input_amount_2@var:bu_token }
                set_variable = { input_3_amount@var:bu_token = global.building_basic_input_amount_3@var:bu_token }
                set_variable = { input_4_amount@var:bu_token = global.building_basic_input_amount_4@var:bu_token }
                set_variable = { input_5_amount@var:bu_token = global.building_basic_input_amount_5@var:bu_token }

                # Capacities
				set_variable = { industrial_capacity_use@var:bu_token = global.building_basic_industrial_capacity_use@var:bu_token }
				set_variable = { shipping_capacity@var:bu_token = global.building_basic_output_shipping_capacity@var:bu_token }
				set_variable = { industrial_capacity@var:bu_token = global.building_basic_output_industrial_capacity@var:bu_token }
			}
			else_if = { #Advanced
				limit = {
					check_variable = { production_method@var:bu_token = 1 }
				}
                # Jobs
				set_variable = { peasants_jobs@var:bu_token = global.building_advanced_peasants_employment@var:bu_token }
				set_variable = { laborers_jobs@var:bu_token = global.building_advanced_laborers_employment@var:bu_token }
				set_variable = { workers_jobs@var:bu_token = global.building_advanced_workers_employment@var:bu_token }
				set_variable = { professionals_jobs@var:bu_token = global.building_advanced_professionals_employment@var:bu_token }
				set_variable = { specialists_jobs@var:bu_token = global.building_advanced_specialists_employment@var:bu_token }
				set_variable = { aristocrats_jobs@var:bu_token = global.building_advanced_aristocrats_employment@var:bu_token }
				set_variable = { capitalists_jobs@var:bu_token = global.building_advanced_capitalists_employment@var:bu_token }
                set_variable = { payroll_multiplier@var:bu_token = global.building_advanced_payroll_multiplier@var:bu_token }

                # Max Production
                set_variable = { max_production_1@var:bu_token = global.building_advanced_output_1@var:bu_token }
                set_variable = { max_production_2@var:bu_token = global.building_advanced_output_2@var:bu_token }
                set_variable = { max_production_3@var:bu_token = global.building_advanced_output_3@var:bu_token }
                set_variable = { max_production_4@var:bu_token = global.building_advanced_output_4@var:bu_token }
                set_variable = { max_production_5@var:bu_token = global.building_advanced_output_5@var:bu_token }
                
                # Inputs
                set_temp_variable = { input_r_1 = global.building_advanced_input_resource_1@var:bu_token }
                set_temp_variable = { input_r_2 = global.building_advanced_input_resource_2@var:bu_token }
                set_temp_variable = { input_r_3 = global.building_advanced_input_resource_3@var:bu_token }
                set_temp_variable = { input_r_4 = global.building_advanced_input_resource_4@var:bu_token }
                set_temp_variable = { input_r_5 = global.building_advanced_input_resource_5@var:bu_token }

                set_variable = { input_1_amount@var:bu_token = global.building_advanced_input_amount_1@var:bu_token }
                set_variable = { input_2_amount@var:bu_token = global.building_advanced_input_amount_2@var:bu_token }
                set_variable = { input_3_amount@var:bu_token = global.building_advanced_input_amount_3@var:bu_token }
                set_variable = { input_4_amount@var:bu_token = global.building_advanced_input_amount_4@var:bu_token }
                set_variable = { input_5_amount@var:bu_token = global.building_advanced_input_amount_5@var:bu_token }

                # Capacities
				set_variable = { industrial_capacity_use@var:bu_token = global.building_advanced_industrial_capacity_use@var:bu_token }
				set_variable = { shipping_capacity@var:bu_token = global.building_advanced_output_shipping_capacity@var:bu_token }
				set_variable = { industrial_capacity@var:bu_token = global.building_advanced_output_industrial_capacity@var:bu_token }
			}
			else_if = { #Industrialized
				limit = {
					check_variable = { production_method@var:bu_token = 2 }
				}
                # Jobs
				set_variable = { peasants_jobs@var:bu_token = global.building_industrialized_peasants_employment@var:bu_token }
				set_variable = { laborers_jobs@var:bu_token = global.building_industrialized_laborers_employment@var:bu_token }
				set_variable = { workers_jobs@var:bu_token = global.building_industrialized_workers_employment@var:bu_token }
				set_variable = { professionals_jobs@var:bu_token = global.building_industrialized_professionals_employment@var:bu_token }
				set_variable = { specialists_jobs@var:bu_token = global.building_industrialized_specialists_employment@var:bu_token }
				set_variable = { aristocrats_jobs@var:bu_token = global.building_industrialized_aristocrats_employment@var:bu_token }
				set_variable = { capitalists_jobs@var:bu_token = global.building_industrialized_capitalists_employment@var:bu_token }
                set_variable = { payroll_multiplier@var:bu_token = global.building_industrialized_payroll_multiplier@var:bu_token }

                # Max Production
                set_variable = { max_production_1@var:bu_token = global.building_industrialized_output_1@var:bu_token }
                set_variable = { max_production_2@var:bu_token = global.building_industrialized_output_2@var:bu_token }
                set_variable = { max_production_3@var:bu_token = global.building_industrialized_output_3@var:bu_token }
                set_variable = { max_production_4@var:bu_token = global.building_industrialized_output_4@var:bu_token }
                set_variable = { max_production_5@var:bu_token = global.building_industrialized_output_5@var:bu_token }
                
                # Inputs
                set_temp_variable = { input_r_1 = global.building_industrialized_input_resource_1@var:bu_token }
                set_temp_variable = { input_r_2 = global.building_industrialized_input_resource_2@var:bu_token }
                set_temp_variable = { input_r_3 = global.building_industrialized_input_resource_3@var:bu_token }
                set_temp_variable = { input_r_4 = global.building_industrialized_input_resource_4@var:bu_token }
                set_temp_variable = { input_r_5 = global.building_industrialized_input_resource_5@var:bu_token }

                set_variable = { input_1_amount@var:bu_token = global.building_industrialized_input_amount_1@var:bu_token }
                set_variable = { input_2_amount@var:bu_token = global.building_industrialized_input_amount_2@var:bu_token }
                set_variable = { input_3_amount@var:bu_token = global.building_industrialized_input_amount_3@var:bu_token }
                set_variable = { input_4_amount@var:bu_token = global.building_industrialized_input_amount_4@var:bu_token }
                set_variable = { input_5_amount@var:bu_token = global.building_industrialized_input_amount_5@var:bu_token }

                # Capacities
				set_variable = { industrial_capacity_use@var:bu_token = global.building_industrialized_industrial_capacity_use@var:bu_token }
				set_variable = { shipping_capacity@var:bu_token = global.building_industrialized_output_shipping_capacity@var:bu_token }
				set_variable = { industrial_capacity@var:bu_token = global.building_industrialized_output_industrial_capacity@var:bu_token }
			}
			else_if = { #Mechanized
				limit = {
					check_variable = { production_method@var:bu_token = 3 }
				}
                # Jobs
				set_variable = { peasants_jobs@var:bu_token = global.building_mechanized_peasants_employment@var:bu_token }
				set_variable = { laborers_jobs@var:bu_token = global.building_mechanized_laborers_employment@var:bu_token }
				set_variable = { workers_jobs@var:bu_token = global.building_mechanized_workers_employment@var:bu_token }
				set_variable = { professionals_jobs@var:bu_token = global.building_mechanized_professionals_employment@var:bu_token }
				set_variable = { specialists_jobs@var:bu_token = global.building_mechanized_specialists_employment@var:bu_token }
				set_variable = { aristocrats_jobs@var:bu_token = global.building_mechanized_aristocrats_employment@var:bu_token }
				set_variable = { capitalists_jobs@var:bu_token = global.building_mechanized_capitalists_employment@var:bu_token }
                set_variable = { payroll_multiplier@var:bu_token = global.building_mechanized_payroll_multiplier@var:bu_token }

                # Max Production
                set_variable = { max_production_1@var:bu_token = global.building_mechanized_output_1@var:bu_token }
                set_variable = { max_production_2@var:bu_token = global.building_mechanized_output_2@var:bu_token }
                set_variable = { max_production_3@var:bu_token = global.building_mechanized_output_3@var:bu_token }
                set_variable = { max_production_4@var:bu_token = global.building_mechanized_output_4@var:bu_token }
                set_variable = { max_production_5@var:bu_token = global.building_mechanized_output_5@var:bu_token }
                
                # Inputs
                set_temp_variable = { input_r_1 = global.building_mechanized_input_resource_1@var:bu_token }
                set_temp_variable = { input_r_2 = global.building_mechanized_input_resource_2@var:bu_token }
                set_temp_variable = { input_r_3 = global.building_mechanized_input_resource_3@var:bu_token }
                set_temp_variable = { input_r_4 = global.building_mechanized_input_resource_4@var:bu_token }
                set_temp_variable = { input_r_5 = global.building_mechanized_input_resource_5@var:bu_token }

                set_variable = { input_1_amount@var:bu_token = global.building_mechanized_input_amount_1@var:bu_token }
                set_variable = { input_2_amount@var:bu_token = global.building_mechanized_input_amount_2@var:bu_token }
                set_variable = { input_3_amount@var:bu_token = global.building_mechanized_input_amount_3@var:bu_token }
                set_variable = { input_4_amount@var:bu_token = global.building_mechanized_input_amount_4@var:bu_token }
                set_variable = { input_5_amount@var:bu_token = global.building_mechanized_input_amount_5@var:bu_token }

                # Capacities
				set_variable = { industrial_capacity_use@var:bu_token = global.building_mechanized_industrial_capacity_use@var:bu_token }
				set_variable = { shipping_capacity@var:bu_token = global.building_mechanized_output_shipping_capacity@var:bu_token }
				set_variable = { industrial_capacity@var:bu_token = global.building_mechanized_output_industrial_capacity@var:bu_token }
			}
			else_if = { #Electrified
				limit = {
					check_variable = { production_method@var:bu_token = 4 }
				}
                # Jobs
				set_variable = { peasants_jobs@var:bu_token = global.building_electrified_peasants_employment@var:bu_token }
				set_variable = { laborers_jobs@var:bu_token = global.building_electrified_laborers_employment@var:bu_token }
				set_variable = { workers_jobs@var:bu_token = global.building_electrified_workers_employment@var:bu_token }
				set_variable = { professionals_jobs@var:bu_token = global.building_electrified_professionals_employment@var:bu_token }
				set_variable = { specialists_jobs@var:bu_token = global.building_electrified_specialists_employment@var:bu_token }
				set_variable = { aristocrats_jobs@var:bu_token = global.building_electrified_aristocrats_employment@var:bu_token }
				set_variable = { capitalists_jobs@var:bu_token = global.building_electrified_capitalists_employment@var:bu_token }
                set_variable = { payroll_multiplier@var:bu_token = global.building_electrified_payroll_multiplier@var:bu_token }

                # Max Production
                set_variable = { max_production_1@var:bu_token = global.building_electrified_output_1@var:bu_token }
                set_variable = { max_production_2@var:bu_token = global.building_electrified_output_2@var:bu_token }
                set_variable = { max_production_3@var:bu_token = global.building_electrified_output_3@var:bu_token }
                set_variable = { max_production_4@var:bu_token = global.building_electrified_output_4@var:bu_token }
                set_variable = { max_production_5@var:bu_token = global.building_electrified_output_5@var:bu_token }
                
                # Inputs
                set_temp_variable = { input_r_1 = global.building_electrified_input_resource_1@var:bu_token }
                set_temp_variable = { input_r_2 = global.building_electrified_input_resource_2@var:bu_token }
                set_temp_variable = { input_r_3 = global.building_electrified_input_resource_3@var:bu_token }
                set_temp_variable = { input_r_4 = global.building_electrified_input_resource_4@var:bu_token }
                set_temp_variable = { input_r_5 = global.building_electrified_input_resource_5@var:bu_token }

                set_variable = { input_1_amount@var:bu_token = global.building_electrified_input_amount_1@var:bu_token }
                set_variable = { input_2_amount@var:bu_token = global.building_electrified_input_amount_2@var:bu_token }
                set_variable = { input_3_amount@var:bu_token = global.building_electrified_input_amount_3@var:bu_token }
                set_variable = { input_4_amount@var:bu_token = global.building_electrified_input_amount_4@var:bu_token }
                set_variable = { input_5_amount@var:bu_token = global.building_electrified_input_amount_5@var:bu_token }

                # Capacities
				set_variable = { industrial_capacity_use@var:bu_token = global.building_electrified_industrial_capacity_use@var:bu_token }
				set_variable = { shipping_capacity@var:bu_token = global.building_electrified_output_shipping_capacity@var:bu_token }
				set_variable = { industrial_capacity@var:bu_token = global.building_electrified_output_industrial_capacity@var:bu_token }
			}
			else_if = { #Motorized
				limit = {
					check_variable = { production_method@var:bu_token = 5 }
				}
                # Jobs
				set_variable = { peasants_jobs@var:bu_token = global.building_motorized_peasants_employment@var:bu_token }
				set_variable = { laborers_jobs@var:bu_token = global.building_motorized_laborers_employment@var:bu_token }
				set_variable = { workers_jobs@var:bu_token = global.building_motorized_workers_employment@var:bu_token }
				set_variable = { professionals_jobs@var:bu_token = global.building_motorized_professionals_employment@var:bu_token }
				set_variable = { specialists_jobs@var:bu_token = global.building_motorized_specialists_employment@var:bu_token }
				set_variable = { aristocrats_jobs@var:bu_token = global.building_motorized_aristocrats_employment@var:bu_token }
				set_variable = { capitalists_jobs@var:bu_token = global.building_motorized_capitalists_employment@var:bu_token }
                set_variable = { payroll_multiplier@var:bu_token = global.building_motorized_payroll_multiplier@var:bu_token }

                # Max Production
                set_variable = { max_production_1@var:bu_token = global.building_motorized_output_1@var:bu_token }
                set_variable = { max_production_2@var:bu_token = global.building_motorized_output_2@var:bu_token }
                set_variable = { max_production_3@var:bu_token = global.building_motorized_output_3@var:bu_token }
                set_variable = { max_production_4@var:bu_token = global.building_motorized_output_4@var:bu_token }
                set_variable = { max_production_5@var:bu_token = global.building_motorized_output_5@var:bu_token }
                
                # Inputs
                set_temp_variable = { input_r_1 = global.building_motorized_input_resource_1@var:bu_token }
                set_temp_variable = { input_r_2 = global.building_motorized_input_resource_2@var:bu_token }
                set_temp_variable = { input_r_3 = global.building_motorized_input_resource_3@var:bu_token }
                set_temp_variable = { input_r_4 = global.building_motorized_input_resource_4@var:bu_token }
                set_temp_variable = { input_r_5 = global.building_motorized_input_resource_5@var:bu_token }

                set_variable = { input_1_amount@var:bu_token = global.building_motorized_input_amount_1@var:bu_token }
                set_variable = { input_2_amount@var:bu_token = global.building_motorized_input_amount_2@var:bu_token }
                set_variable = { input_3_amount@var:bu_token = global.building_motorized_input_amount_3@var:bu_token }
                set_variable = { input_4_amount@var:bu_token = global.building_motorized_input_amount_4@var:bu_token }
                set_variable = { input_5_amount@var:bu_token = global.building_motorized_input_amount_5@var:bu_token }

                # Capacities
				set_variable = { industrial_capacity_use@var:bu_token = global.building_motorized_industrial_capacity_use@var:bu_token }
				set_variable = { shipping_capacity@var:bu_token = global.building_motorized_output_shipping_capacity@var:bu_token }
				set_variable = { industrial_capacity@var:bu_token = global.building_motorized_output_industrial_capacity@var:bu_token }
			}
			else_if = { #Modernized
				limit = {
					check_variable = { production_method@var:bu_token = 6 }
				}
                # Jobs
				set_variable = { peasants_jobs@var:bu_token = global.building_modernized_peasants_employment@var:bu_token }
				set_variable = { laborers_jobs@var:bu_token = global.building_modernized_laborers_employment@var:bu_token }
				set_variable = { workers_jobs@var:bu_token = global.building_modernized_workers_employment@var:bu_token }
				set_variable = { professionals_jobs@var:bu_token = global.building_modernized_professionals_employment@var:bu_token }
				set_variable = { specialists_jobs@var:bu_token = global.building_modernized_specialists_employment@var:bu_token }
				set_variable = { aristocrats_jobs@var:bu_token = global.building_modernized_aristocrats_employment@var:bu_token }
				set_variable = { capitalists_jobs@var:bu_token = global.building_modernized_capitalists_employment@var:bu_token }
                set_variable = { payroll_multiplier@var:bu_token = global.building_modernized_payroll_multiplier@var:bu_token }

                # Max Production
                set_variable = { max_production_1@var:bu_token = global.building_modernized_output_1@var:bu_token }
                set_variable = { max_production_2@var:bu_token = global.building_modernized_output_2@var:bu_token }
                set_variable = { max_production_3@var:bu_token = global.building_modernized_output_3@var:bu_token }
                set_variable = { max_production_4@var:bu_token = global.building_modernized_output_4@var:bu_token }
                set_variable = { max_production_5@var:bu_token = global.building_modernized_output_5@var:bu_token }
                
                # Inputs
                set_temp_variable = { input_r_1 = global.building_modernized_input_resource_1@var:bu_token }
                set_temp_variable = { input_r_2 = global.building_modernized_input_resource_2@var:bu_token }
                set_temp_variable = { input_r_3 = global.building_modernized_input_resource_3@var:bu_token }
                set_temp_variable = { input_r_4 = global.building_modernized_input_resource_4@var:bu_token }
                set_temp_variable = { input_r_5 = global.building_modernized_input_resource_5@var:bu_token }

                set_variable = { input_1_amount@var:bu_token = global.building_modernized_input_amount_1@var:bu_token }
                set_variable = { input_2_amount@var:bu_token = global.building_modernized_input_amount_2@var:bu_token }
                set_variable = { input_3_amount@var:bu_token = global.building_modernized_input_amount_3@var:bu_token }
                set_variable = { input_4_amount@var:bu_token = global.building_modernized_input_amount_4@var:bu_token }
                set_variable = { input_5_amount@var:bu_token = global.building_modernized_input_amount_5@var:bu_token }

                # Capacities
				set_variable = { industrial_capacity_use@var:bu_token = global.building_modernized_industrial_capacity_use@var:bu_token }
				set_variable = { shipping_capacity@var:bu_token = global.building_modernized_output_shipping_capacity@var:bu_token }
				set_variable = { industrial_capacity@var:bu_token = global.building_modernized_output_industrial_capacity@var:bu_token }
			}
			else_if = { #Roboticized
				limit = {
					check_variable = { production_method@var:bu_token = 7 }
				}
                # Jobs
				set_variable = { peasants_jobs@var:bu_token = global.building_roboticized_peasants_employment@var:bu_token }
				set_variable = { laborers_jobs@var:bu_token = global.building_roboticized_laborers_employment@var:bu_token }
				set_variable = { workers_jobs@var:bu_token = global.building_roboticized_workers_employment@var:bu_token }
				set_variable = { professionals_jobs@var:bu_token = global.building_roboticized_professionals_employment@var:bu_token }
				set_variable = { specialists_jobs@var:bu_token = global.building_roboticized_specialists_employment@var:bu_token }
				set_variable = { aristocrats_jobs@var:bu_token = global.building_roboticized_aristocrats_employment@var:bu_token }
				set_variable = { capitalists_jobs@var:bu_token = global.building_roboticized_capitalists_employment@var:bu_token }
                set_variable = { payroll_multiplier@var:bu_token = global.building_roboticized_payroll_multiplier@var:bu_token }

                # Max Production
                set_variable = { max_production_1@var:bu_token = global.building_roboticized_output_1@var:bu_token }
                set_variable = { max_production_2@var:bu_token = global.building_roboticized_output_2@var:bu_token }
                set_variable = { max_production_3@var:bu_token = global.building_roboticized_output_3@var:bu_token }
                set_variable = { max_production_4@var:bu_token = global.building_roboticized_output_4@var:bu_token }
                set_variable = { max_production_5@var:bu_token = global.building_roboticized_output_5@var:bu_token }
                
                # Inputs
                set_temp_variable = { input_r_1 = global.building_roboticized_input_resource_1@var:bu_token }
                set_temp_variable = { input_r_2 = global.building_roboticized_input_resource_2@var:bu_token }
                set_temp_variable = { input_r_3 = global.building_roboticized_input_resource_3@var:bu_token }
                set_temp_variable = { input_r_4 = global.building_roboticized_input_resource_4@var:bu_token }
                set_temp_variable = { input_r_5 = global.building_roboticized_input_resource_5@var:bu_token }

                set_variable = { input_1_amount@var:bu_token = global.building_roboticized_input_amount_1@var:bu_token }
                set_variable = { input_2_amount@var:bu_token = global.building_roboticized_input_amount_2@var:bu_token }
                set_variable = { input_3_amount@var:bu_token = global.building_roboticized_input_amount_3@var:bu_token }
                set_variable = { input_4_amount@var:bu_token = global.building_roboticized_input_amount_4@var:bu_token }
                set_variable = { input_5_amount@var:bu_token = global.building_roboticized_input_amount_5@var:bu_token }

                # Capacities
				set_variable = { industrial_capacity_use@var:bu_token = global.building_roboticized_industrial_capacity_use@var:bu_token }
				set_variable = { shipping_capacity@var:bu_token = global.building_roboticized_output_shipping_capacity@var:bu_token }
				set_variable = { industrial_capacity@var:bu_token = global.building_roboticized_output_industrial_capacity@var:bu_token }
			}
			else_if = { #Computerized
				limit = {
					check_variable = { production_method@var:bu_token = 8 }
				}
                # Jobs
				set_variable = { peasants_jobs@var:bu_token = global.building_computerized_peasants_employment@var:bu_token }
				set_variable = { laborers_jobs@var:bu_token = global.building_computerized_laborers_employment@var:bu_token }
				set_variable = { workers_jobs@var:bu_token = global.building_computerized_workers_employment@var:bu_token }
				set_variable = { professionals_jobs@var:bu_token = global.building_computerized_professionals_employment@var:bu_token }
				set_variable = { specialists_jobs@var:bu_token = global.building_computerized_specialists_employment@var:bu_token }
				set_variable = { aristocrats_jobs@var:bu_token = global.building_computerized_aristocrats_employment@var:bu_token }
				set_variable = { capitalists_jobs@var:bu_token = global.building_computerized_capitalists_employment@var:bu_token }
                set_variable = { payroll_multiplier@var:bu_token = global.building_computerized_payroll_multiplier@var:bu_token }

                # Max Production
                set_variable = { max_production_1@var:bu_token = global.building_computerized_output_1@var:bu_token }
                set_variable = { max_production_2@var:bu_token = global.building_computerized_output_2@var:bu_token }
                set_variable = { max_production_3@var:bu_token = global.building_computerized_output_3@var:bu_token }
                set_variable = { max_production_4@var:bu_token = global.building_computerized_output_4@var:bu_token }
                set_variable = { max_production_5@var:bu_token = global.building_computerized_output_5@var:bu_token }
                
                # Inputs
                set_temp_variable = { input_r_1 = global.building_computerized_input_resource_1@var:bu_token }
                set_temp_variable = { input_r_2 = global.building_computerized_input_resource_2@var:bu_token }
                set_temp_variable = { input_r_3 = global.building_computerized_input_resource_3@var:bu_token }
                set_temp_variable = { input_r_4 = global.building_computerized_input_resource_4@var:bu_token }
                set_temp_variable = { input_r_5 = global.building_computerized_input_resource_5@var:bu_token }

                set_variable = { input_1_amount@var:bu_token = global.building_computerized_input_amount_1@var:bu_token }
                set_variable = { input_2_amount@var:bu_token = global.building_computerized_input_amount_2@var:bu_token }
                set_variable = { input_3_amount@var:bu_token = global.building_computerized_input_amount_3@var:bu_token }
                set_variable = { input_4_amount@var:bu_token = global.building_computerized_input_amount_4@var:bu_token }
                set_variable = { input_5_amount@var:bu_token = global.building_computerized_input_amount_5@var:bu_token }

                # Capacities
				set_variable = { industrial_capacity_use@var:bu_token = global.building_computerized_industrial_capacity_use@var:bu_token }
				set_variable = { shipping_capacity@var:bu_token = global.building_computerized_output_shipping_capacity@var:bu_token }
				set_variable = { industrial_capacity@var:bu_token = global.building_computerized_output_industrial_capacity@var:bu_token }
			}
			else_if = { #Digitalized
				limit = {
					check_variable = { production_method@var:bu_token = 9 }
				}
                # Jobs
				set_variable = { peasants_jobs@var:bu_token = global.building_digitalized_peasants_employment@var:bu_token }
				set_variable = { laborers_jobs@var:bu_token = global.building_digitalized_laborers_employment@var:bu_token }
				set_variable = { workers_jobs@var:bu_token = global.building_digitalized_workers_employment@var:bu_token }
				set_variable = { professionals_jobs@var:bu_token = global.building_digitalized_professionals_employment@var:bu_token }
				set_variable = { specialists_jobs@var:bu_token = global.building_digitalized_specialists_employment@var:bu_token }
				set_variable = { aristocrats_jobs@var:bu_token = global.building_digitalized_aristocrats_employment@var:bu_token }
				set_variable = { capitalists_jobs@var:bu_token = global.building_digitalized_capitalists_employment@var:bu_token }
                set_variable = { payroll_multiplier@var:bu_token = global.building_digitalized_payroll_multiplier@var:bu_token }

                # Max Production
                set_variable = { max_production_1@var:bu_token = global.building_digitalized_output_1@var:bu_token }
                set_variable = { max_production_2@var:bu_token = global.building_digitalized_output_2@var:bu_token }
                set_variable = { max_production_3@var:bu_token = global.building_digitalized_output_3@var:bu_token }
                set_variable = { max_production_4@var:bu_token = global.building_digitalized_output_4@var:bu_token }
                set_variable = { max_production_5@var:bu_token = global.building_digitalized_output_5@var:bu_token }
                
                # Inputs
                set_temp_variable = { input_r_1 = global.building_digitalized_input_resource_1@var:bu_token }
                set_temp_variable = { input_r_2 = global.building_digitalized_input_resource_2@var:bu_token }
                set_temp_variable = { input_r_3 = global.building_digitalized_input_resource_3@var:bu_token }
                set_temp_variable = { input_r_4 = global.building_digitalized_input_resource_4@var:bu_token }
                set_temp_variable = { input_r_5 = global.building_digitalized_input_resource_5@var:bu_token }

                set_variable = { input_1_amount@var:bu_token = global.building_digitalized_input_amount_1@var:bu_token }
                set_variable = { input_2_amount@var:bu_token = global.building_digitalized_input_amount_2@var:bu_token }
                set_variable = { input_3_amount@var:bu_token = global.building_digitalized_input_amount_3@var:bu_token }
                set_variable = { input_4_amount@var:bu_token = global.building_digitalized_input_amount_4@var:bu_token }
                set_variable = { input_5_amount@var:bu_token = global.building_digitalized_input_amount_5@var:bu_token }

                # Capacities
				set_variable = { industrial_capacity_use@var:bu_token = global.building_digitalized_industrial_capacity_use@var:bu_token }
				set_variable = { shipping_capacity@var:bu_token = global.building_digitalized_output_shipping_capacity@var:bu_token }
				set_variable = { industrial_capacity@var:bu_token = global.building_digitalized_output_industrial_capacity@var:bu_token }
			}
			else_if = { #Automatized
				limit = {
					check_variable = { production_method@var:bu_token = 10 }
				}
                # Jobs
				set_variable = { peasants_jobs@var:bu_token = global.building_automatized_peasants_employment@var:bu_token }
				set_variable = { laborers_jobs@var:bu_token = global.building_automatized_laborers_employment@var:bu_token }
				set_variable = { workers_jobs@var:bu_token = global.building_automatized_workers_employment@var:bu_token }
				set_variable = { professionals_jobs@var:bu_token = global.building_automatized_professionals_employment@var:bu_token }
				set_variable = { specialists_jobs@var:bu_token = global.building_automatized_specialists_employment@var:bu_token }
				set_variable = { aristocrats_jobs@var:bu_token = global.building_automatized_aristocrats_employment@var:bu_token }
				set_variable = { capitalists_jobs@var:bu_token = global.building_automatized_capitalists_employment@var:bu_token }
                set_variable = { payroll_multiplier@var:bu_token = global.building_automatized_payroll_multiplier@var:bu_token }

                # Max Production
                set_variable = { max_production_1@var:bu_token = global.building_automatized_output_1@var:bu_token }
                set_variable = { max_production_2@var:bu_token = global.building_automatized_output_2@var:bu_token }
                set_variable = { max_production_3@var:bu_token = global.building_automatized_output_3@var:bu_token }
                set_variable = { max_production_4@var:bu_token = global.building_automatized_output_4@var:bu_token }
                set_variable = { max_production_5@var:bu_token = global.building_automatized_output_5@var:bu_token }
                
                # Inputs
                set_temp_variable = { input_r_1 = global.building_automatized_input_resource_1@var:bu_token }
                set_temp_variable = { input_r_2 = global.building_automatized_input_resource_2@var:bu_token }
                set_temp_variable = { input_r_3 = global.building_automatized_input_resource_3@var:bu_token }
                set_temp_variable = { input_r_4 = global.building_automatized_input_resource_4@var:bu_token }
                set_temp_variable = { input_r_5 = global.building_automatized_input_resource_5@var:bu_token }

                set_variable = { input_1_amount@var:bu_token = global.building_automatized_input_amount_1@var:bu_token }
                set_variable = { input_2_amount@var:bu_token = global.building_automatized_input_amount_2@var:bu_token }
                set_variable = { input_3_amount@var:bu_token = global.building_automatized_input_amount_3@var:bu_token }
                set_variable = { input_4_amount@var:bu_token = global.building_automatized_input_amount_4@var:bu_token }
                set_variable = { input_5_amount@var:bu_token = global.building_automatized_input_amount_5@var:bu_token }

                # Capacities
				set_variable = { industrial_capacity_use@var:bu_token = global.building_automatized_industrial_capacity_use@var:bu_token }
				set_variable = { shipping_capacity@var:bu_token = global.building_automatized_output_shipping_capacity@var:bu_token }
				set_variable = { industrial_capacity@var:bu_token = global.building_automatized_output_industrial_capacity@var:bu_token }
			}
			else_if = { #Futurized
				limit = {
					check_variable = { production_method@var:bu_token = 11 }
				}
                # Jobs
				set_variable = { peasants_jobs@var:bu_token = global.building_futurized_peasants_employment@var:bu_token }
				set_variable = { laborers_jobs@var:bu_token = global.building_futurized_laborers_employment@var:bu_token }
				set_variable = { workers_jobs@var:bu_token = global.building_futurized_workers_employment@var:bu_token }
				set_variable = { professionals_jobs@var:bu_token = global.building_futurized_professionals_employment@var:bu_token }
				set_variable = { specialists_jobs@var:bu_token = global.building_futurized_specialists_employment@var:bu_token }
				set_variable = { aristocrats_jobs@var:bu_token = global.building_futurized_aristocrats_employment@var:bu_token }
				set_variable = { capitalists_jobs@var:bu_token = global.building_futurized_capitalists_employment@var:bu_token }
                set_variable = { payroll_multiplier@var:bu_token = global.building_futurized_payroll_multiplier@var:bu_token }

                # Max Production
                set_variable = { max_production_1@var:bu_token = global.building_futurized_output_1@var:bu_token }
                set_variable = { max_production_2@var:bu_token = global.building_futurized_output_2@var:bu_token }
                set_variable = { max_production_3@var:bu_token = global.building_futurized_output_3@var:bu_token }
                set_variable = { max_production_4@var:bu_token = global.building_futurized_output_4@var:bu_token }
                set_variable = { max_production_5@var:bu_token = global.building_futurized_output_5@var:bu_token }
                
                # Inputs
                set_temp_variable = { input_r_1 = global.building_futurized_input_resource_1@var:bu_token }
                set_temp_variable = { input_r_2 = global.building_futurized_input_resource_2@var:bu_token }
                set_temp_variable = { input_r_3 = global.building_futurized_input_resource_3@var:bu_token }
                set_temp_variable = { input_r_4 = global.building_futurized_input_resource_4@var:bu_token }
                set_temp_variable = { input_r_5 = global.building_futurized_input_resource_5@var:bu_token }

                set_variable = { input_1_amount@var:bu_token = global.building_futurized_input_amount_1@var:bu_token }
                set_variable = { input_2_amount@var:bu_token = global.building_futurized_input_amount_2@var:bu_token }
                set_variable = { input_3_amount@var:bu_token = global.building_futurized_input_amount_3@var:bu_token }
                set_variable = { input_4_amount@var:bu_token = global.building_futurized_input_amount_4@var:bu_token }
                set_variable = { input_5_amount@var:bu_token = global.building_futurized_input_amount_5@var:bu_token }

                # Capacities
				set_variable = { industrial_capacity_use@var:bu_token = global.building_futurized_industrial_capacity_use@var:bu_token }
				set_variable = { shipping_capacity@var:bu_token = global.building_futurized_output_shipping_capacity@var:bu_token }
				set_variable = { industrial_capacity@var:bu_token = global.building_futurized_output_industrial_capacity@var:bu_token }
			}

        #

        # Modifiers
            set_temp_variable = { size_modifier_temp = building_size_factor@var:bu_token }
            add_to_temp_variable = { size_modifier_temp = 1 }

			set_temp_variable = { output_modifier_temp = building_output_factor@var:bu_token }
			add_to_temp_variable = { output_modifier_temp = 1 }

			set_temp_variable = { throughput_modifier_temp = building_throughput_factor@var:bu_token }
			add_to_temp_variable = { throughput_modifier_temp = 1 }

			set_temp_variable = { input_modifier_temp = building_input_factor@var:bu_token }
			add_to_temp_variable = { input_modifier_temp = 1 }
        #

        # Reset to 0
			set_variable = { jobs@var:bu_token = 0 }
			set_variable = { employed@var:bu_token = 0 }
			set_variable = { expenses_payroll@var:bu_token = 0 }

			set_variable = { money_limit@var:bu_token = 0 }
            
            set_temp_variable = { revenue_temp = 0 }
            set_temp_variable = { expenses_temp = 0 }
        #

        if = { # Peasants
            limit = {
                check_variable = { peasants_jobs@var:bu_token > 0 }
            }
            multiply_variable = { peasants_jobs@var:bu_token = size@var:bu_token }
			multiply_variable = { peasants_jobs@var:bu_token = size_modifier_temp }

			add_to_variable = { jobs@var:bu_token = peasants_jobs@var:bu_token }
			add_to_variable = { employed@var:bu_token = peasants_employed@var:bu_token }
        }

        if = { # Laborers
            limit = {
                check_variable = { laborers_jobs@var:bu_token > 0 }
            }
            multiply_variable = { laborers_jobs@var:bu_token = size@var:bu_token }
			multiply_variable = { laborers_jobs@var:bu_token = size_modifier_temp }

			add_to_variable = { jobs@var:bu_token = laborers_jobs@var:bu_token }
			add_to_variable = { employed@var:bu_token = laborers_employed@var:bu_token }
        }

        if = { # Workers
            limit = {
                check_variable = { workers_jobs@var:bu_token > 0 }
            }
            multiply_variable = { workers_jobs@var:bu_token = size@var:bu_token }
			multiply_variable = { workers_jobs@var:bu_token = size_modifier_temp }

			add_to_variable = { jobs@var:bu_token = workers_jobs@var:bu_token }
			add_to_variable = { employed@var:bu_token = workers_employed@var:bu_token }
        }

        if = { # Professionals
            limit = {
                check_variable = { professionals_jobs@var:bu_token > 0 }
            }
            multiply_variable = { professionals_jobs@var:bu_token = size@var:bu_token }
			multiply_variable = { professionals_jobs@var:bu_token = size_modifier_temp }

			add_to_variable = { jobs@var:bu_token = professionals_jobs@var:bu_token }
			add_to_variable = { employed@var:bu_token = professionals_employed@var:bu_token }
        }

        if = { # Specialists
            limit = {
                check_variable = { specialists_jobs@var:bu_token > 0 }
            }
            multiply_variable = { specialists_jobs@var:bu_token = size@var:bu_token }
			multiply_variable = { specialists_jobs@var:bu_token = size_modifier_temp }

			add_to_variable = { jobs@var:bu_token = specialists_jobs@var:bu_token }
			add_to_variable = { employed@var:bu_token = specialists_employed@var:bu_token }
        }

        if = { # Aristocrats
            limit = {
                check_variable = { aristocrats_jobs@var:bu_token > 0 }
            }
            multiply_variable = { aristocrats_jobs@var:bu_token = size@var:bu_token }
			multiply_variable = { aristocrats_jobs@var:bu_token = size_modifier_temp }

			add_to_variable = { jobs@var:bu_token = aristocrats_jobs@var:bu_token }
			add_to_variable = { employed@var:bu_token = aristocrats_employed@var:bu_token }
        }

        if = { # Capitalists
            limit = {
                check_variable = { capitalists_jobs@var:bu_token > 0 }
            }
            multiply_variable = { capitalists_jobs@var:bu_token = size@var:bu_token }
			multiply_variable = { capitalists_jobs@var:bu_token = size_modifier_temp }

			add_to_variable = { jobs@var:bu_token = capitalists_jobs@var:bu_token }
			add_to_variable = { employed@var:bu_token = capitalists_employed@var:bu_token }
        }

		#Employment/Production Percentage
			set_variable = { employment_percentage@var:bu_token = employed@var:bu_token }
            if = {
                limit = {
                    check_variable = { employment_percentage@var:bu_token < 1000 }
                }
                multiply_variable = { employment_percentage@var:bu_token = 100 }
                divide_variable = { employment_percentage@var:bu_token = jobs@var:bu_token }
            }
            else = {
                divide_variable = { employment_percentage@var:bu_token = jobs@var:bu_token }
                multiply_variable = { employment_percentage@var:bu_token = 100 }
            }

			set_variable = { production_percentage@var:bu_token = employment_percentage@var:bu_token }
		#

        # Output 1 - Always does output 1
			multiply_variable = { max_production_1@var:bu_token = size@var:bu_token }
			multiply_variable = { max_production_1@var:bu_token = output_modifier_temp }
			multiply_variable = { max_production_1@var:bu_token = throughput_modifier_temp }
            
			set_variable = { production_1@var:bu_token = max_production_1@var:bu_token }
			multiply_variable = { production_1@var:bu_token = production_percentage@var:bu_token }
            divide_variable = { production_1@var:bu_token = 100 }

			set_temp_variable = { mlt = global.building_money_limit }
			multiply_variable = { mlt = global.base_price@var:bu_resource_1 }
			multiply_variable = { mlt = max_production_1@var:bu_token }
            
            set_temp_variable = { rev_g_temp = max_production_1@var:bu_token }
            multiply_temp_variable = { rev_g_temp = price@var:bu_resource_1 }
            
			set_variable = { revenue_goods_1@var:bu_token = production_1@var:bu_token }
			multiply_variable = { revenue_goods_1@var:bu_token = price@var:bu_resource_1 }

            add_to_variable = { money_limit@var:bu_token = mlt }
            add_to_temp_variable = { revenue_temp = rev_g_temp }
			set_variable = { revenue_goods@var:bu_token = revenue_goods_1@var:bu_token }
        #

        if = { # Output 2-5
            limit = {
                check_variable = { max_production_2@var:bu_token > 0 }
            }
			multiply_variable = { max_production_2@var:bu_token = size@var:bu_token }
			multiply_variable = { max_production_2@var:bu_token = output_modifier_temp }
			multiply_variable = { max_production_2@var:bu_token = throughput_modifier_temp }
            
			set_variable = { production_2@var:bu_token = max_production_2@var:bu_token }
			multiply_variable = { production_2@var:bu_token = production_percentage@var:bu_token }
            divide_variable = { production_2@var:bu_token = 100 }

			set_temp_variable = { mlt = global.building_money_limit }
			multiply_variable = { mlt = global.base_price@var:bu_resource_2 }
			multiply_variable = { mlt = max_production_2@var:bu_token }
            
            set_temp_variable = { rev_g_temp = max_production_2@var:bu_token }
            multiply_temp_variable = { rev_g_temp = price@var:bu_resource_2 }
            
			set_variable = { revenue_goods_2@var:bu_token = production_2@var:bu_token }
			multiply_variable = { revenue_goods_2@var:bu_token = price@var:bu_resource_2 }
            
            add_to_variable = { money_limit@var:bu_token = mlt }
            add_to_temp_variable = { revenue_temp = rev_g_temp }
			add_to_variable = { revenue_goods@var:bu_token = revenue_goods_2@var:bu_token }
            
            if = { # Output 3
                limit = {
                    check_variable = { max_production_3@var:bu_token > 0 }
                }
                multiply_variable = { max_production_3@var:bu_token = size@var:bu_token }
                multiply_variable = { max_production_3@var:bu_token = output_modifier_temp }
                multiply_variable = { max_production_3@var:bu_token = throughput_modifier_temp }
                
                set_variable = { production_3@var:bu_token = max_production_3@var:bu_token }
                multiply_variable = { production_3@var:bu_token = production_percentage@var:bu_token }
                divide_variable = { production_3@var:bu_token = 100 }

                set_temp_variable = { mlt = global.building_money_limit }
                multiply_variable = { mlt = global.base_price@var:bu_resource_3 }
                multiply_variable = { mlt = max_production_3@var:bu_token }
                
                set_temp_variable = { rev_g_temp = max_production_3@var:bu_token }
                multiply_temp_variable = { rev_g_temp = price@var:bu_resource_3 }
                
                set_variable = { revenue_goods_3@var:bu_token = production_3@var:bu_token }
                multiply_variable = { revenue_goods_3@var:bu_token = price@var:bu_resource_3 }
                
                add_to_variable = { money_limit@var:bu_token = mlt }
                add_to_temp_variable = { revenue_temp = rev_g_temp }
                add_to_variable = { revenue_goods@var:bu_token = revenue_goods_3@var:bu_token }
                
                if = { # Output 4
                    limit = {
                        check_variable = { max_production_4@var:bu_token > 0 }
                    }
                    multiply_variable = { max_production_4@var:bu_token = size@var:bu_token }
                    multiply_variable = { max_production_4@var:bu_token = output_modifier_temp }
                    multiply_variable = { max_production_4@var:bu_token = throughput_modifier_temp }
                    
                    set_variable = { production_4@var:bu_token = max_production_4@var:bu_token }
                    multiply_variable = { production_4@var:bu_token = production_percentage@var:bu_token }
                    divide_variable = { production_4@var:bu_token = 100 }

                    set_temp_variable = { mlt = global.building_money_limit }
                    multiply_variable = { mlt = global.base_price@var:bu_resource_4 }
                    multiply_variable = { mlt = max_production_4@var:bu_token }
                    
                    set_temp_variable = { rev_g_temp = max_production_4@var:bu_token }
                    multiply_temp_variable = { rev_g_temp = price@var:bu_resource_4 }
                    
                    set_variable = { revenue_goods_4@var:bu_token = production_4@var:bu_token }
                    multiply_variable = { revenue_goods_4@var:bu_token = price@var:bu_resource_4 }
                    
                    add_to_variable = { money_limit@var:bu_token = mlt }
                    add_to_temp_variable = { revenue_temp = rev_g_temp }
                    add_to_variable = { revenue_goods@var:bu_token = revenue_goods_4@var:bu_token }

                    if = { # Output 5
                        limit = {
                            check_variable = { max_production_5@var:bu_token > 0 }
                        }
                        multiply_variable = { max_production_5@var:bu_token = size@var:bu_token }
                        multiply_variable = { max_production_5@var:bu_token = output_modifier_temp }
                        multiply_variable = { max_production_5@var:bu_token = throughput_modifier_temp }
                        
                        set_variable = { production_5@var:bu_token = max_production_5@var:bu_token }
                        multiply_variable = { production_5@var:bu_token = production_percentage@var:bu_token }
                        divide_variable = { production_5@var:bu_token = 100 }

                        set_temp_variable = { mlt = global.building_money_limit }
                        multiply_variable = { mlt = global.base_price@var:bu_resource_5 }
                        multiply_variable = { mlt = max_production_5@var:bu_token }
                        
                        set_temp_variable = { rev_g_temp = max_production_5@var:bu_token }
                        multiply_temp_variable = { rev_g_temp = price@var:bu_resource_5 }
                        
                        set_variable = { revenue_goods_5@var:bu_token = production_5@var:bu_token }
                        multiply_variable = { revenue_goods_5@var:bu_token = price@var:bu_resource_5 }
                        
                        add_to_variable = { money_limit@var:bu_token = mlt }
                        add_to_temp_variable = { revenue_temp = rev_g_temp }
                        add_to_variable = { revenue_goods@var:bu_token = revenue_goods_5@var:bu_token }
                    }
                    else = {
                        set_variable = { production_5@var:bu_token = 0 }
                        set_variable = { revenue_goods_5@var:bu_token = 0 }
                    }
                }
                else = {
                    set_variable = { production_4@var:bu_token = 0 }
                    set_variable = { revenue_goods_4@var:bu_token = 0 }

                    set_variable = { production_5@var:bu_token = 0 }
                    set_variable = { revenue_goods_5@var:bu_token = 0 }
                }
            }
            else = {
                set_variable = { production_3@var:bu_token = 0 }
                set_variable = { revenue_goods_3@var:bu_token = 0 }

                set_variable = { production_4@var:bu_token = 0 }
                set_variable = { revenue_goods_4@var:bu_token = 0 }
                
                set_variable = { production_5@var:bu_token = 0 }
                set_variable = { revenue_goods_5@var:bu_token = 0 }
            }
        }
        else = {
            set_variable = { production_2@var:bu_token = 0 }
            set_variable = { revenue_goods_2@var:bu_token = 0 }

            set_variable = { production_3@var:bu_token = 0 }
            set_variable = { revenue_goods_3@var:bu_token = 0 }
            
            set_variable = { production_4@var:bu_token = 0 }
            set_variable = { revenue_goods_4@var:bu_token = 0 }
            
            set_variable = { production_5@var:bu_token = 0 }
            set_variable = { revenue_goods_5@var:bu_token = 0 }
        }

        # Input 1 - Always does input 1
            multiply_variable = { input_1_amount@var:bu_token = size@var:bu_token }
            multiply_variable = { input_1_amount@var:bu_token = throughput_modifier_temp }
            multiply_variable = { input_1_amount@var:bu_token = input_modifier_temp }

            set_temp_variable = { exp_g_temp = input_1_amount@var:bu_token }
            multiply_temp_variable = { exp_g_temp = price@var:input_r_1 }
            
            multiply_variable = { input_1_amount@var:bu_token = production_percentage@var:bu_token }
            divide_variable = { input_1_amount@var:bu_token = 100 }

            set_variable = { input_1_expenses@var:bu_token = input_1_amount@var:bu_token }
            multiply_variable = { input_1_expenses@var:bu_token = price@var:input_r_1 }

            add_to_temp_variable = { expenses_temp = exp_g_temp }
            set_variable = { expenses_input@var:bu_token = input_1_expenses@var:bu_token }
        #

        if = { # Input 2-5
            limit = {
                check_variable = { input_2_amount@var:bu_token > 0 }
            }
            multiply_variable = { input_2_amount@var:bu_token = size@var:bu_token }
            multiply_variable = { input_2_amount@var:bu_token = throughput_modifier_temp }
            multiply_variable = { input_2_amount@var:bu_token = input_modifier_temp }

            set_temp_variable = { exp_g_temp = input_2_amount@var:bu_token }
            multiply_temp_variable = { exp_g_temp = price@var:input_r_2 }
            
            multiply_variable = { input_2_amount@var:bu_token = production_percentage@var:bu_token }
            divide_variable = { input_2_amount@var:bu_token = 100 }

            set_variable = { input_2_expenses@var:bu_token = input_2_amount@var:bu_token }
            multiply_variable = { input_2_expenses@var:bu_token = price@var:input_r_2 }

            add_to_temp_variable = { expenses_temp = exp_g_temp }
            add_to_variable = { expenses_input@var:bu_token = input_2_expenses@var:bu_token }
            
            if = { # Input 3
                limit = {
                    check_variable = { input_3_amount@var:bu_token > 0 }
                }
                multiply_variable = { input_3_amount@var:bu_token = size@var:bu_token }
                multiply_variable = { input_3_amount@var:bu_token = throughput_modifier_temp }
                multiply_variable = { input_3_amount@var:bu_token = input_modifier_temp }

                set_temp_variable = { exp_g_temp = input_3_amount@var:bu_token }
                multiply_temp_variable = { exp_g_temp = price@var:input_r_3 }
                
                multiply_variable = { input_3_amount@var:bu_token = production_percentage@var:bu_token }
                divide_variable = { input_3_amount@var:bu_token = 100 }

                set_variable = { input_3_expenses@var:bu_token = input_3_amount@var:bu_token }
                multiply_variable = { input_3_expenses@var:bu_token = price@var:input_r_3 }

                add_to_temp_variable = { expenses_temp = exp_g_temp }
                add_to_variable = { expenses_input@var:bu_token = input_3_expenses@var:bu_token }
                
                if = { # Input 4
                    limit = {
                        check_variable = { input_4_amount@var:bu_token > 0 }
                    }
                    multiply_variable = { input_4_amount@var:bu_token = size@var:bu_token }
                    multiply_variable = { input_4_amount@var:bu_token = throughput_modifier_temp }
                    multiply_variable = { input_4_amount@var:bu_token = input_modifier_temp }

                    set_temp_variable = { exp_g_temp = input_4_amount@var:bu_token }
                    multiply_temp_variable = { exp_g_temp = price@var:input_r_4 }
                    
                    multiply_variable = { input_4_amount@var:bu_token = production_percentage@var:bu_token }
                    divide_variable = { input_4_amount@var:bu_token = 100 }

                    set_variable = { input_4_expenses@var:bu_token = input_4_amount@var:bu_token }
                    multiply_variable = { input_4_expenses@var:bu_token = price@var:input_r_4 }

                    add_to_temp_variable = { expenses_temp = exp_g_temp }
                    add_to_variable = { expenses_input@var:bu_token = input_4_expenses@var:bu_token }
                    
                    if = { # Input 5
                        limit = {
                            check_variable = { input_5_amount@var:bu_token > 0 }
                        }
                        multiply_variable = { input_5_amount@var:bu_token = size@var:bu_token }
                        multiply_variable = { input_5_amount@var:bu_token = throughput_modifier_temp }
                        multiply_variable = { input_5_amount@var:bu_token = input_modifier_temp }

                        set_temp_variable = { exp_g_temp = input_5_amount@var:bu_token }
                        multiply_temp_variable = { exp_g_temp = price@var:input_r_5 }
                        
                        multiply_variable = { input_5_amount@var:bu_token = production_percentage@var:bu_token }
                        divide_variable = { input_5_amount@var:bu_token = 100 }

                        set_variable = { input_5_expenses@var:bu_token = input_5_amount@var:bu_token }
                        multiply_variable = { input_5_expenses@var:bu_token = price@var:input_r_5 }

                        add_to_temp_variable = { expenses_temp = exp_g_temp }
                        add_to_variable = { expenses_input@var:bu_token = input_5_expenses@var:bu_token }
                        
                    }
                    else = {
                        set_variable = { input_5_expenses@var:bu_token = 0 }
                    }
                }
                else = {
                    set_variable = { input_4_expenses@var:bu_token = 0 }
                    set_variable = { input_5_expenses@var:bu_token = 0 }
                }
            }
            else = {
                set_variable = { input_3_expenses@var:bu_token = 0 }
                set_variable = { input_4_expenses@var:bu_token = 0 }
                set_variable = { input_5_expenses@var:bu_token = 0 }
            }
        }
        else = {
            set_variable = { input_2_expenses@var:bu_token = 0 }
            set_variable = { input_3_expenses@var:bu_token = 0 }
            set_variable = { input_4_expenses@var:bu_token = 0 }
            set_variable = { input_5_expenses@var:bu_token = 0 }
        }
        
        #Capacities
			set_variable = { industrial_capacity_use@var:bu_token = global.building_industrial_capacity_use@var:bu_token } # remove
            multiply_variable = { industrial_capacity_use@var:bu_token = size@var:bu_token }
			set_temp_variable = { cap_modifier_temp = building_industrial_capacity_use_factor@var:bu_token }
			add_to_temp_variable = { cap_modifier_temp = 1 }
            multiply_variable = { industrial_capacity_use@var:bu_token = cap_modifier_temp }
            multiply_variable = { industrial_capacity_use@var:bu_token = input_modifier_temp }
            multiply_variable = { industrial_capacity_use@var:bu_token = throughput_modifier_temp }

            multiply_variable = { shipping_capacity@var:bu_token = size@var:bu_token }
            multiply_variable = { industrial_capacity@var:bu_token = size@var:bu_token }
			multiply_variable = { shipping_capacity@var:bu_token = output_modifier_temp }
			multiply_variable = { industrial_capacity@var:bu_token = output_modifier_temp }
			multiply_variable = { shipping_capacity@var:bu_token = throughput_modifier_temp }
			multiply_variable = { industrial_capacity@var:bu_token = throughput_modifier_temp }

            set_variable = { max_industrial_capacity@var:bu_token = industrial_capacity@var:bu_token }

            multiply_variable = { shipping_capacity@var:bu_token = production_percentage@var:bu_token }
            divide_variable = { shipping_capacity@var:bu_token = 100 }
            multiply_variable = { industrial_capacity@var:bu_token = production_percentage@var:bu_token }
            divide_variable = { industrial_capacity@var:bu_token = 100 }
        #
        
		#Productivity
            set_temp_variable = { rev_temp = max_industrial_capacity@var:bu_token }
            multiply_temp_variable = { rev_temp = price_industrial_capacity }
            add_to_temp_variable = { revenue_temp = rev_temp }

            set_temp_variable = { exp_temp = industrial_capacity_use@var:bu_token }
            multiply_temp_variable = { exp_temp = price_industrial_capacity }
            add_to_temp_variable = { expenses_temp = exp_temp }

            set_variable = { productivity@var:bu_token = revenue_temp }
            subtract_from_variable = { productivity@var:bu_token = expenses_temp }
            divide_variable = { productivity@var:bu_token = jobs@var:bu_token }
            
            set_variable = { base_productivity@var:bu_token = revenue_temp }
            subtract_from_variable = { base_productivity@var:bu_token = expenses_temp }
            divide_variable = { base_productivity@var:bu_token = payroll_multiplier@var:bu_token }
            divide_variable = { base_productivity@var:bu_token = size@var:bu_token }
		#

		#Profit, Profitability, Revenue & Expenses
            if = {
                limit = {
                    OR = {
                        check_variable = { bu_token = token:building_subsistence_farm }
                        check_variable = { bu_token = token:building_rice_paddy }
                    }
                }
                set_variable = { average_wage@var:bu_token = productivity@var:bu_token }
			    set_variable = { revenue@var:bu_token = revenue_goods@var:bu_token }
                set_variable = { expenses_payroll@var:bu_token = revenue@var:bu_token }
			    set_variable = { expenses@var:bu_token = expenses_payroll@var:bu_token }
			    set_variable = { profit@var:bu_token = 0 }
            }
            else = {
                set_variable = { revenue_industrial_capacity@var:bu_token = industrial_capacity@var:bu_token }
                multiply_variable = { revenue_industrial_capacity@var:bu_token = price_industrial_capacity }

                set_variable = { revenue@var:bu_token = revenue_goods@var:bu_token }
                add_to_variable = { revenue@var:bu_token = revenue_industrial_capacity@var:bu_token }

                #Expenses
                set_variable = { expenses_industrial_capacity@var:bu_token = industrial_capacity_use@var:bu_token }
                multiply_variable = { expenses_industrial_capacity@var:bu_token = price_industrial_capacity }

                set_variable = { average_wage@var:bu_token = payroll_multiplier@var:bu_token }
                multiply_variable = { average_wage@var:bu_token = size@var:bu_token }
                multiply_variable = { average_wage@var:bu_token = base_wage }
                divide_variable = { average_wage@var:bu_token = jobs@var:bu_token }
                
                set_variable = { expenses_payroll@var:bu_token = size@var:bu_token }
                multiply_variable = { expenses_payroll@var:bu_token = employment_percentage@var:bu_token }
                divide_variable = { expenses_payroll@var:bu_token = 100 }
                multiply_variable = { expenses_payroll@var:bu_token = payroll_multiplier@var:bu_token }
                multiply_variable = { expenses_payroll@var:bu_token = base_wage }

                set_variable = { expenses@var:bu_token = expenses_payroll@var:bu_token }
                add_to_variable = { expenses@var:bu_token = expenses_input@var:bu_token }
                add_to_variable = { expenses@var:bu_token = expenses_industrial_capacity@var:bu_token }

                #Profit
                set_variable = { profit@var:bu_token = revenue@var:bu_token }
                subtract_from_variable = { profit@var:bu_token = expenses@var:bu_token }

                #Subsidies - TODO
                set_variable = { revenue_subsidies@var:bu_token = 0 }

                # if = {
                #     limit = {
                #         OR = {
                #             check_variable = { bu_token = token:building_military_industry }
                #             check_variable = { bu_token = token:building_civilian_industry }
                #             check_variable = { bu_token = token:building_naval_industry }
                #         }
                #     }
                #     set_temp_variable = { subs_temp = productivity@var:bu_token }
                #     multiply_temp_variable = { subs_temp = employed@var:bu_token }
                #     subtract_from_temp_variable = { subs_temp = revenue@var:bu_token }
                #     add_to_temp_variable = { subs_temp = expenses_input@var:bu_token }
                #     set_variable = { revenue_subsidies@var:bu_token = subs_temp }
                # }

                add_to_variable = { revenue@var:bu_token = revenue_subsidies@var:bu_token }
                add_to_variable = { profit@var:bu_token = revenue_subsidies@var:bu_token }
            }

			#Profitability
			set_variable = { profitability@var:bu_token = profit@var:bu_token }
			divide_variable = { profitability@var:bu_token = revenue@var:bu_token }
		#
    }

    buildings_update_construction = {
		clear_array = buildings_under_construction_array
		set_variable = { buildings_under_construction_amount = 0 }
		for_each_loop = {
			array = buildings
			value = om_building

			if = {
				limit = {
					check_variable = { under_construction@var:om_building > 0 }
				}
				add_to_array = { buildings_under_construction_array = om_building }
				add_to_variable = { buildings_under_construction_amount = under_construction@var:om_building }

                if = {
                    limit = {
                        check_variable = { production_method@var:om_building = 0 }
                    }
				    set_variable = { construction_speed@var:om_building = global.building_basic_construction_speed@var:om_building }
                }
                else_if = {
                    limit = {
                        check_variable = { production_method@var:om_building = 1 }
                    }
				    set_variable = { construction_speed@var:om_building = global.building_advanced_construction_speed@var:om_building }
                }
                else_if = {
                    limit = {
                        check_variable = { production_method@var:om_building = 2 }
                    }
				    set_variable = { construction_speed@var:om_building = global.building_industrialized_construction_speed@var:om_building }
                }
                else_if = {
                    limit = {
                        check_variable = { production_method@var:om_building = 3 }
                    }
				    set_variable = { construction_speed@var:om_building = global.building_mechanized_construction_speed@var:om_building }
                }
                else_if = {
                    limit = {
                        check_variable = { production_method@var:om_building = 4 }
                    }
				    set_variable = { construction_speed@var:om_building = global.building_electrified_construction_speed@var:om_building }
                }
                else_if = {
                    limit = {
                        check_variable = { production_method@var:om_building = 5 }
                    }
				    set_variable = { construction_speed@var:om_building = global.building_motorized_construction_speed@var:om_building }
                }
                else_if = {
                    limit = {
                        check_variable = { production_method@var:om_building = 6 }
                    }
				    set_variable = { construction_speed@var:om_building = global.building_modernized_construction_speed@var:om_building }
                }
                else_if = {
                    limit = {
                        check_variable = { production_method@var:om_building = 7 }
                    }
				    set_variable = { construction_speed@var:om_building = global.building_roboticized_construction_speed@var:om_building }
                }
                else_if = {
                    limit = {
                        check_variable = { production_method@var:om_building = 8 }
                    }
				    set_variable = { construction_speed@var:om_building = global.building_computerized_construction_speed@var:om_building }
                }
                else_if = {
                    limit = {
                        check_variable = { production_method@var:om_building = 9 }
                    }
				    set_variable = { construction_speed@var:om_building = global.building_digitalized_construction_speed@var:om_building }
                }
                else_if = {
                    limit = {
                        check_variable = { production_method@var:om_building = 10 }
                    }
				    set_variable = { construction_speed@var:om_building = global.building_automatized_construction_speed@var:om_building }
                }
                else_if = {
                    limit = {
                        check_variable = { production_method@var:om_building = 11 }
                    }
				    set_variable = { construction_speed@var:om_building = global.building_futurized_construction_speed@var:om_building }
                }
				multiply_variable = { construction_speed@var:om_building = under_construction@var:om_building }

				if = {
					limit = {
						check_variable = { construction_speed@var:om_building > construction_amount@var:om_building }
					}
					set_variable = { construction_speed@var:om_building = construction_amount@var:om_building }
				}

                set_temp_variable = { financer_temp = financer@var:om_building }
                if = {
                    limit = {
                        check_variable = { financer_temp < 0 } # Corporation
                    }
                }
                else_if = {
                    limit = {
                        check_variable = { financer_temp > 0 } # Government
                    }
                    multiply_variable = { construction_speed@var:om_building = financer_temp:construction_spending_percentage }
                    divide_variable = { construction_speed@var:om_building = 100 }
                }
                else = { # Local
                }

				set_variable = { construction_expenses@var:om_building = construction_speed@var:om_building }
				multiply_variable = { construction_expenses@var:om_building = price@token:resource_industrial_goods }
			}
            else = {
				set_variable = { construction_amount@var:om_building = 0 }
                set_variable = { construction_speed@var:om_building = 0 }
                set_variable = { construction_expenses@var:om_building = 0 }
            }
		}
    }
    refresh_construction_list = {
        clear_array = construction_show

        for_each_loop = {
            array = global.building_token_array
            value = building_token

            if = {
                limit = {
                    NOT = { is_in_array = { buildings = building_token } }
                }
                if = {
                    limit = {
                        check_variable = { controller:latest_production_method@var:building_token  > -1 }
                    }
                    set_variable = { production_method@var:building_token = controller:latest_production_method@var:building_token  }
                    if = {
                        limit = {
                            OR = {
                                check_variable = { global.building_uses_deposits@var:building_token = 0 }
                                AND = {
                                    check_variable = { global.building_uses_deposits@var:building_token = 1 }
                                    check_variable = { deposits@var:building_token > 0 }
                                }
                                has_global_flag = autobuild_flag
                            }
                            OR = {
                                check_variable = { global.building_uses_arable_land@var:building_token = 0 }
                                AND = {
                                    check_variable = { global.building_uses_arable_land@var:building_token = 1 }
                                    check_variable = { arable_land > arable_land_used }
                                }
                                has_global_flag = autobuild_flag
                            }
                            OR = {
                                check_variable = { global.building_coastal@var:building_token = 0 }
                                AND = {
                                    check_variable = { global.building_coastal@var:building_token = 1 }
                                    is_coastal = yes
                                }
                            }
                        }
                        add_to_array = { construction_show = building_token }
                    }
                }
            }
        }
    }

    buildings_update_predicted_vals = {
        # First Step: Figure out revenues & expenses -> productivity of each industry

        #State scope
        # Needs production method set

        for_each_loop = {
            array = global.building_token_array
            value = ba_token
            # predicted_production_method@token:ba_token

            #Jobs Amount
                if = { #Basic
                    limit = {
                        check_variable = { predicted_production_method@var:ba_token = 0 }
                    }
                    set_variable = { predicted_peasants_jobs@var:ba_token = global.building_basic_peasants_employment@var:ba_token }
                    set_variable = { predicted_laborers_jobs@var:ba_token = global.building_basic_laborers_employment@var:ba_token }
                    set_variable = { predicted_workers_jobs@var:ba_token = global.building_basic_workers_employment@var:ba_token }
                    set_variable = { predicted_professionals_jobs@var:ba_token = global.building_basic_professionals_employment@var:ba_token }
                    set_variable = { predicted_specialists_jobs@var:ba_token = global.building_basic_specialists_employment@var:ba_token }
                    set_variable = { predicted_aristocrats_jobs@var:ba_token = global.building_basic_aristocrats_employment@var:ba_token }
                    set_variable = { predicted_capitalists_jobs@var:ba_token = global.building_basic_capitalists_employment@var:ba_token }
                }
                else_if = { #Advanced
                    limit = {
                        check_variable = { predicted_production_method@var:ba_token = 1 }
                    }
                    set_variable = { predicted_peasants_jobs@var:ba_token = global.building_advanced_peasants_employment@var:ba_token }
                    set_variable = { predicted_laborers_jobs@var:ba_token = global.building_advanced_laborers_employment@var:ba_token }
                    set_variable = { predicted_workers_jobs@var:ba_token = global.building_advanced_workers_employment@var:ba_token }
                    set_variable = { predicted_professionals_jobs@var:ba_token = global.building_advanced_professionals_employment@var:ba_token }
                    set_variable = { predicted_specialists_jobs@var:ba_token = global.building_advanced_specialists_employment@var:ba_token }
                    set_variable = { predicted_aristocrats_jobs@var:ba_token = global.building_advanced_aristocrats_employment@var:ba_token }
                    set_variable = { predicted_capitalists_jobs@var:ba_token = global.building_advanced_capitalists_employment@var:ba_token }
                }
                else_if = { #Industrialized
                    limit = {
                        check_variable = { predicted_production_method@var:ba_token = 2 }
                    }
                    set_variable = { predicted_peasants_jobs@var:ba_token = global.building_industrialized_peasants_employment@var:ba_token }
                    set_variable = { predicted_laborers_jobs@var:ba_token = global.building_industrialized_laborers_employment@var:ba_token }
                    set_variable = { predicted_workers_jobs@var:ba_token = global.building_industrialized_workers_employment@var:ba_token }
                    set_variable = { predicted_professionals_jobs@var:ba_token = global.building_industrialized_professionals_employment@var:ba_token }
                    set_variable = { predicted_specialists_jobs@var:ba_token = global.building_industrialized_specialists_employment@var:ba_token }
                    set_variable = { predicted_aristocrats_jobs@var:ba_token = global.building_industrialized_aristocrats_employment@var:ba_token }
                    set_variable = { predicted_capitalists_jobs@var:ba_token = global.building_industrialized_capitalists_employment@var:ba_token }
                }
                else_if = { #Mechanized
                    limit = {
                        check_variable = { predicted_production_method@var:ba_token = 3 }
                    }
                    set_variable = { predicted_peasants_jobs@var:ba_token = global.building_mechanized_peasants_employment@var:ba_token }
                    set_variable = { predicted_laborers_jobs@var:ba_token = global.building_mechanized_laborers_employment@var:ba_token }
                    set_variable = { predicted_workers_jobs@var:ba_token = global.building_mechanized_workers_employment@var:ba_token }
                    set_variable = { predicted_professionals_jobs@var:ba_token = global.building_mechanized_professionals_employment@var:ba_token }
                    set_variable = { predicted_specialists_jobs@var:ba_token = global.building_mechanized_specialists_employment@var:ba_token }
                    set_variable = { predicted_aristocrats_jobs@var:ba_token = global.building_mechanized_aristocrats_employment@var:ba_token }
                    set_variable = { predicted_capitalists_jobs@var:ba_token = global.building_mechanized_capitalists_employment@var:ba_token }
                }
                else_if = { #Electrified
                    limit = {
                        check_variable = { predicted_production_method@var:ba_token = 4 }
                    }
                    set_variable = { predicted_peasants_jobs@var:ba_token = global.building_electrified_peasants_employment@var:ba_token }
                    set_variable = { predicted_laborers_jobs@var:ba_token = global.building_electrified_laborers_employment@var:ba_token }
                    set_variable = { predicted_workers_jobs@var:ba_token = global.building_electrified_workers_employment@var:ba_token }
                    set_variable = { predicted_professionals_jobs@var:ba_token = global.building_electrified_professionals_employment@var:ba_token }
                    set_variable = { predicted_specialists_jobs@var:ba_token = global.building_electrified_specialists_employment@var:ba_token }
                    set_variable = { predicted_aristocrats_jobs@var:ba_token = global.building_electrified_aristocrats_employment@var:ba_token }
                    set_variable = { predicted_capitalists_jobs@var:ba_token = global.building_electrified_capitalists_employment@var:ba_token }
                }
                else_if = { #Motorized
                    limit = {
                        check_variable = { predicted_production_method@var:ba_token = 5 }
                    }
                    set_variable = { predicted_peasants_jobs@var:ba_token = global.building_motorized_peasants_employment@var:ba_token }
                    set_variable = { predicted_laborers_jobs@var:ba_token = global.building_motorized_laborers_employment@var:ba_token }
                    set_variable = { predicted_workers_jobs@var:ba_token = global.building_motorized_workers_employment@var:ba_token }
                    set_variable = { predicted_professionals_jobs@var:ba_token = global.building_motorized_professionals_employment@var:ba_token }
                    set_variable = { predicted_specialists_jobs@var:ba_token = global.building_motorized_specialists_employment@var:ba_token }
                    set_variable = { predicted_aristocrats_jobs@var:ba_token = global.building_motorized_aristocrats_employment@var:ba_token }
                    set_variable = { predicted_capitalists_jobs@var:ba_token = global.building_motorized_capitalists_employment@var:ba_token }
                }
                else_if = { #Modernized
                    limit = {
                        check_variable = { predicted_production_method@var:ba_token = 6 }
                    }
                    set_variable = { predicted_peasants_jobs@var:ba_token = global.building_modernized_peasants_employment@var:ba_token }
                    set_variable = { predicted_laborers_jobs@var:ba_token = global.building_modernized_laborers_employment@var:ba_token }
                    set_variable = { predicted_workers_jobs@var:ba_token = global.building_modernized_workers_employment@var:ba_token }
                    set_variable = { predicted_professionals_jobs@var:ba_token = global.building_modernized_professionals_employment@var:ba_token }
                    set_variable = { predicted_specialists_jobs@var:ba_token = global.building_modernized_specialists_employment@var:ba_token }
                    set_variable = { predicted_aristocrats_jobs@var:ba_token = global.building_modernized_aristocrats_employment@var:ba_token }
                    set_variable = { predicted_capitalists_jobs@var:ba_token = global.building_modernized_capitalists_employment@var:ba_token }
                }
                else_if = { #Roboticized
                    limit = {
                        check_variable = { predicted_production_method@var:ba_token = 7 }
                    }
                    set_variable = { predicted_peasants_jobs@var:ba_token = global.building_roboticized_peasants_employment@var:ba_token }
                    set_variable = { predicted_laborers_jobs@var:ba_token = global.building_roboticized_laborers_employment@var:ba_token }
                    set_variable = { predicted_workers_jobs@var:ba_token = global.building_roboticized_workers_employment@var:ba_token }
                    set_variable = { predicted_professionals_jobs@var:ba_token = global.building_roboticized_professionals_employment@var:ba_token }
                    set_variable = { predicted_specialists_jobs@var:ba_token = global.building_roboticized_specialists_employment@var:ba_token }
                    set_variable = { predicted_aristocrats_jobs@var:ba_token = global.building_roboticized_aristocrats_employment@var:ba_token }
                    set_variable = { predicted_capitalists_jobs@var:ba_token = global.building_roboticized_capitalists_employment@var:ba_token }
                }
                else_if = { #Computerized
                    limit = {
                        check_variable = { predicted_production_method@var:ba_token = 8 }
                    }
                    set_variable = { predicted_peasants_jobs@var:ba_token = global.building_computerized_peasants_employment@var:ba_token }
                    set_variable = { predicted_laborers_jobs@var:ba_token = global.building_computerized_laborers_employment@var:ba_token }
                    set_variable = { predicted_workers_jobs@var:ba_token = global.building_computerized_workers_employment@var:ba_token }
                    set_variable = { predicted_professionals_jobs@var:ba_token = global.building_computerized_professionals_employment@var:ba_token }
                    set_variable = { predicted_specialists_jobs@var:ba_token = global.building_computerized_specialists_employment@var:ba_token }
                    set_variable = { predicted_aristocrats_jobs@var:ba_token = global.building_computerized_aristocrats_employment@var:ba_token }
                    set_variable = { predicted_capitalists_jobs@var:ba_token = global.building_computerized_capitalists_employment@var:ba_token }
                }
                else_if = { #Digitalized
                    limit = {
                        check_variable = { predicted_production_method@var:ba_token = 9 }
                    }
                    set_variable = { predicted_peasants_jobs@var:ba_token = global.building_digitalized_peasants_employment@var:ba_token }
                    set_variable = { predicted_laborers_jobs@var:ba_token = global.building_digitalized_laborers_employment@var:ba_token }
                    set_variable = { predicted_workers_jobs@var:ba_token = global.building_digitalized_workers_employment@var:ba_token }
                    set_variable = { predicted_professionals_jobs@var:ba_token = global.building_digitalized_professionals_employment@var:ba_token }
                    set_variable = { predicted_specialists_jobs@var:ba_token = global.building_digitalized_specialists_employment@var:ba_token }
                    set_variable = { predicted_aristocrats_jobs@var:ba_token = global.building_digitalized_aristocrats_employment@var:ba_token }
                    set_variable = { predicted_capitalists_jobs@var:ba_token = global.building_digitalized_capitalists_employment@var:ba_token }
                }
                else_if = { #Automatized
                    limit = {
                        check_variable = { predicted_production_method@var:ba_token = 10 }
                    }
                    set_variable = { predicted_peasants_jobs@var:ba_token = global.building_automatized_peasants_employment@var:ba_token }
                    set_variable = { predicted_laborers_jobs@var:ba_token = global.building_automatized_laborers_employment@var:ba_token }
                    set_variable = { predicted_workers_jobs@var:ba_token = global.building_automatized_workers_employment@var:ba_token }
                    set_variable = { predicted_professionals_jobs@var:ba_token = global.building_automatized_professionals_employment@var:ba_token }
                    set_variable = { predicted_specialists_jobs@var:ba_token = global.building_automatized_specialists_employment@var:ba_token }
                    set_variable = { predicted_aristocrats_jobs@var:ba_token = global.building_automatized_aristocrats_employment@var:ba_token }
                    set_variable = { predicted_capitalists_jobs@var:ba_token = global.building_automatized_capitalists_employment@var:ba_token }
                }
                else_if = { #Futurized
                    limit = {
                        check_variable = { predicted_production_method@var:ba_token = 11 }
                    }
                    set_variable = { predicted_peasants_jobs@var:ba_token = global.building_futurized_peasants_employment@var:ba_token }
                    set_variable = { predicted_laborers_jobs@var:ba_token = global.building_futurized_laborers_employment@var:ba_token }
                    set_variable = { predicted_workers_jobs@var:ba_token = global.building_futurized_workers_employment@var:ba_token }
                    set_variable = { predicted_professionals_jobs@var:ba_token = global.building_futurized_professionals_employment@var:ba_token }
                    set_variable = { predicted_specialists_jobs@var:ba_token = global.building_futurized_specialists_employment@var:ba_token }
                    set_variable = { predicted_aristocrats_jobs@var:ba_token = global.building_futurized_aristocrats_employment@var:ba_token }
                    set_variable = { predicted_capitalists_jobs@var:ba_token = global.building_futurized_capitalists_employment@var:ba_token }
                }

                set_temp_variable = { size_modifier_temp = building_size_factor@var:ba_token }
                add_to_temp_variable = { size_modifier_temp = 1 }
                multiply_variable = { predicted_peasants_jobs@var:ba_token = size_modifier_temp }
                multiply_variable = { predicted_laborers_jobs@var:ba_token = size_modifier_temp }
                multiply_variable = { predicted_workers_jobs@var:ba_token =  size_modifier_temp }
                multiply_variable = { predicted_professionals_jobs@var:ba_token = size_modifier_temp }
                multiply_variable = { predicted_specialists_jobs@var:ba_token =  size_modifier_temp }
                multiply_variable = { predicted_aristocrats_jobs@var:ba_token =  size_modifier_temp }
                multiply_variable = { predicted_capitalists_jobs@var:ba_token =  size_modifier_temp }

                set_variable = { predicted_jobs@var:ba_token = predicted_peasants_jobs@var:ba_token }
                add_to_variable = { predicted_jobs@var:ba_token = predicted_laborers_jobs@var:ba_token }
                add_to_variable = { predicted_jobs@var:ba_token = predicted_workers_jobs@var:ba_token }
                add_to_variable = { predicted_jobs@var:ba_token = predicted_professionals_jobs@var:ba_token }
                add_to_variable = { predicted_jobs@var:ba_token = predicted_specialists_jobs@var:ba_token }
                add_to_variable = { predicted_jobs@var:ba_token = predicted_aristocrats_jobs@var:ba_token }
                add_to_variable = { predicted_jobs@var:ba_token = predicted_capitalists_jobs@var:ba_token }
            #

            #Production Modifiers
                set_temp_variable = { output_modifier_temp = building_output_factor@var:ba_token }
                add_to_temp_variable = { output_modifier_temp = 1 }

                set_temp_variable = { throughput_modifier_temp = building_throughput_factor@var:ba_token }
                add_to_temp_variable = { throughput_modifier_temp = 1 }

                set_temp_variable = { input_modifier_temp = building_input_factor@var:ba_token }
                add_to_temp_variable = { input_modifier_temp = 1 }
            #

            #Production
                set_variable = { predicted_production_1@var:ba_token = size@var:ba_token }
                set_variable = { predicted_production_2@var:ba_token = size@var:ba_token }
                set_variable = { predicted_production_3@var:ba_token = size@var:ba_token }
                set_variable = { predicted_production_4@var:ba_token = size@var:ba_token }
                set_variable = { predicted_production_5@var:ba_token = size@var:ba_token }
                if = { #Basic
                    limit = {
                        check_variable = { production_method@var:ba_token = 0 }
                    }
                    set_temp_variable = { predicted_production_1_temp = global.building_basic_output_1@var:ba_token }
                    set_temp_variable = { predicted_production_2_temp = global.building_basic_output_2@var:ba_token }
                    set_temp_variable = { predicted_production_3_temp = global.building_basic_output_3@var:ba_token }
                    set_temp_variable = { predicted_production_4_temp = global.building_basic_output_4@var:ba_token }
                    set_temp_variable = { predicted_production_5_temp = global.building_basic_output_5@var:ba_token }
                }
                else_if = { #Advanced
                    limit = {
                        check_variable = { production_method@var:ba_token = 1 }
                    }
                    set_temp_variable = { predicted_production_1_temp = global.building_advanced_output_1@var:ba_token }
                    set_temp_variable = { predicted_production_2_temp = global.building_advanced_output_2@var:ba_token }
                    set_temp_variable = { predicted_production_3_temp = global.building_advanced_output_3@var:ba_token }
                    set_temp_variable = { predicted_production_4_temp = global.building_advanced_output_4@var:ba_token }
                    set_temp_variable = { predicted_production_5_temp = global.building_advanced_output_5@var:ba_token }
                }
                else_if = { #Industrialized
                    limit = {
                        check_variable = { production_method@var:ba_token = 2 }
                    }
                    set_temp_variable = { predicted_production_1_temp = global.building_industrialized_output_1@var:ba_token }
                    set_temp_variable = { predicted_production_2_temp = global.building_industrialized_output_2@var:ba_token }
                    set_temp_variable = { predicted_production_3_temp = global.building_industrialized_output_3@var:ba_token }
                    set_temp_variable = { predicted_production_4_temp = global.building_industrialized_output_4@var:ba_token }
                    set_temp_variable = { predicted_production_5_temp = global.building_industrialized_output_5@var:ba_token }
                }
                else_if = { #Mechanized
                    limit = {
                        check_variable = { production_method@var:ba_token = 3 }
                    }
                    set_temp_variable = { predicted_production_1_temp = global.building_mechanized_output_1@var:ba_token }
                    set_temp_variable = { predicted_production_2_temp = global.building_mechanized_output_2@var:ba_token }
                    set_temp_variable = { predicted_production_3_temp = global.building_mechanized_output_3@var:ba_token }
                    set_temp_variable = { predicted_production_4_temp = global.building_mechanized_output_4@var:ba_token }
                    set_temp_variable = { predicted_production_5_temp = global.building_mechanized_output_5@var:ba_token }
                }
                else_if = { #Electrified
                    limit = {
                        check_variable = { production_method@var:ba_token = 4 }
                    }
                    set_temp_variable = { predicted_production_1_temp = global.building_electrified_output_1@var:ba_token }
                    set_temp_variable = { predicted_production_2_temp = global.building_electrified_output_2@var:ba_token }
                    set_temp_variable = { predicted_production_3_temp = global.building_electrified_output_3@var:ba_token }
                    set_temp_variable = { predicted_production_4_temp = global.building_electrified_output_4@var:ba_token }
                    set_temp_variable = { predicted_production_5_temp = global.building_electrified_output_5@var:ba_token }
                }
                else_if = { #Motorized
                    limit = {
                        check_variable = { production_method@var:ba_token = 5 }
                    }
                    set_temp_variable = { predicted_production_1_temp = global.building_motorized_output_1@var:ba_token }
                    set_temp_variable = { predicted_production_2_temp = global.building_motorized_output_2@var:ba_token }
                    set_temp_variable = { predicted_production_3_temp = global.building_motorized_output_3@var:ba_token }
                    set_temp_variable = { predicted_production_4_temp = global.building_motorized_output_4@var:ba_token }
                    set_temp_variable = { predicted_production_5_temp = global.building_motorized_output_5@var:ba_token }
                }
                else_if = { #Modernized
                    limit = {
                        check_variable = { production_method@var:ba_token = 6 }
                    }
                    set_temp_variable = { predicted_production_1_temp = global.building_modernized_output_1@var:ba_token }
                    set_temp_variable = { predicted_production_2_temp = global.building_modernized_output_2@var:ba_token }
                    set_temp_variable = { predicted_production_3_temp = global.building_modernized_output_3@var:ba_token }
                    set_temp_variable = { predicted_production_4_temp = global.building_modernized_output_4@var:ba_token }
                    set_temp_variable = { predicted_production_5_temp = global.building_modernized_output_5@var:ba_token }
                }
                else_if = { #Roboticized
                    limit = {
                        check_variable = { production_method@var:ba_token = 7 }
                    }
                    set_temp_variable = { predicted_production_1_temp = global.building_roboticized_output_1@var:ba_token }
                    set_temp_variable = { predicted_production_2_temp = global.building_roboticized_output_2@var:ba_token }
                    set_temp_variable = { predicted_production_3_temp = global.building_roboticized_output_3@var:ba_token }
                    set_temp_variable = { predicted_production_4_temp = global.building_roboticized_output_4@var:ba_token }
                    set_temp_variable = { predicted_production_5_temp = global.building_roboticized_output_5@var:ba_token }
                }
                else_if = { #Computerized
                    limit = {
                        check_variable = { production_method@var:ba_token = 8 }
                    }
                    set_temp_variable = { predicted_production_1_temp = global.building_computerized_output_1@var:ba_token }
                    set_temp_variable = { predicted_production_2_temp = global.building_computerized_output_2@var:ba_token }
                    set_temp_variable = { predicted_production_3_temp = global.building_computerized_output_3@var:ba_token }
                    set_temp_variable = { predicted_production_4_temp = global.building_computerized_output_4@var:ba_token }
                    set_temp_variable = { predicted_production_5_temp = global.building_computerized_output_5@var:ba_token }
                }
                else_if = { #Digitalized
                    limit = {
                        check_variable = { production_method@var:ba_token = 9 }
                    }
                    set_temp_variable = { predicted_production_1_temp = global.building_digitalized_output_1@var:ba_token }
                    set_temp_variable = { predicted_production_2_temp = global.building_digitalized_output_2@var:ba_token }
                    set_temp_variable = { predicted_production_3_temp = global.building_digitalized_output_3@var:ba_token }
                    set_temp_variable = { predicted_production_4_temp = global.building_digitalized_output_4@var:ba_token }
                    set_temp_variable = { predicted_production_5_temp = global.building_digitalized_output_5@var:ba_token }
                }
                else_if = { #Automatized
                    limit = {
                        check_variable = { production_method@var:ba_token = 10 }
                    }
                    set_temp_variable = { predicted_production_1_temp = global.building_automatized_output_1@var:ba_token }
                    set_temp_variable = { predicted_production_2_temp = global.building_automatized_output_2@var:ba_token }
                    set_temp_variable = { predicted_production_3_temp = global.building_automatized_output_3@var:ba_token }
                    set_temp_variable = { predicted_production_4_temp = global.building_automatized_output_4@var:ba_token }
                    set_temp_variable = { predicted_production_5_temp = global.building_automatized_output_5@var:ba_token }
                }
                else_if = { #Futurized
                    limit = {
                        check_variable = { production_method@var:ba_token = 11 }
                    }
                    set_temp_variable = { predicted_production_1_temp = global.building_futurized_output_1@var:ba_token }
                    set_temp_variable = { predicted_production_2_temp = global.building_futurized_output_2@var:ba_token }
                    set_temp_variable = { predicted_production_3_temp = global.building_futurized_output_3@var:ba_token }
                    set_temp_variable = { predicted_production_4_temp = global.building_futurized_output_4@var:ba_token }
                    set_temp_variable = { predicted_production_5_temp = global.building_futurized_output_5@var:ba_token }
                }

                #Modifiers
                multiply_temp_variable = { predicted_production_1_temp = output_modifier_temp }
                multiply_temp_variable = { predicted_production_1_temp = throughput_modifier_temp }
                multiply_temp_variable = { predicted_production_2_temp = output_modifier_temp }
                multiply_temp_variable = { predicted_production_2_temp = throughput_modifier_temp }
                multiply_temp_variable = { predicted_production_3_temp = output_modifier_temp }
                multiply_temp_variable = { predicted_production_3_temp = throughput_modifier_temp }
                multiply_temp_variable = { predicted_production_4_temp = output_modifier_temp }
                multiply_temp_variable = { predicted_production_4_temp = throughput_modifier_temp }
                multiply_temp_variable = { predicted_production_5_temp = output_modifier_temp }
                multiply_temp_variable = { predicted_production_5_temp = throughput_modifier_temp }

                multiply_variable = { predicted_production_1@var:ba_token = predicted_production_1_temp }
                multiply_variable = { predicted_production_2@var:ba_token = predicted_production_2_temp }
                multiply_variable = { predicted_production_3@var:ba_token = predicted_production_3_temp }
                multiply_variable = { predicted_production_4@var:ba_token = predicted_production_4_temp }
                multiply_variable = { predicted_production_5@var:ba_token = predicted_production_5_temp }
            #

            #Input
                if = { #Basic
                    limit = {
                        check_variable = { production_method@var:ba_token = 0 }
                    }
                    set_temp_variable = { input_r_1 = global.building_basic_input_resource_1@var:ba_token }
                    set_variable = { predicted_input_1_amount@var:ba_token = global.building_basic_input_amount_1@var:ba_token }

                    set_temp_variable = { input_r_2 = global.building_basic_input_resource_2@var:ba_token }
                    set_variable = { predicted_input_2_amount@var:ba_token = global.building_basic_input_amount_2@var:ba_token }

                    set_temp_variable = { input_r_3 = global.building_basic_input_resource_3@var:ba_token }
                    set_variable = { predicted_input_3_amount@var:ba_token = global.building_basic_input_amount_3@var:ba_token }

                    set_temp_variable = { input_r_4 = global.building_basic_input_resource_4@var:ba_token }
                    set_variable = { predicted_input_4_amount@var:ba_token = global.building_basic_input_amount_4@var:ba_token }

                    set_temp_variable = { input_r_5 = global.building_basic_input_resource_5@var:ba_token }
                    set_variable = { predicted_input_5_amount@var:ba_token = global.building_basic_input_amount_5@var:ba_token }
                }
                else_if = { #Advanced
                    limit = {
                        check_variable = { production_method@var:ba_token = 1 }
                    }
                    set_temp_variable = { input_r_1 = global.building_advanced_input_resource_1@var:ba_token }
                    set_variable = { predicted_input_1_amount@var:ba_token = global.building_advanced_input_amount_1@var:ba_token }

                    set_temp_variable = { input_r_2 = global.building_advanced_input_resource_2@var:ba_token }
                    set_variable = { predicted_input_2_amount@var:ba_token = global.building_advanced_input_amount_2@var:ba_token }

                    set_temp_variable = { input_r_3 = global.building_advanced_input_resource_3@var:ba_token }
                    set_variable = { predicted_input_3_amount@var:ba_token = global.building_advanced_input_amount_3@var:ba_token }

                    set_temp_variable = { input_r_4 = global.building_advanced_input_resource_4@var:ba_token }
                    set_variable = { predicted_input_4_amount@var:ba_token = global.building_advanced_input_amount_4@var:ba_token }

                    set_temp_variable = { input_r_5 = global.building_advanced_input_resource_5@var:ba_token }
                    set_variable = { predicted_input_5_amount@var:ba_token = global.building_advanced_input_amount_5@var:ba_token }
                }
                else_if = { #Industrialized
                    limit = {
                        check_variable = { production_method@var:ba_token = 2 }
                    }
                    set_temp_variable = { input_r_1 = global.building_industrialized_input_resource_1@var:ba_token }
                    set_variable = { predicted_input_1_amount@var:ba_token = global.building_industrialized_input_amount_1@var:ba_token }

                    set_temp_variable = { input_r_2 = global.building_industrialized_input_resource_2@var:ba_token }
                    set_variable = { predicted_input_2_amount@var:ba_token = global.building_industrialized_input_amount_2@var:ba_token }

                    set_temp_variable = { input_r_3 = global.building_industrialized_input_resource_3@var:ba_token }
                    set_variable = { predicted_input_3_amount@var:ba_token = global.building_industrialized_input_amount_3@var:ba_token }

                    set_temp_variable = { input_r_4 = global.building_industrialized_input_resource_4@var:ba_token }
                    set_variable = { predicted_input_4_amount@var:ba_token = global.building_industrialized_input_amount_4@var:ba_token }

                    set_temp_variable = { input_r_5 = global.building_industrialized_input_resource_5@var:ba_token }
                    set_variable = { predicted_input_5_amount@var:ba_token = global.building_industrialized_input_amount_5@var:ba_token }
                }
                else_if = { #Mechanized
                    limit = {
                        check_variable = { production_method@var:ba_token = 3 }
                    }
                    set_temp_variable = { input_r_1 = global.building_mechanized_input_resource_1@var:ba_token }
                    set_variable = { predicted_input_1_amount@var:ba_token = global.building_mechanized_input_amount_1@var:ba_token }

                    set_temp_variable = { input_r_2 = global.building_mechanized_input_resource_2@var:ba_token }
                    set_variable = { predicted_input_2_amount@var:ba_token = global.building_mechanized_input_amount_2@var:ba_token }

                    set_temp_variable = { input_r_3 = global.building_mechanized_input_resource_3@var:ba_token }
                    set_variable = { predicted_input_3_amount@var:ba_token = global.building_mechanized_input_amount_3@var:ba_token }

                    set_temp_variable = { input_r_4 = global.building_mechanized_input_resource_4@var:ba_token }
                    set_variable = { predicted_input_4_amount@var:ba_token = global.building_mechanized_input_amount_4@var:ba_token }

                    set_temp_variable = { input_r_5 = global.building_mechanized_input_resource_5@var:ba_token }
                    set_variable = { predicted_input_5_amount@var:ba_token = global.building_mechanized_input_amount_5@var:ba_token }
                }
                else_if = { #Electrified
                    limit = {
                        check_variable = { production_method@var:ba_token = 4 }
                    }
                    set_temp_variable = { input_r_1 = global.building_electrified_input_resource_1@var:ba_token }
                    set_variable = { predicted_input_1_amount@var:ba_token = global.building_electrified_input_amount_1@var:ba_token }

                    set_temp_variable = { input_r_2 = global.building_electrified_input_resource_2@var:ba_token }
                    set_variable = { predicted_input_2_amount@var:ba_token = global.building_electrified_input_amount_2@var:ba_token }

                    set_temp_variable = { input_r_3 = global.building_electrified_input_resource_3@var:ba_token }
                    set_variable = { predicted_input_3_amount@var:ba_token = global.building_electrified_input_amount_3@var:ba_token }

                    set_temp_variable = { input_r_4 = global.building_electrified_input_resource_4@var:ba_token }
                    set_variable = { predicted_input_4_amount@var:ba_token = global.building_electrified_input_amount_4@var:ba_token }

                    set_temp_variable = { input_r_5 = global.building_electrified_input_resource_5@var:ba_token }
                    set_variable = { predicted_input_5_amount@var:ba_token = global.building_electrified_input_amount_5@var:ba_token }
                }
                else_if = { #Motorized
                    limit = {
                        check_variable = { production_method@var:ba_token = 5 }
                    }
                    set_temp_variable = { input_r_1 = global.building_motorized_input_resource_1@var:ba_token }
                    set_variable = { predicted_input_1_amount@var:ba_token = global.building_motorized_input_amount_1@var:ba_token }

                    set_temp_variable = { input_r_2 = global.building_motorized_input_resource_2@var:ba_token }
                    set_variable = { predicted_input_2_amount@var:ba_token = global.building_motorized_input_amount_2@var:ba_token }

                    set_temp_variable = { input_r_3 = global.building_motorized_input_resource_3@var:ba_token }
                    set_variable = { predicted_input_3_amount@var:ba_token = global.building_motorized_input_amount_3@var:ba_token }

                    set_temp_variable = { input_r_4 = global.building_motorized_input_resource_4@var:ba_token }
                    set_variable = { predicted_input_4_amount@var:ba_token = global.building_motorized_input_amount_4@var:ba_token }

                    set_temp_variable = { input_r_5 = global.building_motorized_input_resource_5@var:ba_token }
                    set_variable = { predicted_input_5_amount@var:ba_token = global.building_motorized_input_amount_5@var:ba_token }
                }
                else_if = { #Modernized
                    limit = {
                        check_variable = { production_method@var:ba_token = 6 }
                    }
                    set_temp_variable = { input_r_1 = global.building_modernized_input_resource_1@var:ba_token }
                    set_variable = { predicted_input_1_amount@var:ba_token = global.building_modernized_input_amount_1@var:ba_token }

                    set_temp_variable = { input_r_2 = global.building_modernized_input_resource_2@var:ba_token }
                    set_variable = { predicted_input_2_amount@var:ba_token = global.building_modernized_input_amount_2@var:ba_token }

                    set_temp_variable = { input_r_3 = global.building_modernized_input_resource_3@var:ba_token }
                    set_variable = { predicted_input_3_amount@var:ba_token = global.building_modernized_input_amount_3@var:ba_token }

                    set_temp_variable = { input_r_4 = global.building_modernized_input_resource_4@var:ba_token }
                    set_variable = { predicted_input_4_amount@var:ba_token = global.building_modernized_input_amount_4@var:ba_token }

                    set_temp_variable = { input_r_5 = global.building_modernized_input_resource_5@var:ba_token }
                    set_variable = { predicted_input_5_amount@var:ba_token = global.building_modernized_input_amount_5@var:ba_token }
                }
                else_if = { #Roboticized
                    limit = {
                        check_variable = { production_method@var:ba_token = 7 }
                    }
                    set_temp_variable = { input_r_1 = global.building_roboticized_input_resource_1@var:ba_token }
                    set_variable = { predicted_input_1_amount@var:ba_token = global.building_roboticized_input_amount_1@var:ba_token }

                    set_temp_variable = { input_r_2 = global.building_roboticized_input_resource_2@var:ba_token }
                    set_variable = { predicted_input_2_amount@var:ba_token = global.building_roboticized_input_amount_2@var:ba_token }

                    set_temp_variable = { input_r_3 = global.building_roboticized_input_resource_3@var:ba_token }
                    set_variable = { predicted_input_3_amount@var:ba_token = global.building_roboticized_input_amount_3@var:ba_token }

                    set_temp_variable = { input_r_4 = global.building_roboticized_input_resource_4@var:ba_token }
                    set_variable = { predicted_input_4_amount@var:ba_token = global.building_roboticized_input_amount_4@var:ba_token }

                    set_temp_variable = { input_r_5 = global.building_roboticized_input_resource_5@var:ba_token }
                    set_variable = { predicted_input_5_amount@var:ba_token = global.building_roboticized_input_amount_5@var:ba_token }
                }
                else_if = { #Computerized
                    limit = {
                        check_variable = { production_method@var:ba_token = 8 }
                    }
                    set_temp_variable = { input_r_1 = global.building_computerized_input_resource_1@var:ba_token }
                    set_variable = { predicted_input_1_amount@var:ba_token = global.building_computerized_input_amount_1@var:ba_token }

                    set_temp_variable = { input_r_2 = global.building_computerized_input_resource_2@var:ba_token }
                    set_variable = { predicted_input_2_amount@var:ba_token = global.building_computerized_input_amount_2@var:ba_token }

                    set_temp_variable = { input_r_3 = global.building_computerized_input_resource_3@var:ba_token }
                    set_variable = { predicted_input_3_amount@var:ba_token = global.building_computerized_input_amount_3@var:ba_token }

                    set_temp_variable = { input_r_4 = global.building_computerized_input_resource_4@var:ba_token }
                    set_variable = { predicted_input_4_amount@var:ba_token = global.building_computerized_input_amount_4@var:ba_token }

                    set_temp_variable = { input_r_5 = global.building_computerized_input_resource_5@var:ba_token }
                    set_variable = { predicted_input_5_amount@var:ba_token = global.building_computerized_input_amount_5@var:ba_token }
                }
                else_if = { #Digitalized
                    limit = {
                        check_variable = { production_method@var:ba_token = 9 }
                    }
                    set_temp_variable = { input_r_1 = global.building_digitalized_input_resource_1@var:ba_token }
                    set_variable = { predicted_input_1_amount@var:ba_token = global.building_digitalized_input_amount_1@var:ba_token }

                    set_temp_variable = { input_r_2 = global.building_digitalized_input_resource_2@var:ba_token }
                    set_variable = { predicted_input_2_amount@var:ba_token = global.building_digitalized_input_amount_2@var:ba_token }

                    set_temp_variable = { input_r_3 = global.building_digitalized_input_resource_3@var:ba_token }
                    set_variable = { predicted_input_3_amount@var:ba_token = global.building_digitalized_input_amount_3@var:ba_token }

                    set_temp_variable = { input_r_4 = global.building_digitalized_input_resource_4@var:ba_token }
                    set_variable = { predicted_input_4_amount@var:ba_token = global.building_digitalized_input_amount_4@var:ba_token }

                    set_temp_variable = { input_r_5 = global.building_digitalized_input_resource_5@var:ba_token }
                    set_variable = { predicted_input_5_amount@var:ba_token = global.building_digitalized_input_amount_5@var:ba_token }
                }
                else_if = { #Automatized
                    limit = {
                        check_variable = { production_method@var:ba_token = 10 }
                    }
                    set_temp_variable = { input_r_1 = global.building_automatized_input_resource_1@var:ba_token }
                    set_variable = { predicted_input_1_amount@var:ba_token = global.building_automatized_input_amount_1@var:ba_token }

                    set_temp_variable = { input_r_2 = global.building_automatized_input_resource_2@var:ba_token }
                    set_variable = { predicted_input_2_amount@var:ba_token = global.building_automatized_input_amount_2@var:ba_token }

                    set_temp_variable = { input_r_3 = global.building_automatized_input_resource_3@var:ba_token }
                    set_variable = { predicted_input_3_amount@var:ba_token = global.building_automatized_input_amount_3@var:ba_token }

                    set_temp_variable = { input_r_4 = global.building_automatized_input_resource_4@var:ba_token }
                    set_variable = { predicted_input_4_amount@var:ba_token = global.building_automatized_input_amount_4@var:ba_token }

                    set_temp_variable = { input_r_5 = global.building_automatized_input_resource_5@var:ba_token }
                    set_variable = { predicted_input_5_amount@var:ba_token = global.building_automatized_input_amount_5@var:ba_token }
                }
                else_if = { #Futurized
                    limit = {
                        check_variable = { production_method@var:ba_token = 11 }
                    }
                    set_temp_variable = { input_r_1 = global.building_futurized_input_resource_1@var:ba_token }
                    set_variable = { predicted_input_1_amount@var:ba_token = global.building_futurized_input_amount_1@var:ba_token }

                    set_temp_variable = { input_r_2 = global.building_futurized_input_resource_2@var:ba_token }
                    set_variable = { predicted_input_2_amount@var:ba_token = global.building_futurized_input_amount_2@var:ba_token }

                    set_temp_variable = { input_r_3 = global.building_futurized_input_resource_3@var:ba_token }
                    set_variable = { predicted_input_3_amount@var:ba_token = global.building_futurized_input_amount_3@var:ba_token }

                    set_temp_variable = { input_r_4 = global.building_futurized_input_resource_4@var:ba_token }
                    set_variable = { predicted_input_4_amount@var:ba_token = global.building_futurized_input_amount_4@var:ba_token }

                    set_temp_variable = { input_r_5 = global.building_futurized_input_resource_5@var:ba_token }
                    set_variable = { predicted_input_5_amount@var:ba_token = global.building_futurized_input_amount_5@var:ba_token }
                }

                #Amount
                multiply_variable = { predicted_input_1_amount@var:ba_token = throughput_modifier_temp }
                multiply_variable = { predicted_input_1_amount@var:ba_token = input_modifier_temp }

                multiply_variable = { predicted_input_2_amount@var:ba_token = throughput_modifier_temp }
                multiply_variable = { predicted_input_2_amount@var:ba_token = input_modifier_temp }

                multiply_variable = { predicted_input_3_amount@var:ba_token = throughput_modifier_temp }
                multiply_variable = { predicted_input_3_amount@var:ba_token = input_modifier_temp }

                multiply_variable = { predicted_input_4_amount@var:ba_token = throughput_modifier_temp }
                multiply_variable = { predicted_input_4_amount@var:ba_token = input_modifier_temp }

                multiply_variable = { predicted_input_5_amount@var:ba_token = throughput_modifier_temp }
                multiply_variable = { predicted_input_5_amount@var:ba_token = input_modifier_temp }

                #Expenses
                set_variable = { predicted_input_1_expenses@var:ba_token = predicted_input_1_amount@var:ba_token }
                multiply_variable = { predicted_input_1_expenses@var:ba_token = price@var:input_r_1 }
                set_variable = { predicted_input_2_expenses@var:ba_token = predicted_input_2_amount@var:ba_token }
                multiply_variable = { predicted_input_2_expenses@var:ba_token = price@var:input_r_2 }
                set_variable = { predicted_input_3_expenses@var:ba_token = predicted_input_3_amount@var:ba_token }
                multiply_variable = { predicted_input_3_expenses@var:ba_token = price@var:input_r_3 }
                set_variable = { predicted_input_4_expenses@var:ba_token = predicted_input_4_amount@var:ba_token }
                multiply_variable = { predicted_input_4_expenses@var:ba_token = price@var:input_r_4 }
                set_variable = { predicted_input_5_expenses@var:ba_token = predicted_input_5_amount@var:ba_token }
                multiply_variable = { predicted_input_5_expenses@var:ba_token = price@var:input_r_5 }
            #

            set_temp_variable = { bu_resource_1 = global.building_output_resource_1@var:ba_token }
            set_temp_variable = { bu_resource_2 = global.building_output_resource_2@var:ba_token }
            set_temp_variable = { bu_resource_3 = global.building_output_resource_3@var:ba_token }
            set_temp_variable = { bu_resource_4 = global.building_output_resource_4@var:ba_token }
            set_temp_variable = { bu_resource_5 = global.building_output_resource_5@var:ba_token }

            #Productivity
                set_temp_variable = { revenue_temp = 0 }
                set_temp_variable = { rev_g_temp = predicted_production_1@var:ba_token }
                multiply_temp_variable = { rev_g_temp = price@var:bu_resource_1 }
                add_to_temp_variable = { revenue_temp = rev_g_temp }
                set_temp_variable = { rev_g_temp = predicted_production_2@var:ba_token }
                multiply_temp_variable = { rev_g_temp = price@var:bu_resource_2 }
                add_to_temp_variable = { revenue_temp = rev_g_temp }
                set_temp_variable = { rev_g_temp = predicted_production_3@var:ba_token }
                multiply_temp_variable = { rev_g_temp = price@var:bu_resource_3 }
                add_to_temp_variable = { revenue_temp = rev_g_temp }
                set_temp_variable = { rev_g_temp = predicted_production_4@var:ba_token }
                multiply_temp_variable = { rev_g_temp = price@var:bu_resource_4 }
                add_to_temp_variable = { revenue_temp = rev_g_temp }
                set_temp_variable = { rev_g_temp = predicted_production_5@var:ba_token }
                multiply_temp_variable = { rev_g_temp = price@var:bu_resource_5 }
                add_to_temp_variable = { revenue_temp = rev_g_temp }

                set_temp_variable = { expenses_temp = 0 }
                add_to_temp_variable = { expenses_temp = predicted_input_1_expenses@var:ba_token }
                add_to_temp_variable = { expenses_temp = predicted_input_2_expenses@var:ba_token }
                add_to_temp_variable = { expenses_temp = predicted_input_3_expenses@var:ba_token }
                add_to_temp_variable = { expenses_temp = predicted_input_4_expenses@var:ba_token }
                add_to_temp_variable = { expenses_temp = predicted_input_5_expenses@var:ba_token }

                set_variable = { productivity@var:ba_token = revenue_temp }
                subtract_from_variable = { productivity@var:ba_token = expenses_temp }
                divide_variable = { productivity@var:ba_token = predicted_jobs@var:ba_token }
            #
        }
    }
#

#Resources
    get_price = {
        #Given the resource & supply/demand, returns price
        #Input: r_type (Resource Token), s_temp (supply), d_temp (demand)
        #Return: p_return_temp
        #Any Scope

        set_temp_variable = { p_return_temp = global.base_price@var:r_type }
        if = {
            limit = {
                #NOT = { check_variable = { r_type = token:resource_precious_metals } }
                is_in_array = { global.resource_token_array = r_type }
                #NOT = { check_variable = { r_type = token:resource_finance } }
            }
            if = {
                limit = {
                    check_variable = { s_temp > d_temp }
                }
                if = {
                    limit = {
                        check_variable = { d_temp > 0.0 }
                    }
                    set_temp_variable = { grp_sd = s_temp }
                    divide_temp_variable = { grp_sd = d_temp }

                    set_temp_variable = { grp_multiplier = 3 }
                    subtract_from_temp_variable = { grp_multiplier = grp_sd }
                    divide_temp_variable = { grp_multiplier = 2 }

                    if = {
                        limit = {
                            check_variable = { grp_multiplier < 0.25 }
                        }
                        set_temp_variable = { grp_multiplier = 0.25 }
                    }
                }
                else = {
                    set_temp_variable = { grp_multiplier = 0.25 }
                }

                multiply_temp_variable = { p_return_temp = grp_multiplier } #P = B * ((3 - S/D) / 2)
            }
            else_if = {
                limit = {
                    check_variable = { s_temp < d_temp }
                }
                if = {
                    limit = {
                        check_variable = { s_temp > 0.0 }
                    }
                    set_temp_variable = { grp_multiplier = d_temp }
                    divide_temp_variable = { grp_multiplier = s_temp }
                    add_to_temp_variable = { grp_multiplier = 1 }
                    divide_temp_variable = { grp_multiplier = 2 }

                    if = {
                        limit = {
                            check_variable = { grp_multiplier > 2.0 }
                        }
                        set_temp_variable = { grp_multiplier = 2.0 }
                    }
                }
                else = {
                    set_temp_variable = { grp_multiplier = 2.0 }
                }

                multiply_temp_variable = { p_return_temp = grp_multiplier } #P = B * ( (D/S + 1) / 2)
            }
        }
        else_if = {
            limit = {
                is_in_array = { global.military_resource_token_array = r_type }
            }
            set_temp_variable = { grp_multiplier = d_temp }
            if = {
                limit = {
                    check_variable = { s_temp > 0 }
                }
                divide_temp_variable = { grp_multiplier = s_temp }
            }
            add_to_temp_variable = { grp_multiplier = 1 }
            if = {
                limit = {
                    check_variable = { grp_multiplier > 3.0 }
                }
                set_temp_variable = { grp_multiplier = 3.0 }
            }
            if = {
                limit = {
                    check_variable = { grp_multiplier < 1.0 }
                }
                set_temp_variable = { grp_multiplier = 1.0 }
            }

            multiply_temp_variable = { p_return_temp = grp_multiplier }
        }
    }
    get_resource_price = {
        #Updates a single resource's price
        #Requires updated supply/demand
        #Input: r_type (Resource Token)
        #Country Scope

        set_variable = { price@var:r_type = global.base_price@var:r_type }
        if = {
            limit = {
                NOT = { check_variable = { r_type = token:resource_valuable_materials } }
                #NOT = { check_variable = { r_type = token:resource_finance } }
            }
            if = {
                limit = {
                    check_variable = { supply@var:r_type > demand@var:r_type }
                }
                if = {
                    limit = {
                        check_variable = { demand@var:r_type > 0.0 }
                    }
                    set_temp_variable = { grp_sd = supply@var:r_type }
                    divide_temp_variable = { grp_sd = demand@var:r_type }

                    set_temp_variable = { grp_multiplier = 3 }
                    subtract_from_temp_variable = { grp_multiplier = grp_sd }
                    divide_temp_variable = { grp_multiplier = 2 }

                    if = {
                        limit = {
                            check_variable = { grp_multiplier < 0.25 }
                        }
                        set_temp_variable = { grp_multiplier = 0.25 }
                    }
                }
                else = {
                    set_temp_variable = { grp_multiplier = 0.25 }
                }

                multiply_variable = { price@var:r_type = grp_multiplier } #P = B * ((3 - S/D) / 2)
            }
            else_if = {
                limit = {
                    check_variable = { supply@var:r_type < demand@var:r_type }
                }
                if = {
                    limit = {
                        check_variable = { supply@var:r_type > 0.0 }
                    }
                    set_temp_variable = { grp_multiplier = demand@var:r_type }
                    divide_temp_variable = { grp_multiplier = supply@var:r_type }
                    add_to_temp_variable = { grp_multiplier = 1 }
                    divide_temp_variable = { grp_multiplier = 2 }

                    if = {
                        limit = {
                            check_variable = { grp_multiplier > 2.0 }
                        }
                        set_temp_variable = { grp_multiplier = 2.0 }
                    }
                }
                else = {
                    set_temp_variable = { grp_multiplier = 2.0 }
                }

                multiply_variable = { price@var:r_type = grp_multiplier } #P = B * ( (D/S + 1) / 2)
            }
        }

		set_variable = { price_compared_to_base@var:r_type = price@var:r_type }
		divide_variable = { price_compared_to_base@var:r_type = global.base_price@var:r_type }
		subtract_from_variable = { price_compared_to_base@var:r_type = 1 }

        every_controlled_state = {
            set_variable = { price@var:r_type = PREV.price@var:r_type }
			set_variable = { price_compared_to_base@var:r_type = PREV.price_compared_to_base@var:r_type }
        }
    }
    get_resource_prices = {
        #Updates all resource prices
        #Requires updated supply/demand
        #Country Scope

        for_each_loop = {
            array = global.resource_token_array
            value = r_type

            set_variable = { price@var:r_type = global.base_price@var:r_type }
            if = {
                limit = {
                    NOT = { check_variable = { r_type = token:resource_valuable_materials } }
                    #NOT = { check_variable = { r_type = token:resource_finance } }
                }
                if = {
                    limit = {
                        check_variable = { supply@var:r_type > demand@var:r_type }
                    }
                    if = {
                        limit = {
                            check_variable = { demand@var:r_type > 0.0 }
                        }
                        set_temp_variable = { grp_sd = supply@var:r_type }
                        divide_temp_variable = { grp_sd = demand@var:r_type }

                        set_temp_variable = { grp_multiplier = 3 }
                        subtract_from_temp_variable = { grp_multiplier = grp_sd }
                        divide_temp_variable = { grp_multiplier = 2 }

                        if = {
                            limit = {
                                check_variable = { grp_multiplier < 0.25 }
                            }
                            set_temp_variable = { grp_multiplier = 0.25 }
                        }
                    }
                    else = {
                        set_temp_variable = { grp_multiplier = 0.25 }
                    }

                    multiply_variable = { price@var:r_type = grp_multiplier } #P = B * ((3 - S/D) / 2)
                }
                else_if = {
                    limit = {
                        check_variable = { supply@var:r_type < demand@var:r_type }
                    }

                    if = {
                        limit = {
                            check_variable = { supply@var:r_type > 0.0 }
                        }
                        set_temp_variable = { grp_multiplier = demand@var:r_type }
                        divide_temp_variable = { grp_multiplier = supply@var:r_type }
                        add_to_temp_variable = { grp_multiplier = 1 }
                        divide_temp_variable = { grp_multiplier = 2 }

                        if = {
                            limit = {
                                check_variable = { grp_multiplier > 2.0 }
                            }
                            set_temp_variable = { grp_multiplier = 2.0 }
                        }
                    }
                    else = {
                        set_temp_variable = { grp_multiplier = 2.0 }
                    }


                    multiply_variable = { price@var:r_type = grp_multiplier } #P = B * ( (D/S + 1) / 2)
                }
            }

            set_variable = { price_compared_to_base@var:r_type = price@var:r_type }
            divide_variable = { price_compared_to_base@var:r_type = global.base_price@var:r_type }
            subtract_from_variable = { price_compared_to_base@var:r_type = 1 }
        }

        every_controlled_state = {
            for_each_loop = {
                array = global.resource_token_array
                value = r_type

                set_variable = { price@var:r_type = PREV.price@var:r_type }
			    set_variable = { price_compared_to_base@var:r_type = PREV.price_compared_to_base@var:r_type }
            }
        }
    }

    calc_military_resource = {
        # r_type
        set_variable = { resource_cost@var:r_type = trade@var:r_type }
        multiply_variable = { resource_cost@var:r_type = -1 }
        round_variable = resource_cost@var:r_type

        set_variable = { price@var:r_type = global.base_price@var:r_type }
        if = {
            limit = {
                check_variable = { resource@var:r_type > 0 }
            }
            set_temp_variable = { grp_multiplier = resource@var:r_type }
            divide_temp_variable = { grp_multiplier = controlled_states^num }
            divide_temp_variable = { grp_multiplier = global.price_control@var:r_type }
            add_to_temp_variable = { grp_multiplier = 1 }
            divide_variable = { price@var:r_type = grp_multiplier }
        }
        else_if = {
            limit = {
                check_variable = { resource@var:r_type < 0 }
            }
            set_temp_variable = { grp_multiplier = resource@var:r_type }
            divide_temp_variable = { grp_multiplier = controlled_states^num }
            divide_temp_variable = { grp_multiplier = global.price_control@var:r_type }
            add_to_temp_variable = { grp_multiplier = 1 }
            divide_variable = { price@var:r_type = grp_multiplier }
        }
    }
    calc_military_resources = {

        for_each_loop = {
            array = global.military_resource_token_array
            value = r_type

            calc_military_resource = yes
        }
    }

    calc_industrial_capacity = {
        set_variable = { industrial_capacity = global.base_industrial_capacity }
        set_variable = { industrial_capacity_use = 0 }

        for_each_loop = {
            array = buildings
            value = b_type

            add_to_variable = { industrial_capacity_use = industrial_capacity_use@var:b_type }
            add_to_variable = { industrial_capacity = industrial_capacity@var:b_type }
        }


        set_variable = { price_industrial_capacity = global.base_price_industrial_capacity }
        if = {
            limit = {
                check_variable = { industrial_capacity_use > industrial_capacity }
            }
            set_variable = { industrial_capacity_service = industrial_capacity }
            divide_variable = { industrial_capacity_service = industrial_capacity_use }
            # multiply_variable = { industrial_capacity_service = industrial_capacity }
            # divide_variable = { industrial_capacity_service = industrial_capacity_use }
        }
        else = {
            set_variable = { industrial_capacity_service = 1 }
        }

        set_temp_variable = { industrial_capacity_use_temp = industrial_capacity_use }
        multiply_temp_variable = { industrial_capacity_use_temp = 1.25 }
        if = {
            limit = {
                check_variable = { industrial_capacity_use > industrial_capacity }
            }
            if = {
                limit = {
                    check_variable = { industrial_capacity > 0.0 }
                }
                set_temp_variable = { grp_multiplier = industrial_capacity_use_temp }
                divide_temp_variable = { grp_multiplier = industrial_capacity }
                add_to_temp_variable = { grp_multiplier = 1 }
                divide_temp_variable = { grp_multiplier = 2 }

                if = {
                    limit = {
                        check_variable = { grp_multiplier > 2.0 }
                    }
                    set_temp_variable = { grp_multiplier = 2.0 }
                }
            }
            else = {
                set_temp_variable = { grp_multiplier = 2.0 }
            }

            multiply_variable = { price_industrial_capacity = grp_multiplier }
        }
        else = {
            if = {
                limit = {
                    check_variable = { industrial_capacity_use_temp > 0.0 }
                }
                set_temp_variable = { grp_sd = industrial_capacity }
                divide_temp_variable = { grp_sd = industrial_capacity_use_temp }

                set_temp_variable = { grp_multiplier = 3 }
                subtract_from_temp_variable = { grp_multiplier = grp_sd }
                divide_temp_variable = { grp_multiplier = 2 }

                if = {
                    limit = {
                        check_variable = { grp_multiplier < 0.25 }
                    }
                    set_temp_variable = { grp_multiplier = 0.25 }
                }
            }
            else = {
                set_temp_variable = { grp_multiplier = 0.25 }
            }

            multiply_variable = { price_industrial_capacity = grp_multiplier } #P = B * ((3 - S/D) / 2)
        }
    }
    calc_shipping_capacity = {
        set_variable = { shipping_capacity_convoys = shipping_convoys }
        multiply_variable = { shipping_capacity_convoys = global.shipping_capacity_per_convoy }

        set_variable = { shipping_capacity = shipping_capacity_convoys }
        every_controlled_state = {
            for_each_loop = {
                array = buildings
                value = b_type

                add_to_variable = { PREV.shipping_capacity = shipping_capacity@var:b_type }
            }
        }
    }
    calc_demand = {
        #Country Scope
        calculate_military_demand = yes

        for_each_loop = {
            array = global.resource_token_array
            value = r_type

            set_variable = { need@var:r_type = military_demand@var:r_type }
            set_variable = { demand_input@var:r_type = 0 }
        }

		#Projects
		for_each_loop = {
			array = proj_id
			value = proj_token

			add_to_variable = { demand@token:resource_food  = proj_food_demand@var:proj_token }
			add_to_variable = { demand@token:resource_consumer_goods = proj_consumer_goods_demand@var:proj_token }
			add_to_variable = { demand@token:resource_luxury_goods = proj_luxury_goods_demand@var:proj_token }
			add_to_variable = { demand@token:resource_services = proj_services_demand@var:proj_token }
			add_to_variable = { demand@token:resource_raw_materials = proj_raw_materials_demand@var:proj_token }
			add_to_variable = { demand@token:resource_energy_materials = proj_energy_materials_demand@var:proj_token }
			add_to_variable = { demand@token:resource_industrial_goods = proj_industrial_goods_demand@var:proj_token }
			add_to_variable = { demand@token:resource_electricity = proj_electricity_demand@var:proj_token }
		}

        every_controlled_state = {
            for_each_loop = {
                array = global.resource_token_array
                value = r_type

                set_variable = { demand@var:r_type = 0 }
                add_to_variable = { demand@var:r_type = pops_need@var:r_type }
                set_variable = { demand_input@var:r_type = 0 }
            }

            for_each_loop = {
                array = buildings
                value = b_type

                add_to_variable = { demand@token:resource_industrial_goods = construction_speed@var:b_type }

                if = { #Basic
                    limit = {
                        check_variable = { production_method@var:b_type = 0 }
                    }
                    set_temp_variable = { input_rtype = global.building_basic_input_resource_1@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_1_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_basic_input_resource_2@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_2_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_basic_input_resource_3@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_3_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_basic_input_resource_4@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_4_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_basic_input_resource_5@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_5_amount@var:b_type }
                }
                else_if = { #Advanced
                    limit = {
                        check_variable = { production_method@var:b_type = 1 }
                    }
                    set_temp_variable = { input_rtype = global.building_advanced_input_resource_1@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_1_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_advanced_input_resource_2@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_2_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_advanced_input_resource_3@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_3_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_advanced_input_resource_4@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_4_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_advanced_input_resource_5@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_5_amount@var:b_type }
                }
                else_if = { #Industrialized
                    limit = {
                        check_variable = { production_method@var:b_type = 2 }
                    }
                    set_temp_variable = { input_rtype = global.building_industrialized_input_resource_1@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_1_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_industrialized_input_resource_2@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_2_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_industrialized_input_resource_3@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_3_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_industrialized_input_resource_4@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_4_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_industrialized_input_resource_5@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_5_amount@var:b_type }
                }
                else_if = { #Mechanized
                    limit = {
                        check_variable = { production_method@var:b_type = 3 }
                    }
                    set_temp_variable = { input_rtype = global.building_mechanized_input_resource_1@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_1_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_mechanized_input_resource_2@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_2_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_mechanized_input_resource_3@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_3_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_mechanized_input_resource_4@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_4_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_mechanized_input_resource_5@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_5_amount@var:b_type }
                }
                else_if = { #Electrified
                    limit = {
                        check_variable = { production_method@var:b_type = 4 }
                    }
                    set_temp_variable = { input_rtype = global.building_electrified_input_resource_1@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_1_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_electrified_input_resource_2@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_2_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_electrified_input_resource_3@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_3_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_electrified_input_resource_4@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_4_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_electrified_input_resource_5@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_5_amount@var:b_type }
                }
                else_if = { #Motorized
                    limit = {
                        check_variable = { production_method@var:b_type = 5 }
                    }
                    set_temp_variable = { input_rtype = global.building_motorized_input_resource_1@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_1_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_motorized_input_resource_2@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_2_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_motorized_input_resource_3@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_3_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_motorized_input_resource_4@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_4_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_motorized_input_resource_5@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_5_amount@var:b_type }
                }
                else_if = { #Modernized
                    limit = {
                        check_variable = { production_method@var:b_type = 6 }
                    }
                    set_temp_variable = { input_rtype = global.building_modernized_input_resource_1@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_1_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_modernized_input_resource_2@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_2_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_modernized_input_resource_3@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_3_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_modernized_input_resource_4@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_4_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_modernized_input_resource_5@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_5_amount@var:b_type }
                }
                else_if = { #Roboticized
                    limit = {
                        check_variable = { production_method@var:b_type = 7 }
                    }
                    set_temp_variable = { input_rtype = global.building_roboticized_input_resource_1@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_1_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_roboticized_input_resource_2@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_2_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_roboticized_input_resource_3@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_3_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_roboticized_input_resource_4@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_4_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_roboticized_input_resource_5@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_5_amount@var:b_type }
                }
                else_if = { #Computerized
                    limit = {
                        check_variable = { production_method@var:b_type = 8 }
                    }
                    set_temp_variable = { input_rtype = global.building_computerized_input_resource_1@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_1_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_computerized_input_resource_2@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_2_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_computerized_input_resource_3@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_3_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_computerized_input_resource_4@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_4_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_computerized_input_resource_5@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_5_amount@var:b_type }
                }
                else_if = { #Digitalized
                    limit = {
                        check_variable = { production_method@var:b_type = 9 }
                    }
                    set_temp_variable = { input_rtype = global.building_digitalized_input_resource_1@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_1_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_digitalized_input_resource_2@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_2_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_digitalized_input_resource_3@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_3_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_digitalized_input_resource_4@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_4_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_digitalized_input_resource_5@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_5_amount@var:b_type }
                }
                else_if = { #Automatized
                    limit = {
                        check_variable = { production_method@var:b_type = 10 }
                    }
                    set_temp_variable = { input_rtype = global.building_automatized_input_resource_1@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_1_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_automatized_input_resource_2@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_2_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_automatized_input_resource_3@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_3_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_automatized_input_resource_4@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_4_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_automatized_input_resource_5@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_5_amount@var:b_type }
                }
                else_if = { #Futurized
                    limit = {
                        check_variable = { production_method@var:b_type = 11 }
                    }
                    set_temp_variable = { input_rtype = global.building_futurized_input_resource_1@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_1_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_futurized_input_resource_2@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_2_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_futurized_input_resource_3@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_3_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_futurized_input_resource_4@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_4_amount@var:b_type }
                    set_temp_variable = { input_rtype = global.building_futurized_input_resource_5@var:b_type }
                    add_to_variable = { demand_input@var:input_rtype = input_5_amount@var:b_type }
                }
            }


            for_each_loop = {
                array = global.resource_token_array
                value = r_type
                add_to_variable = { demand@var:r_type = demand_input@var:r_type }
                add_to_variable = { PREV.need@var:r_type = demand@var:r_type }
                add_to_variable = { PREV.demand_input@var:r_type = demand_input@var:r_type }

                set_variable = { balance@var:r_type = supply@var:r_type }
                subtract_from_variable = { balance@var:r_type = demand@var:r_type }
            }
        }

        calc_national_demand = yes
    }
    calc_national_demand = {
        for_each_loop = {
            array = global.resource_token_array
            value = r_type

            set_variable = { demand@var:r_type = need@var:r_type }
            if = {
                limit = {
                    check_variable = { trade@var:r_type < 0 }
                }
                subtract_from_variable = { demand@var:r_type = trade@var:r_type }
            }
            set_variable = { balance@var:r_type = supply@var:r_type }
            subtract_from_variable = { balance@var:r_type = demand@var:r_type }
        }
    }
    calc_supply = {
        #Country Scope

        for_each_loop = {
            array = global.resource_token_array
            value = r_type

            set_variable = { production@var:r_type = 0 }
        }

        every_controlled_state = {
            for_each_loop = {
                array = global.resource_token_array
                value = r_type
                set_variable = { supply@var:r_type = 0 }
                set_variable = { production@var:r_type = 0 }
            }

            for_each_loop = {
                array = buildings
                value = b_type

                set_temp_variable = { building_rtype = global.building_output_resource_1@var:b_type }
                add_to_variable = { production@var:building_rtype = production_1@var:b_type }

                set_temp_variable = { building_rtype = global.building_output_resource_2@var:b_type }
                add_to_variable = { production@var:building_rtype = production_2@var:b_type }

                set_temp_variable = { building_rtype = global.building_output_resource_3@var:b_type }
                add_to_variable = { production@var:building_rtype = production_3@var:b_type }

                set_temp_variable = { building_rtype = global.building_output_resource_4@var:b_type }
                add_to_variable = { production@var:building_rtype = production_4@var:b_type }

                set_temp_variable = { building_rtype = global.building_output_resource_5@var:b_type }
                add_to_variable = { production@var:building_rtype = production_5@var:b_type }
            }

            for_each_loop = {
                array = global.resource_token_array
                value = r_type
                add_to_variable = { PREV.production@var:r_type = production@var:r_type }
            }
        }

        calc_national_supply = yes
    }
    calc_national_supply = {
        for_each_loop = {
            array = global.resource_token_array
            value = r_type
            set_variable = { supply@var:r_type = production@var:r_type }
            if = {
                limit = {
                    check_variable = { trade@var:r_type > 0 }
                }
                add_to_variable = { supply@var:r_type = trade@var:r_type }
            }

            set_variable = { balance@var:r_type = supply@var:r_type }
            subtract_from_variable = { balance@var:r_type = demand@var:r_type }

            set_temp_variable = { supply_ratio = supply@var:r_type }
            if = {
                limit = {
                    check_variable = { demand@var:r_type > 0 }
                }
                divide_temp_variable = { supply_ratio = demand@var:r_type }
            }
            every_controlled_state = {
                set_variable = { supply@var:r_type = demand@var:r_type }
                multiply_variable = { supply@var:r_type = supply_ratio }

                set_variable = { balance@var:r_type = supply@var:r_type }
                subtract_from_variable = { balance@var:r_type = demand@var:r_type }
            }
        }
    }

	calculate_military_demand = {
		battalion_count_update = yes

		#Needs
			#Reset
				set_variable = { military_need@token:resource_food = 0 } #Food
				set_variable = { military_need@token:resource_consumer_goods = 0 } #Basic Supplies
				set_variable = { military_need@token:resource_luxury_goods = 0 } #Officer stuff
				set_variable = { military_need@token:resource_industrial_goods = 0 } #Machinery, Heavy Gun Parts, Building Materials, etc.
			#

			#Army Needs
				#Infantry
				set_temp_variable = { need_temp = global.infantry_need@token:resource_food }
				multiply_temp_variable = { need_temp = infantry_battalions_weighted }
				add_to_variable = { military_need@token:resource_food = need_temp }

				set_temp_variable = { need_temp = global.infantry_need@token:resource_consumer_goods }
				multiply_temp_variable = { need_temp = infantry_battalions_weighted }
				add_to_variable = { military_need@token:resource_consumer_goods = need_temp }

				set_temp_variable = { need_temp = global.infantry_need@token:resource_luxury_goods }
				multiply_temp_variable = { need_temp = infantry_battalions_weighted }
				add_to_variable = { military_need@token:resource_luxury_goods = need_temp }

				set_temp_variable = { need_temp = global.infantry_need@token:resource_industrial_goods }
				multiply_temp_variable = { need_temp = infantry_battalions_weighted }
				add_to_variable = { military_need@token:resource_industrial_goods = need_temp }

				#Militia
				set_temp_variable = { need_temp = global.militia_need@token:resource_food }
				multiply_temp_variable = { need_temp = militia_battalions_weighted }
				add_to_variable = { military_need@token:resource_food = need_temp }

				set_temp_variable = { need_temp = global.militia_need@token:resource_consumer_goods }
				multiply_temp_variable = { need_temp = militia_battalions_weighted }
				add_to_variable = { military_need@token:resource_consumer_goods = need_temp }

				set_temp_variable = { need_temp = global.militia_need@token:resource_luxury_goods }
				multiply_temp_variable = { need_temp = militia_battalions_weighted }
				add_to_variable = { military_need@token:resource_luxury_goods = need_temp }

				set_temp_variable = { need_temp = global.militia_need@token:resource_industrial_goods }
				multiply_temp_variable = { need_temp = militia_battalions_weighted }
				add_to_variable = { military_need@token:resource_industrial_goods = need_temp }

				#Artillery
				set_temp_variable = { need_temp = global.artillery_need@token:resource_food }
				multiply_temp_variable = { need_temp = artillery_battalions_weighted }
				add_to_variable = { military_need@token:resource_food = need_temp }

				set_temp_variable = { need_temp = global.artillery_need@token:resource_consumer_goods }
				multiply_temp_variable = { need_temp = artillery_battalions_weighted }
				add_to_variable = { military_need@token:resource_consumer_goods = need_temp }

				set_temp_variable = { need_temp = global.artillery_need@token:resource_luxury_goods }
				multiply_temp_variable = { need_temp = artillery_battalions_weighted }
				add_to_variable = { military_need@token:resource_luxury_goods = need_temp }

				set_temp_variable = { need_temp = global.artillery_need@token:resource_industrial_goods }
				multiply_temp_variable = { need_temp = artillery_battalions_weighted }
				add_to_variable = { military_need@token:resource_industrial_goods = need_temp }

				#Cavalry
				set_temp_variable = { need_temp = global.cavalry_need@token:resource_food }
				multiply_temp_variable = { need_temp = cavalry_battalions_weighted }
				add_to_variable = { military_need@token:resource_food = need_temp }

				set_temp_variable = { need_temp = global.cavalry_need@token:resource_consumer_goods }
				multiply_temp_variable = { need_temp = cavalry_battalions_weighted }
				add_to_variable = { military_need@token:resource_consumer_goods = need_temp }

				set_temp_variable = { need_temp = global.cavalry_need@token:resource_luxury_goods }
				multiply_temp_variable = { need_temp = cavalry_battalions_weighted }
				add_to_variable = { military_need@token:resource_luxury_goods = need_temp }

				set_temp_variable = { need_temp = global.cavalry_need@token:resource_industrial_goods }
				multiply_temp_variable = { need_temp = cavalry_battalions_weighted }
				add_to_variable = { military_need@token:resource_industrial_goods = need_temp }

				#Mobile
				set_temp_variable = { need_temp = global.mobile_need@token:resource_food }
				multiply_temp_variable = { need_temp = mobile_battalions_weighted }
				add_to_variable = { military_need@token:resource_food = need_temp }

				set_temp_variable = { need_temp = global.mobile_need@token:resource_consumer_goods }
				multiply_temp_variable = { need_temp = mobile_battalions_weighted }
				add_to_variable = { military_need@token:resource_consumer_goods = need_temp }

				set_temp_variable = { need_temp = global.mobile_need@token:resource_luxury_goods }
				multiply_temp_variable = { need_temp = mobile_battalions_weighted }
				add_to_variable = { military_need@token:resource_luxury_goods = need_temp }

				set_temp_variable = { need_temp = global.mobile_need@token:resource_industrial_goods }
				multiply_temp_variable = { need_temp = mobile_battalions_weighted }
				add_to_variable = { military_need@token:resource_industrial_goods = need_temp }

				#Armor
				set_temp_variable = { need_temp = global.armor_need@token:resource_food }
				multiply_temp_variable = { need_temp = armor_battalions_weighted }
				add_to_variable = { military_need@token:resource_food = need_temp }

				set_temp_variable = { need_temp = global.armor_need@token:resource_consumer_goods }
				multiply_temp_variable = { need_temp = armor_battalions_weighted }
				add_to_variable = { military_need@token:resource_consumer_goods = need_temp }

				set_temp_variable = { need_temp = global.armor_need@token:resource_luxury_goods }
				multiply_temp_variable = { need_temp = armor_battalions_weighted }
				add_to_variable = { military_need@token:resource_luxury_goods = need_temp }

				set_temp_variable = { need_temp = global.armor_need@token:resource_industrial_goods }
				multiply_temp_variable = { need_temp = armor_battalions_weighted }
				add_to_variable = { military_need@token:resource_industrial_goods = need_temp }

				#Robotic
				set_temp_variable = { need_temp = global.robotic_need@token:resource_food }
				multiply_temp_variable = { need_temp = robotic_battalions_weighted }
				add_to_variable = { military_need@token:resource_food = need_temp }

				set_temp_variable = { need_temp = global.robotic_need@token:resource_consumer_goods }
				multiply_temp_variable = { need_temp = robotic_battalions_weighted }
				add_to_variable = { military_need@token:resource_consumer_goods = need_temp }

				set_temp_variable = { need_temp = global.robotic_need@token:resource_luxury_goods }
				multiply_temp_variable = { need_temp = robotic_battalions_weighted }
				add_to_variable = { military_need@token:resource_luxury_goods = need_temp }

				set_temp_variable = { need_temp = global.robotic_need@token:resource_industrial_goods }
				multiply_temp_variable = { need_temp = robotic_battalions_weighted }
				add_to_variable = { military_need@token:resource_industrial_goods = need_temp }

				#Support
				set_temp_variable = { need_temp = global.support_need@token:resource_food }
				multiply_temp_variable = { need_temp = support_battalions_weighted }
				add_to_variable = { military_need@token:resource_food = need_temp }

				set_temp_variable = { need_temp = global.support_need@token:resource_consumer_goods }
				multiply_temp_variable = { need_temp = support_battalions_weighted }
				add_to_variable = { military_need@token:resource_consumer_goods = need_temp }

				set_temp_variable = { need_temp = global.support_need@token:resource_luxury_goods }
				multiply_temp_variable = { need_temp = support_battalions_weighted }
				add_to_variable = { military_need@token:resource_luxury_goods = need_temp }

				set_temp_variable = { need_temp = global.support_need@token:resource_industrial_goods }
				multiply_temp_variable = { need_temp = support_battalions_weighted }
				add_to_variable = { military_need@token:resource_industrial_goods = need_temp }

				#Total
				set_variable = { military_army_need@token:resource_food = military_need@token:resource_food }
				set_variable = { military_army_need@token:resource_consumer_goods = military_need@token:resource_consumer_goods }
				set_variable = { military_army_need@token:resource_luxury_goods = military_need@token:resource_luxury_goods }
				set_variable = { military_army_need@token:resource_industrial_goods = military_need@token:resource_industrial_goods }
			#

			#Navy Needs
				set_variable = { military_navy_need@token:resource_food = 0 }
				set_variable = { military_navy_need@token:resource_consumer_goods = 0 }
				set_variable = { military_navy_need@token:resource_luxury_goods = 0 }
				set_variable = { military_navy_need@token:resource_industrial_goods = 0 }

				#Screen
				set_temp_variable = { need_temp = global.screen_need@token:resource_food }
				multiply_temp_variable = { need_temp = screen_ships_weighted }
				add_to_variable = { military_navy_need@token:resource_food = need_temp }

				set_temp_variable = { need_temp = global.screen_need@token:resource_consumer_goods }
				multiply_temp_variable = { need_temp = screen_ships_weighted }
				add_to_variable = { military_navy_need@token:resource_consumer_goods = need_temp }

				set_temp_variable = { need_temp = global.screen_need@token:resource_luxury_goods }
				multiply_temp_variable = { need_temp = screen_ships_weighted }
				add_to_variable = { military_navy_need@token:resource_luxury_goods = need_temp }

				set_temp_variable = { need_temp = global.screen_need@token:resource_industrial_goods }
				multiply_temp_variable = { need_temp = screen_ships_weighted }
				add_to_variable = { military_navy_need@token:resource_industrial_goods = need_temp }

				#Capital
				set_temp_variable = { need_temp = global.capital_need@token:resource_food }
				multiply_temp_variable = { need_temp = capital_ships_weighted }
				add_to_variable = { military_navy_need@token:resource_food = need_temp }

				set_temp_variable = { need_temp = global.capital_need@token:resource_consumer_goods }
				multiply_temp_variable = { need_temp = capital_ships_weighted }
				add_to_variable = { military_navy_need@token:resource_consumer_goods = need_temp }

				set_temp_variable = { need_temp = global.capital_need@token:resource_luxury_goods }
				multiply_temp_variable = { need_temp = capital_ships_weighted }
				add_to_variable = { military_navy_need@token:resource_luxury_goods = need_temp }

				set_temp_variable = { need_temp = global.capital_need@token:resource_industrial_goods }
				multiply_temp_variable = { need_temp = capital_ships_weighted }
				add_to_variable = { military_navy_need@token:resource_industrial_goods = need_temp }

				#Submarine
				set_temp_variable = { need_temp = global.submarine_need@token:resource_food }
				multiply_temp_variable = { need_temp = submarine_ships_weighted }
				add_to_variable = { military_navy_need@token:resource_food = need_temp }

				set_temp_variable = { need_temp = global.submarine_need@token:resource_consumer_goods }
				multiply_temp_variable = { need_temp = submarine_ships_weighted }
				add_to_variable = { military_navy_need@token:resource_consumer_goods = need_temp }

				set_temp_variable = { need_temp = global.submarine_need@token:resource_luxury_goods }
				multiply_temp_variable = { need_temp = submarine_ships_weighted }
				add_to_variable = { military_navy_need@token:resource_luxury_goods = need_temp }

				set_temp_variable = { need_temp = global.submarine_need@token:resource_industrial_goods }
				multiply_temp_variable = { need_temp = submarine_ships_weighted }
				add_to_variable = { military_navy_need@token:resource_industrial_goods = need_temp }

				#Total
				add_to_variable = { military_need@token:resource_food = military_navy_need@token:resource_food }
				add_to_variable = { military_need@token:resource_consumer_goods = military_navy_need@token:resource_consumer_goods }
				add_to_variable = { military_need@token:resource_luxury_goods = military_navy_need@token:resource_luxury_goods }
				add_to_variable = { military_need@token:resource_industrial_goods = military_navy_need@token:resource_industrial_goods }
			#

			#Airforce Needs
				set_variable = { military_airforce_need@token:resource_food = num_deployed_planes }
				multiply_variable = { military_airforce_need@token:resource_food = global.deployed_planes_need@token:resource_food }

				set_variable = { military_airforce_need@token:resource_consumer_goods = num_deployed_planes }
				multiply_variable = { military_airforce_need@token:resource_consumer_goods = global.deployed_planes_need@token:resource_consumer_goods }

				set_variable = { military_airforce_need@token:resource_luxury_goods = num_deployed_planes }
				multiply_variable = { military_airforce_need@token:resource_luxury_goods = global.deployed_planes_need@token:resource_luxury_goods } #so much steak

				set_variable = { military_airforce_need@token:resource_industrial_goods = num_deployed_planes }
				multiply_variable = { military_airforce_need@token:resource_industrial_goods = global.deployed_planes_need@token:resource_industrial_goods }

				add_to_variable = { military_need@token:resource_food = military_airforce_need@token:resource_food }
				add_to_variable = { military_need@token:resource_consumer_goods = military_airforce_need@token:resource_consumer_goods }
				add_to_variable = { military_need@token:resource_luxury_goods = military_airforce_need@token:resource_luxury_goods }
				add_to_variable = { military_need@token:resource_industrial_goods = military_airforce_need@token:resource_industrial_goods }
			#
		#
		#Demand
			#Army
			set_variable = { military_army_demand@token:resource_food = military_army_need@token:resource_food }
			multiply_variable = { military_army_demand@token:resource_food = military_spending_percentage }
			divide_variable = { military_army_demand@token:resource_food = 100 }

			set_variable = { military_army_demand@token:resource_consumer_goods = military_army_need@token:resource_consumer_goods }
			multiply_variable = { military_army_demand@token:resource_consumer_goods = military_spending_percentage }
			divide_variable = { military_army_demand@token:resource_consumer_goods = 100 }

			set_variable = { military_army_demand@token:resource_luxury_goods = military_army_need@token:resource_luxury_goods }
			multiply_variable = { military_army_demand@token:resource_luxury_goods = military_spending_percentage }
			divide_variable = { military_army_demand@token:resource_luxury_goods = 100 }

			set_variable = { military_army_demand@token:resource_industrial_goods = military_army_need@token:resource_industrial_goods }
			multiply_variable = { military_army_demand@token:resource_industrial_goods = military_spending_percentage }
			divide_variable = { military_army_demand@token:resource_industrial_goods = 100 }

			#Navy
			set_variable = { military_navy_demand@token:resource_food = military_navy_need@token:resource_food }
			multiply_variable = { military_navy_demand@token:resource_food = military_spending_percentage }
			divide_variable = { military_navy_demand@token:resource_food = 100 }

			set_variable = { military_navy_demand@token:resource_consumer_goods = military_navy_need@token:resource_consumer_goods }
			multiply_variable = { military_navy_demand@token:resource_consumer_goods = military_spending_percentage }
			divide_variable = { military_navy_demand@token:resource_consumer_goods = 100 }

			set_variable = { military_navy_demand@token:resource_luxury_goods = military_navy_need@token:resource_luxury_goods }
			multiply_variable = { military_navy_demand@token:resource_luxury_goods = military_spending_percentage }
			divide_variable = { military_navy_demand@token:resource_luxury_goods = 100 }

			set_variable = { military_navy_demand@token:resource_industrial_goods = military_navy_need@token:resource_industrial_goods }
			multiply_variable = { military_navy_demand@token:resource_industrial_goods = military_spending_percentage }
			divide_variable = { military_navy_demand@token:resource_industrial_goods = 100 }

			#Airforce
			set_variable = { military_airforce_demand@token:resource_food = military_airforce_need@token:resource_food }
			multiply_variable = { military_airforce_demand@token:resource_food = military_spending_percentage }
			divide_variable = { military_airforce_demand@token:resource_food = 100 }

			set_variable = { military_airforce_demand@token:resource_consumer_goods = military_airforce_need@token:resource_consumer_goods }
			multiply_variable = { military_airforce_demand@token:resource_consumer_goods = military_spending_percentage }
			divide_variable = { military_airforce_demand@token:resource_consumer_goods = 100 }

			set_variable = { military_airforce_demand@token:resource_luxury_goods = military_airforce_need@token:resource_luxury_goods }
			multiply_variable = { military_airforce_demand@token:resource_luxury_goods = military_spending_percentage }
			divide_variable = { military_airforce_demand@token:resource_luxury_goods = 100 }

			set_variable = { military_airforce_demand@token:resource_industrial_goods = military_airforce_need@token:resource_industrial_goods }
			multiply_variable = { military_airforce_demand@token:resource_industrial_goods = military_spending_percentage }
			divide_variable = { military_airforce_demand@token:resource_industrial_goods = 100 }

			#Total
			set_variable = { military_demand@token:resource_food = military_need@token:resource_food }
			multiply_variable = { military_demand@token:resource_food = military_spending_percentage }
			divide_variable = { military_demand@token:resource_food = 100 }

			set_variable = { military_demand@token:resource_consumer_goods = military_need@token:resource_consumer_goods }
			multiply_variable = { military_demand@token:resource_consumer_goods = military_spending_percentage }
			divide_variable = { military_demand@token:resource_consumer_goods = 100 }

			set_variable = { military_demand@token:resource_luxury_goods = military_need@token:resource_luxury_goods }
			multiply_variable = { military_demand@token:resource_luxury_goods = military_spending_percentage }
			divide_variable = { military_demand@token:resource_luxury_goods = 100 }

			set_variable = { military_demand@token:resource_industrial_goods = military_need@token:resource_industrial_goods }
			multiply_variable = { military_demand@token:resource_industrial_goods = military_spending_percentage }
			divide_variable = { military_demand@token:resource_industrial_goods = 100 }
		#
	}

    adjust_trade = {
        # resource_temp - resource token
        # amount_temp - Positive values for increasing imports/decreasing exports and Negative values for decreasing imports/increasing exports
        # stop_at_zero_temp - Set to non-zero value to allow reductions in exports/imports to go past 0 and flip to become imports/exports respectively.
        #                     AKA makes it so if you reduce exports by 200 when you're exporting 100, instead of it just being set to 0, it gets set to 100 immports
        round_temp_variable = amount_temp

        adjust_trade_no_update = yes

        trade_update = yes
    }
    adjust_trade_no_update = {
        # resource_temp - resource token
        # amount_temp - Positive values for increasing imports/decreasing exports and Negative values for decreasing imports/increasing exports
        # stop_at_zero_temp - Set to non-zero value to allow reductions in exports/imports to go past 0 and flip to become imports/exports respectively.
        #                     AKA makes it so if you reduce exports by 200 when you're exporting 100, instead of it just being set to 0, it gets set to 100 immports
        round_temp_variable = amount_temp
        if = { # IMPORTING
            limit = {
                check_variable = { offers@var:resource_temp > 0 }
            }
            add_to_variable = { offers@var:resource_temp = amount_temp }
            if = {
                limit = {
                    check_variable = { stop_at_zero_temp = 0 }
                    check_variable = { offers@var:resource_temp < 0 }
                }
                set_variable = { offers@var:resource_temp = 0 }
            }
        }
        else_if = { # EXPORTING
            limit = {
                check_variable = { offers@var:resource_temp < 0 }
            }
            add_to_variable = { offers@var:resource_temp = amount_temp }
            if = {
                limit = {
                    check_variable = { stop_at_zero_temp = 0 }
                    check_variable = { offers@var:resource_temp > 0 }
                }
                set_variable = { offers@var:resource_temp = 0 }
            }
        }
        else = { # NEW TRADE
            add_to_variable = { offers@var:resource_temp = amount_temp }
        }
    }
    trade_update = {
        # Normal Trade Update Script

        calc_shipping_capacity_use = yes # Would normally be executed on every country before the next two

        available_trade_update = yes
        trade_update_no_shipping = yes
    }
    calc_shipping_capacity_use = {
        # Only updates shipping capacity usage

        set_variable = { shipping_capacity_use = 0 }
        # Shipping Capacity
            for_each_loop = {
                array = global.resource_token_array
                value = r_type

                set_variable = { shipping_use@var:r_type = offers@var:r_type }
                if = {
                    limit = {
                        check_variable = { shipping_use@var:r_type < 0 }
                    }
                    multiply_variable = { shipping_use@var:r_type = -1 }
                }
                multiply_variable = { shipping_use@var:r_type = global.shipping_cost@var:r_type }
                set_temp_variable = { modifier_temp = modifier@shipping_cost_modifier }
                add_to_temp_variable = { modifier_temp = 1 }
                multiply_variable = { shipping_use@var:r_type = modifier_temp }

                add_to_variable = { shipping_capacity_use = shipping_use@var:r_type }
            }
            for_each_loop = {
                array = global.military_resource_token_array
                value = r_type

                set_variable = { shipping_use@var:r_type = offers@var:r_type }
                if = {
                    limit = {
                        check_variable = { shipping_use@var:r_type < 0 }
                    }
                    multiply_variable = { shipping_use@var:r_type = -1 }
                }
                multiply_variable = { shipping_use@var:r_type = global.shipping_cost@var:r_type }
                set_temp_variable = { modifier_temp = modifier@shipping_cost_modifier }
                add_to_temp_variable = { modifier_temp = 1 }
                multiply_variable = { shipping_use@var:r_type = modifier_temp }

                add_to_variable = { shipping_capacity_use = shipping_use@var:r_type }
            }

            #Shipping Efficiency
            if = {
                limit = {
                    check_variable = { shipping_capacity_use > shipping_capacity }
                }
                set_variable = { shipping_efficiency = shipping_capacity }
                divide_variable = { shipping_efficiency = shipping_capacity_use }
            }
            else = {
                set_variable = { shipping_efficiency = 1 }
            }
        #
    }
    trade_update_no_shipping = {
        # Only updates trade routes & supply/demand/prices.

        # Actual Trade
            for_each_loop = {
                array = global.resource_token_array
                value = r_type

                set_variable = { trade@var:r_type = offers@var:r_type }

                if = {
                    limit = {
                        check_variable = { offers@var:r_type > 0 } # Importing
                        check_variable = { available_imports@var:r_type < available_exports@var:r_type } # Not enough countries to buy from
                    }
                    set_temp_variable = { trade_portion_temp = available_imports@var:r_type }
                    divide_temp_variable = { trade_portion_temp = available_exports@var:r_type }
                    multiply_variable = { trade@var:r_type = trade_portion_temp }
                }
                else_if = {
                    limit = {
                        check_variable = { offers@var:r_type < 0 } # Exporting
                        check_variable = { available_exports@var:r_type < available_imports@var:r_type } # Not enough countries to sell to
                    }
                    set_temp_variable = { trade_portion_temp = available_exports@var:r_type }
                    divide_temp_variable = { trade_portion_temp = available_imports@var:r_type }
                    multiply_variable = { trade@var:r_type = trade_portion_temp }
                }

                multiply_variable = { trade@var:r_type = shipping_efficiency }
            }
            for_each_loop = {
                array = global.military_resource_token_array
                value = r_type

                set_variable = { trade@var:r_type = offers@var:r_type }

                if = {
                    limit = {
                        check_variable = { offers@var:r_type > 0 } # Importing
                        check_variable = { available_imports@var:r_type < available_exports@var:r_type } # Not enough countries to buy from
                    }
                    set_temp_variable = { trade_portion_temp = available_imports@var:r_type }
                    divide_temp_variable = { trade_portion_temp = available_exports@var:r_type }
                    multiply_variable = { trade@var:r_type = trade_portion_temp }
                }
                else_if = {
                    limit = {
                        check_variable = { offers@var:r_type < 0 } # Exporting
                        check_variable = { available_exports@var:r_type < available_imports@var:r_type } # Not enough countries to sell to
                    }
                    set_temp_variable = { trade_portion_temp = available_exports@var:r_type }
                    divide_temp_variable = { trade_portion_temp = available_imports@var:r_type }
                    multiply_variable = { trade@var:r_type = trade_portion_temp }
                }

                multiply_variable = { trade@var:r_type = shipping_efficiency }
            }
        #

        # Supply & Demand
            for_each_loop = {
                array = global.resource_token_array
                value = r_type

                set_variable = { supply@var:r_type = production@var:r_type }
                set_variable = { demand@var:r_type = need@var:r_type }

                if = {
                    limit = {
                        check_variable = { trade@var:r_type < 0 }
                    }
                    subtract_from_variable = { demand@var:r_type = trade@var:r_type }
                }
                else = {
                    add_to_variable = { supply@var:r_type = trade@var:r_type }
                }

                set_temp_variable = { supply_ratio = supply@var:r_type }
                if = {
                    limit = {
                        check_variable = { demand@var:r_type > 0 }
                    }
                    divide_temp_variable = { supply_ratio = demand@var:r_type }
                }
                set_variable = { balance@var:r_type = supply@var:r_type }
                subtract_from_variable = { balance@var:r_type = demand@var:r_type }
            }
            every_controlled_state = {
                for_each_loop = {
                    array = global.resource_token_array
                    value = r_type

                    set_variable = { supply@var:r_type = demand@var:r_type }
                    multiply_variable = { supply@var:r_type = supply_ratio }

                    set_variable = { balance@var:r_type = supply@var:r_type }
                    subtract_from_variable = { balance@var:r_type = demand@var:r_type }
                }
            }
        #

        get_resource_prices = yes
        calc_military_resources = yes

        trade_update_value = yes
    }
    trade_update_value = {
        # Trade Value & Tariffs
            for_each_loop = {
                array = global.resource_token_array
                value = r_type

                if = {
                    limit = {
                        NOT = { check_variable = { trade@var:r_type = 0 } }
                    }
                    #Value
                    set_variable = { trade_value@var:r_type = trade@var:r_type }
                    multiply_variable = { trade_value@var:r_type = trade_price@var:r_type }

                    #Tariffs
                    if = { #Import
                        limit = {
                            check_variable = { trade@var:r_type > 0 }
                        }
                        set_variable = { trade_tariffs@var:r_type = import_tariff_percentage }
                        subtract_from_variable = { trade_tariffs@var:r_type = import_subsidy_percentage }
                    }
                    else = { #Export
                        set_variable = { trade_tariffs@var:r_type = export_tariff_percentage }
                        subtract_from_variable = { trade_tariffs@var:r_type = export_subsidy_percentage }
                    }
                    divide_variable = { trade_tariffs@var:r_type = 100 }
                    multiply_variable = { trade_tariffs@var:r_type = trade_value@var:r_type }
                }
                else = {
                    set_variable = { trade_value@var:r_type = 0 }
                    set_variable = { trade_tariffs@var:r_type = 0 }
                }

                #Productivity
                #	Productivity = ( revenue - goods cost - tariffs - shipping cost ) / employee
                if = { #Import
                    limit = {
                        check_variable = { offers@var:r_type > 0 }
                    }
                    set_variable = { trade_productivity@var:r_type = price@var:r_type }
                    subtract_from_variable = { trade_productivity@var:r_type = trade_price@var:r_type }

                    set_temp_variable = { tr_tariffs_temp = import_tariff_percentage }
                    subtract_from_temp_variable = { tr_tariffs_temp = import_subsidy_percentage }
                    divide_temp_variable = { tr_tariffs_temp = 100 }
                    multiply_temp_variable = { tr_tariffs_temp = trade_price@var:r_type }

                    subtract_from_variable = { trade_productivity@var:r_type = tr_tariffs_temp }
                }
                else = { #Export
                    set_temp_variable = { tr_rev_temp = trade_price@var:r_type }

                    set_temp_variable = { tr_goods_cost_temp = price@var:r_type }

                    set_temp_variable = { tr_tariffs_temp = export_tariff_percentage }
                    subtract_from_temp_variable = { tr_tariffs_temp = export_subsidy_percentage }
                    divide_temp_variable = { tr_tariffs_temp = 100 }
                    multiply_temp_variable = { tr_tariffs_temp = trade_price@var:r_type }

                    set_variable = { trade_productivity@var:r_type = tr_rev_temp }
                    subtract_from_variable = { trade_productivity@var:r_type = tr_goods_cost_temp }
                    subtract_from_variable = { trade_productivity@var:r_type = tr_tariffs_temp }
                }
                multiply_variable = { trade_productivity@var:r_type = global.shipping_amount@var:r_type }
            }
            for_each_loop = {
                array = global.military_resource_token_array
                value = r_type

                if = {
                    limit = {
                        NOT = { check_variable = { trade@var:r_type = 0 } }
                    }
                    #Value
                    set_variable = { trade_value@var:r_type = trade@var:r_type }
                    multiply_variable = { trade_value@var:r_type = trade_price@var:r_type }

                    #Tariffs
                    if = { #Import
                        limit = {
                            check_variable = { trade@var:r_type > 0 }
                        }
                        set_variable = { trade_tariffs@var:r_type = import_tariff_percentage }
                        subtract_from_variable = { trade_tariffs@var:r_type = import_subsidy_percentage }
                    }
                    else = { #Export
                        set_variable = { trade_tariffs@var:r_type = export_tariff_percentage }
                        subtract_from_variable = { trade_tariffs@var:r_type = export_subsidy_percentage }
                    }
                    divide_variable = { trade_tariffs@var:r_type = 100 }
                    multiply_variable = { trade_tariffs@var:r_type = trade_value@var:r_type }
                }
                else = {
                    set_variable = { trade_value@var:r_type = 0 }
                    set_variable = { trade_tariffs@var:r_type = 0 }
                }

                #Productivity
                #	Productivity = ( revenue - goods cost - tariffs - shipping cost ) / employee
                if = { #Import
                    limit = {
                        check_variable = { offers@var:r_type > 0 }
                    }
                    set_variable = { trade_productivity@var:r_type = price@var:r_type }
                    subtract_from_variable = { trade_productivity@var:r_type = trade_price@var:r_type }

                    set_temp_variable = { tr_tariffs_temp = import_tariff_percentage }
                    subtract_from_temp_variable = { tr_tariffs_temp = import_subsidy_percentage }
                    divide_temp_variable = { tr_tariffs_temp = 100 }
                    multiply_temp_variable = { tr_tariffs_temp = trade_price@var:r_type }

                    subtract_from_variable = { trade_productivity@var:r_type = tr_tariffs_temp }
                }
                else = { #Export
                    set_temp_variable = { tr_rev_temp = trade_price@var:r_type }

                    set_temp_variable = { tr_goods_cost_temp = price@var:r_type }

                    set_temp_variable = { tr_tariffs_temp = export_tariff_percentage }
                    subtract_from_temp_variable = { tr_tariffs_temp = export_subsidy_percentage }
                    divide_temp_variable = { tr_tariffs_temp = 100 }
                    multiply_temp_variable = { tr_tariffs_temp = trade_price@var:r_type }

                    set_variable = { trade_productivity@var:r_type = tr_rev_temp }
                    subtract_from_variable = { trade_productivity@var:r_type = tr_goods_cost_temp }
                    subtract_from_variable = { trade_productivity@var:r_type = tr_tariffs_temp }
                }
                multiply_variable = { trade_productivity@var:r_type = global.shipping_amount@var:r_type }
            }
        #
    }
    trade_update_resource = {
        # r_type

        #Shipping Capacity
            subtract_from_variable = { shipping_capacity_use = shipping_use@var:r_type }

            set_variable = { shipping_use@var:r_type = offers@var:r_type }
            if = {
                limit = {
                    check_variable = { shipping_use@var:r_type < 0 }
                }
                multiply_variable = { shipping_use@var:r_type = -1 }
            }
            multiply_variable = { shipping_use@var:r_type = global.shipping_cost@var:r_type }
            set_temp_variable = { modifier_temp = modifier@shipping_cost_modifier }
            add_to_temp_variable = { modifier_temp = 1 }
            multiply_variable = { shipping_use@var:r_type = modifier_temp }

            add_to_variable = { shipping_capacity_use = shipping_use@var:r_type }

            #Shipping Efficiency
            if = {
                limit = {
                    check_variable = { shipping_capacity_use > shipping_capacity }
                }
                set_variable = { shipping_efficiency = shipping_capacity }
                divide_variable = { shipping_efficiency = shipping_capacity_use }
            }
            else = {
                set_variable = { shipping_efficiency = 1 }
            }
        #

        # Actual Trade
            set_variable = { trade@var:r_type = offers@var:r_type }

            if = {
                limit = {
                    check_variable = { offers@var:r_type > 0 } # Importing
                    check_variable = { available_imports@var:r_type < available_exports@var:r_type } # Not enough countries to buy from
                }
                set_temp_variable = { trade_portion_temp = available_imports@var:r_type }
                divide_temp_variable = { trade_portion_temp = available_exports@var:r_type }
                multiply_variable = { trade@var:r_type = trade_portion_temp }
            }
            else_if = {
                limit = {
                    check_variable = { offers@var:r_type < 0 } # Exporting
                    check_variable = { available_exports@var:r_type < available_imports@var:r_type } # Not enough countries to sell to
                }
                set_temp_variable = { trade_portion_temp = available_exports@var:r_type }
                divide_temp_variable = { trade_portion_temp = available_imports@var:r_type }
                multiply_variable = { trade@var:r_type = trade_portion_temp }
            }

            multiply_variable = { trade@var:r_type = shipping_efficiency }
        #

        # Supply & Demand
            if = {
                limit = {
                    is_in_array = { global.resource_token_array = r_type }
                }
                set_variable = { supply@var:r_type = production@var:r_type }
                set_variable = { demand@var:r_type = need@var:r_type }

                if = {
                    limit = {
                        check_variable = { trade@var:r_type < 0 }
                    }
                    subtract_from_variable = { demand@var:r_type = trade@var:r_type }
                }
                else = {
                    add_to_variable = { supply@var:r_type = trade@var:r_type }
                }

                set_temp_variable = { supply_ratio = supply@var:r_type }
                if = {
                    limit = {
                        check_variable = { demand@var:r_type > 0 }
                    }
                    divide_temp_variable = { supply_ratio = demand@var:r_type }
                }
                every_controlled_state = {
                    set_variable = { supply@var:r_type = demand@var:r_type }
                    multiply_variable = { supply@var:r_type = supply_ratio }

                    set_variable = { balance@var:r_type = supply@var:r_type }
                    subtract_from_variable = { balance@var:r_type = demand@var:r_type }
                }

                set_variable = { balance@var:r_type = supply@var:r_type }
                subtract_from_variable = { balance@var:r_type = demand@var:r_type }

                get_resource_price = yes
            }
            else = {
                calc_military_resource = yes
            }
        #

        #Trade Value & Tariffs
            if = {
                limit = {
                    NOT = { check_variable = { trade@var:r_type = 0 } }
                }
                #Value
                set_variable = { trade_value@var:r_type = trade@var:r_type }
                multiply_variable = { trade_value@var:r_type = trade_price@var:r_type }

                #Tariffs
                if = { #Import
                    limit = {
                        check_variable = { trade@var:r_type > 0 }
                    }
                    set_variable = { trade_tariffs@var:r_type = import_tariff_percentage }
                    subtract_from_variable = { trade_tariffs@var:r_type = import_subsidy_percentage }
                }
                else = { #Export
                    set_variable = { trade_tariffs@var:r_type = export_tariff_percentage }
                    subtract_from_variable = { trade_tariffs@var:r_type = export_subsidy_percentage }
                }
                divide_variable = { trade_tariffs@var:r_type = 100 }
                multiply_variable = { trade_tariffs@var:r_type = trade_value@var:r_type }
            }
            else = {
                set_variable = { trade_value@var:r_type = 0 }
                set_variable = { trade_tariffs@var:r_type = 0 }
            }

            #Productivity
            #	Productivity = ( revenue - goods cost - tariffs - shipping cost ) / employee
            if = { #Import
                limit = {
                    check_variable = { offers@var:r_type > 0 }
                }
                set_variable = { trade_productivity@var:r_type = price@var:r_type }
                subtract_from_variable = { trade_productivity@var:r_type = trade_price@var:r_type }

                set_temp_variable = { tr_tariffs_temp = import_tariff_percentage }
                subtract_from_temp_variable = { tr_tariffs_temp = import_subsidy_percentage }
                divide_temp_variable = { tr_tariffs_temp = 100 }
                multiply_temp_variable = { tr_tariffs_temp = trade_price@var:r_type }

                subtract_from_variable = { trade_productivity@var:r_type = tr_tariffs_temp }
            }
            else = { #Export
                set_temp_variable = { tr_rev_temp = trade_price@var:r_type }

                set_temp_variable = { tr_goods_cost_temp = price@var:r_type }

                set_temp_variable = { tr_tariffs_temp = export_tariff_percentage }
                subtract_from_temp_variable = { tr_tariffs_temp = export_subsidy_percentage }
                divide_temp_variable = { tr_tariffs_temp = 100 }
                multiply_temp_variable = { tr_tariffs_temp = trade_price@var:r_type }

                set_variable = { trade_productivity@var:r_type = tr_rev_temp }
                subtract_from_variable = { trade_productivity@var:r_type = tr_goods_cost_temp }
                subtract_from_variable = { trade_productivity@var:r_type = tr_tariffs_temp }
            }
            multiply_variable = { trade_productivity@var:r_type = global.shipping_amount@var:r_type }
        #
    }
    available_trade_update = {
        for_each_loop = {
            array = global.resource_token_array
            value = r_type
            set_variable = { available_exports@var:r_type = 0 }
            set_variable = { available_imports@var:r_type = 0 }

            set_temp_variable = { offers_temp = offers@var:r_type }
            multiply_temp_variable = { offers_temp = shipping_efficiency }

            if = { # This country is importing
                limit = {
                    check_variable = { offers@var:r_type > 0 }
                }
                add_to_variable = { available_exports@var:r_type = offers_temp }
            }
            else = { # This country is exporting
                subtract_from_variable = { available_imports@var:r_type = offers_temp }
            }
        }
        for_each_loop = {
            array = global.military_resource_token_array
            value = r_type
            set_variable = { available_exports@var:r_type = 0 }
            set_variable = { available_imports@var:r_type = 0 }

            set_temp_variable = { offers_temp = offers@var:r_type }
            multiply_temp_variable = { offers_temp = shipping_efficiency }

            if = { # This country is importing
                limit = {
                    check_variable = { offers@var:r_type > 0 }
                }
                add_to_variable = { available_exports@var:r_type = offers_temp }
            }
            else = { # This country is exporting
                subtract_from_variable = { available_imports@var:r_type = offers_temp }
            }
        }

        set_temp_variable = { country_temp = THIS }
        every_other_country = {
            limit = {
                can_trade_with = yes
            }
            for_each_loop = {
                array = global.resource_token_array
                value = r_type
                set_temp_variable = { offers_temp = offers@var:r_type }
                multiply_temp_variable = { offers_temp = shipping_efficiency }

                if = { # This country is importing
                    limit = {
                        check_variable = { offers@var:r_type > 0 }
                    }
                    add_to_variable = { PREV.available_exports@var:r_type = offers_temp }
                }
                else = { # This country is exporting
                    subtract_from_variable = { PREV.available_imports@var:r_type = offers_temp }
                }
            }
            for_each_loop = {
                array = global.military_resource_token_array
                value = r_type
                set_temp_variable = { offers_temp = offers@var:r_type }
                multiply_temp_variable = { offers_temp = shipping_efficiency }

                if = { # This country is importing
                    limit = {
                        check_variable = { offers@var:r_type > 0 }
                    }
                    add_to_variable = { PREV.available_exports@var:r_type = offers_temp }
                }
                else = { # This country is exporting
                    subtract_from_variable = { PREV.available_imports@var:r_type = offers_temp }
                }
            }
        }

        for_each_loop = {
            array = global.resource_token_array
            value = r_type

            set_temp_variable = { s_temp = available_imports@var:r_type }
            set_temp_variable = { d_temp = available_exports@var:r_type }
            get_price = yes
            set_variable = { trade_price@var:r_type = p_return_temp }
        }
    }
    available_trade_update_resource = {
        # r_type

        set_variable = { available_exports@var:r_type = 0 }
        set_variable = { available_imports@var:r_type = 0 }

        set_temp_variable = { offers_temp = offers@var:r_type }
        multiply_temp_variable = { offers_temp = shipping_efficiency }

        if = { # This country is importing
            limit = {
                check_variable = { offers@var:r_type > 0 }
            }
            add_to_variable = { available_exports@var:r_type = offers_temp }
        }
        else = { # This country is exporting
            subtract_from_variable = { available_imports@var:r_type = offers_temp }
        }

        set_temp_variable = { country_temp = THIS }
        every_other_country = {
            limit = {
                can_trade_with = yes
            }
            set_temp_variable = { offers_temp = offers@var:r_type }
            multiply_temp_variable = { offers_temp = shipping_efficiency }

            if = { # This country is importing
                limit = {
                    check_variable = { offers@var:r_type > 0 }
                }
                add_to_variable = { PREV.available_exports@var:r_type = offers_temp }
            }
            else = { # This country is exporting
                subtract_from_variable = { PREV.available_imports@var:r_type = offers_temp }
            }
        }

        set_temp_variable = { s_temp = available_imports@var:r_type }
        set_temp_variable = { d_temp = available_exports@var:r_type }
        get_price = yes
        set_variable = { trade_price@var:r_type = p_return_temp }
    }

	set_trade_route = {
		#Sets a trade route to a specific size
		# USE ON STARTUP ONLY
		# DOES NOT CALCULATE TRADE ROUTE SUPPLY/VALUE

		# resource_temp - resource token
		# country_temp - country to trade with
		# trade_type_temp - 1 = Import, -1 = Export
		# size_temp

		if = {
			limit = {
                can_establish_new_route_with = yes
			}
			add_to_array = { trade_route_country = country_temp }
			add_to_array = { trade_route_resource = resource_temp }
			add_to_array = { trade_route_size = size_temp }
			add_to_array = { trade_route_type = trade_type_temp }
            add_to_array = { trade_route_amount = 0 }
            add_to_array = { trade_route_value = 0 }
            add_to_array = { trade_route_shipping_use = 0 }
            add_to_array = { trade_route_tariffs = 0 }
            add_to_array = { trade_route_productivity = 0 }

			var:country_temp = {
				add_to_array = { foreign_route_country = PREV }
				add_to_array = { foreign_route_resource = resource_temp }
				add_to_array = { foreign_route_size = size_temp }
                add_to_array = { foreign_route_amount = 0 }
                add_to_array = { foreign_route_value = 0 }
                add_to_array = { foreign_route_shipping_use = 0 }
                add_to_array = { foreign_route_tariffs = 0 }
                add_to_array = { foreign_route_productivity = 0 }
				set_temp_variable = { tt_t = trade_type_temp }
				multiply_temp_variable = { tt_t = -1 }
				add_to_array = { foreign_route_type = tt_t }
			}
		}
	}

    calc_trade_route = {
        # NOTE: This assumes that correct data has been inputted. This is for performance reasons so DO NOT INPUT A BAD VALUE.

        # Calculates the proper values for a specific trade route and updates the foreign trade route of the foreign country
        # NEEDED: all the proper arrays for this country & foreign country
		# resource_temp - resource token
		# country_temp - country being traded with
		# trade_type_temp - 1 = Import, -1 = Export

        set_temp_variable = { tri_temp = 0 }

        for_each_loop = {
            array = trade_route_country
            value = tr_country
            index = tr_i
            break = tr_b

            if = {
                limit = {
                    check_variable = { tr_country = country_temp }
                    check_variable = { trade_route_resource^tr_i = resource_temp }
                    check_variable = { trade_route_type^tr_i = trade_type_temp }
                }

                set_temp_variable = { tri_temp = tr_i }
                set_temp_variable = { tr_b = 1 }
            }
        }
        if = {
            limit = {
                check_variable = { tri_temp > 0 }
            }
            set_temp_variable = { i_temp = tr_i }
            calc_trade_route_at_index = yes
        }
    }
    calc_trade_route_at_index = {
        # Calculates the proper values for a specific trade route and updates the foreign trade route of the foreign country
        # NEEDED: all the proper arrays for this country & foreign country
		# i_temp - index within the trade route array

		set_temp_variable = { tr_country = trade_route_country^i_temp }
		set_temp_variable = { tr_resource = trade_route_resource^i_temp }
		set_temp_variable = { tr_type = trade_route_type^i_temp }

        #Shipping Use & Efficiency
            subtract_from_variable = { shipping_capacity_use = trade_route_shipping_use^i_temp }

            if = {
                limit = {
                    is_in_array = { neighbors = tr_country }
                }
                set_variable = { trade_route_shipping_use^i_temp = 0 }
            }
            else = {
                set_variable = { trade_route_shipping_use^i_temp = trade_route_size^i_temp }
                multiply_variable = { trade_route_shipping_use^i_temp = global.shipping_cost@var:tr_resource }

                set_temp_variable = { exporter_capital = tr_country:capital }
                var:exporter_capital = {
                    set_variable = { PREV.shipping_distance = distance_to@PREV.capital } #This needs to be a normal variable
                }
                divide_variable = { shipping_distance = global.base_shipping_cost_divisor }
                set_temp_variable = { modifier_temp = modifier@shipping_cost_modifier }
                add_to_temp_variable = { modifier_temp = 1 }
                multiply_variable = { shipping_distance = modifier_temp }

                multiply_variable = { trade_route_shipping_use^i_temp = shipping_distance }
            }
		    clear_variable = shipping_distance

            #Shipping Efficiency
            add_to_variable = { shipping_capacity_use = trade_route_shipping_use^i_temp }
            if = {
                limit = {
                    check_variable = { shipping_capacity_use > shipping_capacity }
                }
                set_variable = { shipping_efficiency = shipping_capacity }
                divide_variable = { shipping_efficiency = shipping_capacity_use }
            }
            else = {
                set_variable = { shipping_efficiency = 1 }
            }
        #

        #Supply Readjust
			if = {
				limit = {
					check_variable = { trade_route_amount^i_temp > 0 }
				}
				subtract_from_variable = { supply_national_trade@var:tr_resource = trade_route_amount^i_temp }
			    subtract_from_variable = { supply_trade@var:tr_resource = trade_route_amount^i_temp }
			    subtract_from_variable = { supply@var:tr_resource = trade_route_amount^i_temp }
			}
			else = {
				add_to_variable = { demand_national_trade@var:tr_resource = trade_route_amount^i_temp }
			    add_to_variable = { demand_trade@var:tr_resource = trade_route_amount^i_temp }
			    add_to_variable = { demand@var:tr_resource = trade_route_amount^i_temp }
			}
        #

        #Amount
			set_variable = { trade_route_amount^i_temp = trade_route_size^i_temp }
			multiply_variable = { trade_route_amount^i_temp = global.shipping_amount@var:tr_resource }
			multiply_variable = { trade_route_amount^i_temp = trade_route_type^i_temp }
            multiply_variable = { trade_route_amount^i_temp = shipping_efficiency }

            if = {
                limit = {
                    is_in_array = { global.resource_token_array = tr_resource }
                }
                set_temp_variable = { tr_eff = trade_route_size^i_temp }
                divide_temp_variable = { tr_eff = 100 }
                add_to_temp_variable = { tr_eff = 0.99 }
                multiply_variable = { trade_route_amount^i_temp = tr_eff }
            }
        #

        #Supply
			if = {
				limit = {
					check_variable = { trade_route_amount^i_temp > 0 }
				}
				add_to_variable = { supply_national_trade@var:tr_resource = trade_route_amount^i_temp }
			    add_to_variable = { supply_trade@var:tr_resource = trade_route_amount^i_temp }
			    add_to_variable = { supply@var:tr_resource = trade_route_amount^i_temp }
			}
			else = {
				subtract_from_variable = { demand_national_trade@var:tr_resource = trade_route_amount^i_temp }
			    subtract_from_variable = { demand_trade@var:tr_resource = trade_route_amount^i_temp }
			    subtract_from_variable = { demand@var:tr_resource = trade_route_amount^i_temp }
			}

			set_variable = { balance@var:tr_resource = supply@var:tr_resource }
			subtract_from_variable = { balance@var:tr_resource = demand@var:tr_resource }
            set_variable = { trade@var:tr_resource = supply_trade@var:tr_resource }
            subtract_from_variable = { trade@var:tr_resource = demand_trade@var:tr_resource }
        #

        #Prices
            set_temp_variable = { r_type = tr_resource }
            if = {
                limit = {
                    is_in_array = { global.resource_token_array = tr_resource }
                }
                get_resource_price = yes
            }
            else = {
                calc_military_resource = yes
            }
        #

        # Foreign Route Supply & Foreign Country Price
            var:tr_country = {
                for_each_loop = {
                    array = foreign_route_country
                    value = fr_country
                    index = fr_i
                    break = fr_b

                    if = {
                        limit = {
                            check_variable = { fr_country = PREV }
                            check_variable = { foreign_route_resource^fr_i = tr_resource }
                            NOT = { check_variable = { foreign_route_type^fr_i = tr_type } }
                        }

                        set_temp_variable = { fr_b = 1 }
                    }
                }

                if = {
                    limit = {
                        check_variable = { fr_b = 1 }
                    }

                    #Supply Readjust
                    if = {
                        limit = {
                            check_variable = { foreign_route_amount^fr_i > 0 }
                        }
                        subtract_from_variable = { supply_foreign_trade@var:tr_resource = foreign_route_amount^fr_i }
                        subtract_from_variable = { supply_trade@var:tr_resource = foreign_route_amount^fr_i }
                        subtract_from_variable = { supply@var:tr_resource = foreign_route_amount^fr_i }
                    }
                    else = {
                        add_to_variable = { demand_foreign_trade@var:tr_resource = foreign_route_amount^fr_i }
                        add_to_variable = { demand_trade@var:tr_resource = foreign_route_amount^fr_i }
                        add_to_variable = { demand@var:tr_resource = foreign_route_amount^fr_i }
                    }

                    #Amount, Size, Shipping Use
                    set_variable = { foreign_route_amount^fr_i = PREV.trade_route_amount^i_temp }
                    set_variable = { foreign_route_shipping_use^fr_i = PREV.trade_route_shipping_use^i_temp }

                    multiply_variable = { foreign_route_amount^fr_i = -1 }
                    set_variable = { foreign_route_size^fr_i = PREV.trade_route_size^i_temp}

                    #Supply
                    if = {
                        limit = {
                            check_variable = { foreign_route_amount^fr_i > 0 }
                        }
                        add_to_variable = { supply_foreign_trade@var:tr_resource = foreign_route_amount^fr_i }
                        add_to_variable = { supply_trade@var:tr_resource = foreign_route_amount^fr_i }
                        add_to_variable = { supply@var:tr_resource = foreign_route_amount^fr_i }
                    }
                    else = {
                        subtract_from_variable = { demand_foreign_trade@var:tr_resource = foreign_route_amount^fr_i }
                        subtract_from_variable = { demand_trade@var:tr_resource = foreign_route_amount^fr_i }
                        subtract_from_variable = { demand@var:tr_resource = foreign_route_amount^fr_i }
                    }

                    set_variable = { balance@var:tr_resource = supply@var:tr_resource }
                    subtract_from_variable = { balance@var:tr_resource = demand@var:tr_resource }
                    set_variable = { trade@var:tr_resource = supply_trade@var:tr_resource }
                    subtract_from_variable = { trade@var:tr_resource = demand_trade@var:tr_resource }

                    #Prices
                    set_temp_variable = { r_type = tr_resource }
                    if = {
                        limit = {
                            is_in_array = { global.resource_token_array = tr_resource }
                        }
                        get_resource_price = yes
                    }
                    else = {
                        calc_military_resource = yes
                    }
                }
            }
        #

        #Trade Value & Tariffs
			#Value
			set_variable = { trade_route_value^i_temp = trade_route_amount^i_temp }
			if = { #Import
				limit = {
					check_variable = { trade_route_type^i_temp = 1 }
				}
				multiply_variable = { trade_route_value^i_temp = price@var:tr_resource }
			}
			else = { #Export
				multiply_variable = { trade_route_value^i_temp = tr_country:price@var:tr_resource }
			}

			#Tariffs
			set_variable = { trade_route_tariffs^i_temp = trade_route_value^i_temp }
			if = { #Import
				limit = {
					check_variable = { trade_route_type^i_temp = 1 }
				}
				multiply_variable = { trade_route_tariffs^i_temp = tariffs }
			}
			else = { #Export
				multiply_variable = { trade_route_tariffs^i_temp = tr_country:tariffs }
			}

			#Productivity
			#	Productivity = ( revenue - goods cost - tariffs - shipping cost ) / size
			if = { #Import
				limit = {
					check_variable = { trade_route_type^i_temp = 1 }
				}

				set_temp_variable = { tr_rev_temp = price@var:tr_resource }
				multiply_temp_variable = { tr_rev_temp = trade_route_amount^i_temp }

				set_temp_variable = { tr_goods_cost_temp = tr_country:price@var:tr_resource }
				multiply_temp_variable = { tr_goods_cost_temp = trade_route_amount^i_temp }

				set_temp_variable = { tr_tariffs_temp = tariffs }
				multiply_temp_variable = { tr_tariffs_temp = tr_goods_cost_temp }
			}
			else = { #Export
				set_temp_variable = { tr_rev_temp = tr_country:price@var:tr_resource }
				multiply_temp_variable = { tr_rev_temp = trade_route_amount^i_temp }
				multiply_temp_variable = { tr_rev_temp = -1 }

				set_temp_variable = { tr_goods_cost_temp = price@var:tr_resource }
				multiply_temp_variable = { tr_goods_cost_temp = trade_route_amount^i_temp }
				multiply_temp_variable = { tr_goods_cost_temp = -1 }

				set_temp_variable = { tr_tariffs_temp = tr_country:tariffs }
				multiply_temp_variable = { tr_tariffs_temp = tr_goods_cost_temp }
			}

			set_variable = { trade_route_productivity^i_temp = tr_rev_temp }
			subtract_from_variable = { trade_route_productivity^i_temp = tr_goods_cost_temp }
			subtract_from_variable = { trade_route_productivity^i_temp = tr_tariffs_temp }
			multiply_variable = { trade_route_productivity^i_temp = 10 }
			divide_variable = { trade_route_productivity^i_temp = trade_route_size^i_temp }
        #

        # Foreign Route Values
            set_variable = { tr_country:foreign_route_value^fr_i = trade_route_value^i_temp }
            multiply_variable = { tr_country:foreign_route_value^fr_i = -1 }

            set_variable = { tr_country:foreign_route_tariffs^fr_i = trade_route_tariffs^i_temp }
            set_variable = { tr_country:foreign_route_productivity^fr_i = trade_route_productivity^i_temp }
        #
    }
	calc_trade_routes = {
        clear_temp_array = tr_countries_temp
        for_each_loop = {
            array = trade_route_country
			value = tr_country
            if = {
                limit = {
                    NOT = { is_in_array = { tr_countries_temp = tr_country } }
                }
                add_to_temp_array = { tr_countries_temp = tr_country }
            }
        }

        #Update trade routes
        calc_trade_routes_supply = yes

        for_each_loop = {
            array = tr_countries_temp
			value = tr_country
            var:tr_country = {
                calc_foreign_routes_supply = yes
            }
        }

        calc_trade_routes_value = yes

        for_each_loop = {
            array = tr_countries_temp
			value = tr_country
            var:tr_country = {
                calc_foreign_routes_value = yes
            }
        }
	}
	calc_trade_routes_supply = {
		#Calculates all proper arrays of international trade routes
		#NOTE: Do calc_trade_routes_value after this & calculating foreign trade supply

		set_variable = { shipping_capacity_use = 0 }

		clear_array = trade_route_amount
		clear_array = trade_route_value
		clear_array = trade_route_shipping_use
		clear_array = trade_route_tariffs
		clear_array = trade_route_productivity

		#Shipping Usage
		for_each_loop = {
			array = trade_route_country
			value = tr_country
			index = tr_i

			set_temp_variable = { tr_resource = trade_route_resource^tr_i }

			#Shipping Use
			if = {
				limit = {
					is_in_array = { neighbors = tr_country }
				}
				add_to_array = { trade_route_shipping_use = 0 }
			}
			else = {
				add_to_array = { trade_route_shipping_use = trade_route_size^tr_i }
				multiply_variable = { trade_route_shipping_use^tr_i = global.shipping_cost@var:tr_resource }

				set_temp_variable = { exporter_capital = tr_country:capital }
				var:exporter_capital = {
					set_variable = { PREV.shipping_distance = distance_to@PREV.capital } #This needs to be a normal variable
				}
				divide_variable = { shipping_distance = global.base_shipping_cost_divisor }
				set_temp_variable = { modifier_temp = modifier@shipping_cost_modifier }
				add_to_temp_variable = { modifier_temp = 1 }
				multiply_variable = { shipping_distance = modifier_temp }

				multiply_variable = { trade_route_shipping_use^tr_i = shipping_distance }
			}


			add_to_variable = { shipping_capacity_use = trade_route_shipping_use^tr_i }
		}
		clear_variable = shipping_distance

        if = {
            limit = {
                check_variable = { shipping_capacity_use > shipping_capacity }
            }
            set_variable = { shipping_efficiency = shipping_capacity }
            divide_variable = { shipping_efficiency = shipping_capacity_use }
        }
        else = {
            set_variable = { shipping_efficiency = 1 }
        }

		#Amount
		for_each_loop = {
			array = trade_route_country
			value = tr_country
			index = tr_i

			set_temp_variable = { tr_resource = trade_route_resource^tr_i }

			#Amount
			add_to_array = { trade_route_amount = trade_route_size^tr_i }
			multiply_variable = { trade_route_amount^tr_i = global.shipping_amount@var:tr_resource }
			multiply_variable = { trade_route_amount^tr_i = trade_route_type^tr_i }
            multiply_variable = { trade_route_amount^tr_i = shipping_efficiency }

            if = {
                limit = {
                    is_in_array = { global.resource_token_array = tr_resource }
                }
                set_temp_variable = { tr_eff = trade_route_size^tr_i }
                divide_temp_variable = { tr_eff = 100 }
                add_to_temp_variable = { tr_eff = 0.99 }
                multiply_variable = { trade_route_amount^tr_i = tr_eff }
            }
		}

		#Supply
		for_each_loop = {
			array = global.resource_token_array
			value = ts_resource

			set_variable = { supply_national_trade@var:ts_resource = 0 }
			set_variable = { demand_national_trade@var:ts_resource = 0 }
		}
		for_each_loop = {
			array = global.military_resource_token_array
			value = ts_resource

			set_variable = { supply_national_trade@var:ts_resource = 0 }
			set_variable = { demand_national_trade@var:ts_resource = 0 }
		}
		for_each_loop = {
			array = trade_route_amount
			value = tr_a
			index = tr_i

			set_temp_variable = { tr_resource = trade_route_resource^tr_i }
			if = {
				limit = {
					check_variable = { tr_a > 0 }
				}
				add_to_variable = { supply_national_trade@var:tr_resource = tr_a }
			}
			else = {
				subtract_from_variable = { demand_national_trade@var:tr_resource = tr_a }
			}
		}
		for_each_loop = {
			array = global.resource_token_array
			value = ts_resource

			subtract_from_variable = { supply@var:ts_resource = supply_trade@var:ts_resource }
			subtract_from_variable = { demand@var:ts_resource = demand_trade@var:ts_resource }
			subtract_from_variable = { balance@var:ts_resource = supply_trade@var:ts_resource }
			add_to_variable = { balance@var:ts_resource = demand_trade@var:ts_resource }

			set_variable = { supply_trade@var:ts_resource = supply_national_trade@var:ts_resource }
			add_to_variable = { supply_trade@var:ts_resource = supply_foreign_trade@var:ts_resource }
			set_variable = { demand_trade@var:ts_resource = demand_national_trade@var:ts_resource }
			add_to_variable = { demand_trade@var:ts_resource = demand_foreign_trade@var:ts_resource }

			add_to_variable = { supply@var:ts_resource = supply_trade@var:ts_resource }
			add_to_variable = { demand@var:ts_resource = demand_trade@var:ts_resource }
			add_to_variable = { balance@var:ts_resource = supply_trade@var:ts_resource }
			subtract_from_variable = { balance@var:ts_resource = demand_trade@var:ts_resource }
		}

		#Prices
		get_resource_prices = yes

        calc_military_resources = yes
	}
	calc_trade_routes_value = {
		#Calculates all proper arrays of international trade routes
		#NOTE: Do this after calc_trade_routes_supply & calculating foreign trade supply

		#Trade Value & Tariffs
		for_each_loop = {
			array = trade_route_country
			value = tr_country
			index = tr_i

			set_temp_variable = { tr_resource = trade_route_resource^tr_i }

			#Value
			add_to_array = { trade_route_value = trade_route_amount^tr_i }
			if = { #Import
				limit = {
					check_variable = { trade_route_type^tr_i = 1 }
				}
				multiply_variable = { trade_route_value^tr_i = price@var:tr_resource }
			}
			else = { #Export
				multiply_variable = { trade_route_value^tr_i = tr_country:price@var:tr_resource }
			}

			#Tariffs
			add_to_array = { trade_route_tariffs = trade_route_value^tr_i }
			if = { #Import
				limit = {
					check_variable = { trade_route_type^tr_i = 1 }
				}
				multiply_variable = { trade_route_tariffs^tr_i = tariffs }
			}
			else = { #Export
				multiply_variable = { trade_route_tariffs^tr_i = tr_country:tariffs }
			}

			#Productivity
			#	Productivity = ( revenue - goods cost - tariffs - shipping cost ) / size
			if = { #Import
				limit = {
					check_variable = { trade_route_type^tr_i = 1 }
				}

				set_temp_variable = { tr_rev_temp = price@var:tr_resource }
				multiply_temp_variable = { tr_rev_temp = trade_route_amount^tr_i }

				set_temp_variable = { tr_goods_cost_temp = tr_country:price@var:tr_resource }
				multiply_temp_variable = { tr_goods_cost_temp = trade_route_amount^tr_i }

				set_temp_variable = { tr_tariffs_temp = tariffs }
				multiply_temp_variable = { tr_tariffs_temp = tr_goods_cost_temp }
			}
			else = { #Export
				set_temp_variable = { tr_rev_temp = tr_country:price@var:tr_resource }
				multiply_temp_variable = { tr_rev_temp = trade_route_amount^tr_i }
				multiply_temp_variable = { tr_rev_temp = -1 }

				set_temp_variable = { tr_goods_cost_temp = price@var:tr_resource }
				multiply_temp_variable = { tr_goods_cost_temp = trade_route_amount^tr_i }
				multiply_temp_variable = { tr_goods_cost_temp = -1 }

				set_temp_variable = { tr_tariffs_temp = tr_country:tariffs }
				multiply_temp_variable = { tr_tariffs_temp = tr_goods_cost_temp }
			}

			add_to_array = { trade_route_productivity = tr_rev_temp }
			subtract_from_variable = { trade_route_productivity^tr_i = tr_goods_cost_temp }
			subtract_from_variable = { trade_route_productivity^tr_i = tr_tariffs_temp }
			multiply_variable = { trade_route_productivity^tr_i = 10 }
			divide_variable = { trade_route_productivity^tr_i = trade_route_size^tr_i }
		}

        calc_trade_route_totals = yes
	}
	calc_foreign_routes_supply = {
		#Calculates all proper arrays of foreign trade routes
		clear_array = foreign_route_amount
		clear_array = foreign_route_value
		clear_array = foreign_route_shipping_use
		clear_array = foreign_route_tariffs
		clear_array = foreign_route_productivity


		#Amount
		for_each_loop = {
			array = foreign_route_country
			value = tr_country
			index = tr_i

			for_each_loop = {
				array = tr_country:trade_route_country
				value = ctr_country
				index = ctr_i
				break = ctr_b

				if = {
					limit = {
						check_variable = { ctr_country = THIS }
						check_variable = { tr_country:trade_route_resource^ctr_i = foreign_route_resource^tr_i }
						NOT = { check_variable = { tr_country:trade_route_type^ctr_i = foreign_route_type^tr_i } }
					}
					add_to_array = { foreign_route_amount = tr_country:trade_route_amount^ctr_i }
					add_to_array = { foreign_route_shipping_use = tr_country:trade_route_shipping_use^ctr_i }

					multiply_variable = { foreign_route_amount^tr_i = -1 }
					set_variable = { foreign_route_size^tr_i = tr_country:trade_route_size^ctr_i}

					set_temp_variable = { ctr_b = 1 }
				}
			}
		}

		#Supply
		for_each_loop = {
			array = global.resource_token_array
			value = ts_resource

			set_variable = { supply_foreign_trade@var:ts_resource = 0 }
			set_variable = { demand_foreign_trade@var:ts_resource = 0 }
		}
		for_each_loop = {
			array = global.military_resource_token_array
			value = ts_resource

			set_variable = { supply_foreign_trade@var:ts_resource = 0 }
			set_variable = { demand_foreign_trade@var:ts_resource = 0 }
		}
		for_each_loop = {
			array = foreign_route_amount
			value = tr_a
			index = tr_i

			set_temp_variable = { tr_resource = foreign_route_resource^tr_i }
			if = {
				limit = {
					check_variable = { tr_a > 0 }
				}
				add_to_variable = { supply_foreign_trade@var:tr_resource = tr_a }
			}
			else = {
				subtract_from_variable = { demand_foreign_trade@var:tr_resource = tr_a }
			}
		}
		for_each_loop = {
			array = global.resource_token_array
			value = ts_resource

			subtract_from_variable = { supply@var:ts_resource = supply_trade@var:ts_resource }
			subtract_from_variable = { demand@var:ts_resource = demand_trade@var:ts_resource }

			set_variable = { supply_trade@var:ts_resource = supply_national_trade@var:ts_resource }
			add_to_variable = { supply_trade@var:ts_resource = supply_foreign_trade@var:ts_resource }
			set_variable = { demand_trade@var:ts_resource = demand_national_trade@var:ts_resource }
			add_to_variable = { demand_trade@var:ts_resource = demand_foreign_trade@var:ts_resource }

			add_to_variable = { supply@var:ts_resource = supply_trade@var:ts_resource }
			add_to_variable = { demand@var:ts_resource = demand_trade@var:ts_resource }
		}

		#Prices
		get_resource_prices = yes

        calc_military_resources = yes
	}
	calc_foreign_routes_value = {
		#Calculates all proper arrays of foreign trade routes

		#Trade Value & Tariffs
		for_each_loop = {
			array = foreign_route_country
			value = tr_country
			index = tr_i

			for_each_loop = {
				array = tr_country:trade_route_country
				value = ctr_country
				index = ctr_i
				break = ctr_b

				if = {
					limit = {
						check_variable = { ctr_country = THIS }
						check_variable = { tr_country:trade_route_resource^ctr_i = foreign_route_resource^tr_i }
						NOT = { check_variable = { tr_country:trade_route_type^ctr_i = foreign_route_type^tr_i } }
					}
					add_to_array = { foreign_route_value = tr_country:trade_route_value^ctr_i }
					add_to_array = { foreign_route_tariffs = tr_country:trade_route_tariffs^ctr_i }
					add_to_array = { foreign_route_productivity = tr_country:trade_route_productivity^ctr_i }

					multiply_variable = { foreign_route_value^tr_i = -1 }

					set_temp_variable = { ctr_b = 1 }
				}
			}
		}

        calc_trade_route_totals = yes
	}
	verify_trade_routes = {
		set_temp_variable = { tr_i = trade_route_country^num }
		subtract_from_temp_variable = { tr_i = 1 }
		while_loop_effect = {
			limit = {
				check_variable = { tr_i > -1 }
			}

			set_temp_variable = { tr_resource = trade_route_resource^i_temp }
			set_temp_variable = { tr_country = trade_route_country^i_temp }

			if = {
				limit = {
                    set_temp_variable = { country_temp = tr_country }
                    NOT = { can_trade_with = yes }
				}

				remove_from_array = { array = trade_route_country index = i_temp }
				remove_from_array = { array = trade_route_size index = i_temp }
				remove_from_array = { array = trade_route_resource index = i_temp }
				remove_from_array = { array = trade_route_type index = i_temp }
			}

			subtract_from_temp_variable = { tr_i = 1 }
		}
	}
	verify_foreign_routes = {
		set_temp_variable = { tr_i = foreign_route_country^num }
		subtract_from_temp_variable = { tr_i = 1 }
		while_loop_effect = {
			limit = {
				check_variable = { tr_i > -1 }
			}

			set_temp_variable = { tr_c = foreign_route_country^tr_i }
			set_temp_variable = { tr_r = foreign_route_resource^tr_i }
			set_temp_variable = { tr_t = foreign_route_type^tr_i }
			multiply_temp_variable = { tr_t = -1 }

			if = {
				limit = {
                    set_temp_variable = { country_temp = tr_c }
                    NOT = { can_trade_with = yes }
				}

				remove_from_array = { array = foreign_route_country index = tr_i }
				remove_from_array = { array = foreign_route_size index = tr_i }
				remove_from_array = { array = foreign_route_resource index = tr_i }
				remove_from_array = { array = foreign_route_type index = tr_i }
			}
			else_if = {
				limit = {
					NOT = {
						any_of = {
							array = tr_c:trade_route_country
							value = tr_country
							index = tr_index

							check_variable = { tr_country = THIS }
							check_variable = { tr_c:trade_route_resource^tr_index = tr_r }
							check_variable = { tr_c:trade_route_type^tr_index = tr_t }
						}
					}
				}

				remove_from_array = { array = foreign_route_country index = tr_i }
				remove_from_array = { array = foreign_route_size index = tr_i }
				remove_from_array = { array = foreign_route_resource index = tr_i }
				remove_from_array = { array = foreign_route_type index = tr_i }
			}
			subtract_from_temp_variable = { tr_i = 1 }
		}
	}
    calc_trade_route_totals = {
		for_each_loop = {
			array = global.resource_token_array
			value = ts_resource

			set_variable = { trade@var:ts_resource = supply_trade@var:ts_resource }
            subtract_from_variable = { trade@var:ts_resource = demand_trade@var:ts_resource }
		}
		for_each_loop = {
			array = global.military_resource_token_array
			value = ts_resource

			set_variable = { trade@var:ts_resource = supply_trade@var:ts_resource }
            subtract_from_variable = { trade@var:ts_resource = demand_trade@var:ts_resource }
		}
    }

	change_trade_route = {
		# Changes a specific route by X amount.
		# resource_temp - resource token
		# country_temp - country to trade with
		# trade_type_temp - 1 = Import, -1 = Export
		# size_temp - size amount to change it by

        if = {
            limit = {
                has_trade_route_with = yes
            }
            for_each_loop = {
                array = trade_route_country
                value = tr_country
                index = tr_i
                break = tr_b

                if = {
                    limit = {
                        check_variable = { tr_country = country_temp }
                        check_variable = { trade_route_resource^tr_i = resource_temp }
                        check_variable = { trade_route_type^tr_i = trade_type_temp }
                    }

                    set_temp_variable = { i_temp = tr_i }
                    change_trade_route_at_index = yes

                    set_temp_variable = { tr_b = 1 }
                }
            }
        }
		else_if = {
			limit = {
				can_establish_new_route_with = yes
			}
            set_temp_variable = { i_temp = trade_route_country^num }

			add_to_array = { trade_route_country = country_temp }
			add_to_array = { trade_route_resource = resource_temp }
			add_to_array = { trade_route_size = size_temp }
			add_to_array = { trade_route_type = trade_type_temp }
            add_to_array = { trade_route_amount = 0 }
            add_to_array = { trade_route_value = 0 }
            add_to_array = { trade_route_shipping_use = 0 }
            add_to_array = { trade_route_tariffs = 0 }
            add_to_array = { trade_route_productivity = 0 }

			var:country_temp = {
				add_to_array = { foreign_route_country = PREV }
				add_to_array = { foreign_route_resource = resource_temp }
				add_to_array = { foreign_route_size = size_temp }
                add_to_array = { foreign_route_amount = 0 }
                add_to_array = { foreign_route_value = 0 }
                add_to_array = { foreign_route_shipping_use = 0 }
                add_to_array = { foreign_route_tariffs = 0 }
                add_to_array = { foreign_route_productivity = 0 }
				set_temp_variable = { tt_t = trade_type_temp }
				multiply_temp_variable = { tt_t = -1 }
				add_to_array = { foreign_route_type = tt_t }
			}

			calc_trade_route_at_index = yes

            if = {
                limit = {
                    is_ai = no
                }
                country_update_trade_display = yes
            }
		}
	}
	change_trade_route_at_index = {
		# Changes the size of a trade route at an index
		# i_temp - index within the trade route array
		# size_temp - Amount to change it by

        round_temp_variable = size_temp

        if = {
            limit = {
                check_variable = { i_temp > -1 }
                check_variable = { i_temp < trade_route_country^num }
            }
            set_temp_variable = { resource_temp = trade_route_resource^i_temp }
            set_temp_variable = { country_temp = trade_route_country^i_temp }
            set_temp_variable = { trade_type_temp = trade_route_type^i_temp }

            if = { # SIZE_TEMP > 0
                limit = {
                    check_variable = { size_temp > 0 }

                    if = {
                        limit = {
                            is_in_array = { global.military_resource_token_array = resource_temp }
                        }
                        set_temp_variable = { amt_temp = global.shipping_amount@var:resource_temp }
                        multiply_temp_variable = { amt_temp = size_temp }
                        if = {
                            limit = {
                                check_variable = { trade_route_type^i_temp = -1 }
                            }
                            NOT = { check_variable = { supply@var:resource_temp < amt_temp } }
                        }
                        else = {
                            NOT = { check_variable = { country_temp:supply@var:resource_temp < amt_temp } }
                        }
                    }
                    else = {
                        if = {
                            limit = {
                                check_variable = { trade_route_type^i_temp = -1 }
                            }
                            check_variable = { supply@var:resource_temp > 0 }
                        }
                        else = {
                            check_variable = { country_temp:supply@var:resource_temp > 0 }
                        }
                    }
                }

                add_to_variable = { trade_route_size^i_temp = size_temp }
			    calc_trade_route_at_index = yes

                if = {
                    limit = {
                        is_ai = no
                    }
                    country_update_trade_display = yes
                }
            }
            else_if = { # SIZE_TEMP < 0
                limit = {
                    check_variable = { size_temp < 0 }
                }

				add_to_variable = { trade_route_size^i_temp = size_temp }
				clamp_variable = { var = trade_route_size^i_temp min = 0 }
				if = {
					limit = {
						check_variable = { trade_route_size^i_temp = 0 }
					}
					remove_trade_route_at_index = yes
				}
				else = {
			        calc_trade_route_at_index = yes
				}

                if = {
                    limit = {
                        is_ai = no
                    }
                    country_update_trade_display = yes
                }
            }
        }
	}
	add_trade_route = {
		#Adds a country to a country's trade routes
		# resource_temp - resource token
		# country_temp - country to trade with
		# trade_type_temp - 1 = Import, -1 = Export

		set_temp_variable = { size_temp = 1 }
        change_trade_route = yes
		calc_trade_routes = yes
	}
	upgrade_trade_route = {
		# Increases the size of a trade route by 1
		# This WILL add a new trade route if one does not already exist

		# resource_temp - resource token
		# country_temp - country being traded with
		# trade_type_temp - 1 = Import, -1 = Export

		set_temp_variable = { size_temp = 1 }
        change_trade_route = yes
		calc_trade_routes = yes
	}
	upgrade_trade_route_at_index = {
		# Increases the size of a trade route by 1
		# i_temp - index within the trade route array

		custom_effect_tooltip = upgrade_trade_route_at_index_tooltip
        hidden_effect = {
            set_temp_variable = { size_temp = 1 }
            change_trade_route_at_index = yes
		    calc_trade_routes = yes
        }
	}
	upgrade_trade_route_at_index_by_10 = {
		# Increases the size of a trade route by 10
		# i_temp - index within the trade route array

		custom_effect_tooltip = upgrade_trade_route_at_index_by_10_tooltip
        hidden_effect = {
            set_temp_variable = { size_temp = 10 }
            change_trade_route_at_index = yes
		    calc_trade_routes = yes
        }
	}
	upgrade_trade_route_at_index_by_50 = {
		# Increases the size of a trade route by 50
		# i_temp - index within the trade route array

		custom_effect_tooltip = upgrade_trade_route_at_index_by_50_tooltip
        hidden_effect = {
            set_temp_variable = { size_temp = 50 }
            change_trade_route_at_index = yes
		    calc_trade_routes = yes
        }
	}
	downgrade_trade_route = {
		# Decreases the size of a trade route by 1
		# This WILL delete the trade route if size is reduced to zero

		# resource_temp - resource token
		# country_temp - country being traded with
		# trade_type_temp - 1 = Import, -1 = Export

		set_temp_variable = { size_temp = -1 }
        change_trade_route = yes
		calc_trade_routes = yes
	}
	downgrade_trade_route_at_index = {
		# Decrease the size of a trade route by 1
		# This WILL delete the trade route if size is reduced to zero
		# i_temp - index within the trade route array

		custom_effect_tooltip = downgrade_trade_route_at_index_tooltip
        hidden_effect = {
            set_temp_variable = { size_temp = -1 }
            change_trade_route_at_index = yes
		    calc_trade_routes = yes
        }
	}
	downgrade_trade_route_at_index_by_10 = {
		# Decrease the size of a trade route by 10
		# This WILL delete the trade route if size is reduced to zero
		# i_temp - index within the trade route array

		custom_effect_tooltip = upgrade_trade_route_at_index_by_10_tooltip
        hidden_effect = {
            set_temp_variable = { size_temp = -10 }
            change_trade_route_at_index = yes
		    calc_trade_routes = yes
        }
	}
	downgrade_trade_route_at_index_by_50 = {
		# Decrease the size of a trade route by 50
		# This WILL delete the trade route if size is reduced to zero
		# i_temp - index within the trade route array

		custom_effect_tooltip = upgrade_trade_route_at_index_by_50_tooltip
        hidden_effect = {
            set_temp_variable = { size_temp = -50 }
            change_trade_route_at_index = yes
		    calc_trade_routes = yes
        }
	}
	remove_trade_route = {
		# Delete a trade route with a country

		# resource_temp - resource token
		# country_temp - country being traded with
		# trade_type_temp - 1 = Import, -1 = Export

		for_each_loop = {
			array = trade_route_country
			value = tr_country
			index = tr_i
			break = tr_b

			if = {
				limit = {
					check_variable = { tr_country = country_temp }
					check_variable = { trade_route_resource^tr_i = resource_temp }
					check_variable = { trade_route_type^tr_i = trade_type_temp }
				}

				set_temp_variable = { i_temp = tr_i }
				remove_trade_route_at_index = yes

				set_temp_variable = { tr_b = 1 }
			}
		}
	}
	remove_trade_route_at_index = {
		# Delete a trade route with a country

		# i_temp - index within the trade route array
		if = {
			limit = {
				check_variable = { i_temp > -1 }
				check_variable = { i_temp < trade_route_country^num }
			}
            set_variable = { trade_route_size^i_temp = 0 }
			calc_trade_route_at_index = yes

			set_temp_variable = { trc_temp = trade_route_country^i_temp }
			var:trc_temp = {
				for_each_loop = {
					array = foreign_route_country
					value = ftr_country
					index = ftr_i
					break = ftr_b

					if = {
						limit = {
							check_variable = { ftr_country = PREV }
							check_variable = { foreign_route_resource^ftr_i = PREV.trade_route_resource^i_temp }
							NOT = { check_variable = { foreign_route_type^ftr_i = PREV.trade_route_type^i_temp } }
						}
						remove_from_array = { array = foreign_route_country index = ftr_i }
						remove_from_array = { array = foreign_route_size index = ftr_i }
						remove_from_array = { array = foreign_route_resource index = ftr_i }
						remove_from_array = { array = foreign_route_type index = ftr_i }
						remove_from_array = { array = foreign_route_amount index = ftr_i }
						remove_from_array = { array = foreign_route_value index = ftr_i }
						remove_from_array = { array = foreign_route_shipping_use index = ftr_i }
						remove_from_array = { array = foreign_route_tariffs index = ftr_i }
						remove_from_array = { array = foreign_route_productivity index = ftr_i }

						set_temp_variable = { ftr_b = 1 }
					}
				}
			}

			remove_from_array = { array = trade_route_country index = i_temp }
			remove_from_array = { array = trade_route_size index = i_temp }
			remove_from_array = { array = trade_route_resource index = i_temp }
			remove_from_array = { array = trade_route_type index = i_temp }
            remove_from_array = { array = trade_route_amount index = i_temp }
            remove_from_array = { array = trade_route_value index = i_temp }
            remove_from_array = { array = trade_route_shipping_use index = i_temp }
            remove_from_array = { array = trade_route_tariffs index = i_temp }
            remove_from_array = { array = trade_route_productivity index = i_temp }
		}

		if = {
			limit = {
				is_ai = no
			}
			country_update_trade_display = yes
		}
	}

	country_update_new_route_list = {
		clear_array = new_route_list_country_array
		clear_array = new_route_list_productivity_array
		clear_array = new_route_list_shipping_use_array
		# selected_resource - res. token that is used to build list
		# new_route_export - flag for if it's an export route instead of import route

		if = {
			limit = {
                OR = {
                    is_in_array = { global.resource_token_array = selected_resource }
                    is_in_array = { global.military_resource_token_array = selected_resource }
                }
                if = {
                    limit = {
                        has_country_flag = new_route_export
                    }
                    check_variable = { supply@var:selected_resource > 0 }
                }
			}

			every_country = {
				limit = {
					PREV = {
                        set_temp_variable = { country_temp = PREV }
                        set_temp_variable = { resource_temp = selected_resource }
                        if = {
                            limit = {
                                has_country_flag = new_route_export
                            }
                            set_temp_variable = { trade_type_temp = -1 }
                        }
                        else = {
                            set_temp_variable = { trade_type_temp = 1 }
                        }
                        can_establish_new_route_with = yes
                    }
				}
				set_temp_variable = { nrr = PREV.selected_resource }

                #Shipping Use
                    if = {
                        limit = {
                            is_in_array = { neighbors = PREV }
                        }
                        set_temp_variable = { new_element_shipping_use = 0 }
                    }
                    else = {
                        set_temp_variable = { new_element_shipping_use = global.shipping_cost@var:nrr }

                        set_temp_variable = { exporter_capital = PREV.capital }
                        var:exporter_capital = {
                            set_variable = { PREV.shipping_distance = distance_to@PREV.capital } #This needs to be a normal variable
                        }
                        divide_variable = { shipping_distance = global.base_shipping_cost_divisor }
                        set_temp_variable = { modifier_temp = modifier@shipping_cost_modifier }
                        add_to_temp_variable = { modifier_temp = 1 }
                        multiply_variable = { shipping_distance = modifier_temp }

                        multiply_temp_variable = { new_element_shipping_use = shipping_distance }
                    }
                #
                #Prices
                    ## ROOT COUNTRY ##
                    set_temp_variable = { r_type = nrr }
                    set_temp_variable = { s_temp = PREV.supply@var:nrr }
                    set_temp_variable = { d_temp = PREV.demand@var:nrr }
                    if = {
                        limit = {
                            is_in_array = { global.military_resource_token_array = r_type }
                        }
                        if = {
                            limit = {
                                PREV = { has_country_flag = new_route_export }
                            }
                            subtract_from_temp_variable = { s_temp = global.shipping_amount@var:nrr }
                        }
                        else = {
                            add_to_temp_variable = { s_temp = global.shipping_amount@var:nrr }
                        }
                    }
                    else = {
                        if = {
                            limit = {
                                PREV = { has_country_flag = new_route_export }
                            }
                            add_to_temp_variable = { d_temp = global.shipping_amount@var:nrr }
                        }
                        else = {
                            add_to_temp_variable = { s_temp = global.shipping_amount@var:nrr }
                        }
                    }
                    get_price = yes # r_type, s_temp, d_temp -> p_return_temp
                    set_temp_variable = { root_price_temp = p_return_temp }

                    ## FOREIGN COUNTRY ##
                    set_temp_variable = { r_type = nrr }
                    set_temp_variable = { s_temp = supply@var:nrr }
                    set_temp_variable = { d_temp = demand@var:nrr }
                    if = {
                        limit = {
                            is_in_array = { global.military_resource_token_array = r_type }
                        }
                        if = {
                            limit = {
                                PREV = { has_country_flag = new_route_export }
                            }
                            add_to_temp_variable = { s_temp = global.shipping_amount@var:nrr }
                        }
                        else = {
                            subtract_from_temp_variable = { s_temp = global.shipping_amount@var:nrr }
                        }
                    }
                    else = {
                        if = {
                            limit = {
                                PREV = { has_country_flag = new_route_export }
                            }
                            add_to_temp_variable = { s_temp = global.shipping_amount@var:nrr }
                        }
                        else = {
                            add_to_temp_variable = { d_temp = global.shipping_amount@var:nrr }
                        }
                    }
                    get_price = yes # r_type, s_temp, d_temp -> p_return_temp
                    set_temp_variable = { this_price_temp = p_return_temp }
                #
                #Productivity
                    if = { #Import
                        limit = {
                            NOT = { PREV = { has_country_flag = new_route_export } }
                        }
                        set_temp_variable = { new_element_value = root_price_temp }

                        set_temp_variable = { p_temp = this_price_temp }

                        set_temp_variable = { tariffs_mult_temp = 1 }
                        add_to_temp_variable = { tariffs_mult_temp = PREV.tariffs }
                        multiply_temp_variable = { p_temp = tariffs_mult_temp }

                        subtract_from_temp_variable = { new_element_value = p_temp }
                        multiply_temp_variable = { new_element_value = global.shipping_amount@var:nrr }
                    }
                    else = { #Export
                        set_temp_variable = { new_element_value = this_price_temp }

                        set_temp_variable = { p_temp = root_price_temp }

                        set_temp_variable = { tariffs_mult_temp = 1 }
                        add_to_temp_variable = { tariffs_mult_temp = tariffs }
                        multiply_temp_variable = { p_temp = tariffs_mult_temp }

                        subtract_from_temp_variable = { new_element_value = p_temp }
                        multiply_temp_variable = { new_element_value = global.shipping_amount@var:nrr }
                    }
                    multiply_temp_variable = { new_element_value = 10 }
                #

                for_each_loop = {
                    array = PREV.new_route_list_country_array
                    index = ii
                    value = tr_country
                    break = bb

                    set_temp_variable = { current_element_value = PREV.new_route_list_productivity_array^ii }

                    if = {
                        limit = {
                            check_variable = { new_element_value > current_element_value }
                        }
                        add_to_array = {
                            array = PREV.new_route_list_country_array
                            value = THIS
                            index = ii
                        }
                        add_to_array = {
                            array = PREV.new_route_list_productivity_array
                            value = new_element_value
                            index = ii
                        }
                        add_to_array = {
                            array = PREV.new_route_list_shipping_use_array
                            value = new_element_shipping_use
                            index = ii
                        }
                        set_temp_variable = { bb = 1 }
                    }
                }
                if = {
                    limit = {
                        check_variable = { bb = 0 }
                    }
                    add_to_array = { PREV.new_route_list_country_array = THIS }
                    add_to_array = { PREV.new_route_list_productivity_array = new_element_value }
                    add_to_array = { PREV.new_route_list_shipping_use_array = new_element_shipping_use }
                }
			}
		}
	}

	country_update_trade_display = {
		clear_array = show_trade_route_index
        # selected_resource - res. token that is used to build list

		if = { #Foreign Routes
			limit = {
				has_country_flag = show_foreign_routes
			}
			for_each_loop = {
				array = foreign_route_resource
				index = tr_i
				value = tr_token
				break = tr_b

				if = { #Import Routes
					limit = {
						check_variable = { foreign_route_type^tr_i = 1 }
					}
					for_each_loop = {
						array = show_trade_route_index
						index = ii
						value = vv
						break = bb

						set_temp_variable = { str_resource = foreign_route_resource^vv }

						if = {
							limit = {
								check_variable = { str_resource > tr_token }
							}
							add_to_array = {
								array = show_trade_route_index
								value = tr_i
								index = ii
							}
							set_temp_variable = { bb = 1 }
						}
					}
					if = {
						limit = {
							check_variable = { bb = 0 }
						}
						add_to_array = { show_trade_route_index = tr_i }
					}
				}
			}
			for_each_loop = {
				array = foreign_route_resource
				index = tr_i
				value = tr_token
				break = tr_b

				if = { #Export Routes
					limit = {
						check_variable = { foreign_route_type^tr_i = -1 }
					}
					for_each_loop = {
						array = show_trade_route_index
						index = ii
						value = vv
						break = bb

						set_temp_variable = { str_resource = foreign_route_resource^vv }

						if = {
							limit = {
								check_variable = { str_resource > tr_token }
								check_variable = { foreign_route_type^vv = -1 }
							}
							add_to_array = {
								array = show_trade_route_index
								value = tr_i
								index = ii
							}
							set_temp_variable = { bb = 1 }
						}
					}
					if = {
						limit = {
							check_variable = { bb = 0 }
						}
						add_to_array = { show_trade_route_index = tr_i }
					}
				}
			}
		}
		else = { #National Routes
			for_each_loop = {
				array = trade_route_resource
				index = tr_i
				value = tr_token
				break = tr_b

				if = { #Import Routes
					limit = {
						check_variable = { trade_route_type^tr_i = 1 }
                        OR = {
						    check_variable = { selected_resource = trade_route_resource^tr_i }
						    check_variable = { selected_resource = 0 }
                        }
					}
					for_each_loop = {
						array = show_trade_route_index
						index = ii
						value = vv
						break = bb

						set_temp_variable = { str_resource = trade_route_resource^vv }

						if = {
							limit = {
								check_variable = { str_resource > tr_token }
							}
							add_to_array = {
								array = show_trade_route_index
								value = tr_i
								index = ii
							}
							set_temp_variable = { bb = 1 }
						}
					}
					if = {
						limit = {
							check_variable = { bb = 0 }
						}
						add_to_array = { show_trade_route_index = tr_i }
					}
				}
			}
			for_each_loop = {
				array = trade_route_resource
				index = tr_i
				value = tr_token
				break = tr_b

				if = { #Export Routes
					limit = {
						check_variable = { trade_route_type^tr_i = -1 }
                        OR = {
						    check_variable = { selected_resource = trade_route_resource^tr_i }
						    check_variable = { selected_resource = 0 }
                        }
					}
					for_each_loop = {
						array = show_trade_route_index
						index = ii
						value = vv
						break = bb

						set_temp_variable = { str_resource = trade_route_resource^vv }

						if = {
							limit = {
								check_variable = { str_resource > tr_token }
								check_variable = { trade_route_type^vv = -1 }
							}
							add_to_array = {
								array = show_trade_route_index
								value = tr_i
								index = ii
							}
							set_temp_variable = { bb = 1 }
						}
					}
					if = {
						limit = {
							check_variable = { bb = 0 }
						}
						add_to_array = { show_trade_route_index = tr_i }
					}
				}
			}
		}
	}



	ai_trade_calculation = {
		#The AI uses this calculation to do trade

		# AI needs to consider EXPORTING more, or IMPORTING more

        # AI should trade
        #   What it produces in excess / Consumes in excess
        #   When price differential is high

        # AI should increase trade in a category when productivity is high and decrease when it is low

		# When a nation starts to approach its shipping capacity, also consider downgrading less productive routes

        # Military Resources
        for_each_loop = {
            array = global.military_resource_token_array
            value = r_token
            if = {
                limit = {
                    check_variable = { trade_ai@var:r_token = 0 }
                }
                set_temp_variable = { resource_without_trade = resource@var:r_token }
                subtract_from_temp_variable = { resource_without_trade = resource_cost@var:r_token }

                #global.additional_exports@var:r_token

                if = { # If negative in a resource and exporting, reduce exports
                    limit = {
                        check_variable = { resource@var:r_token < 0 }
                        check_variable = { offers@var:r_token < 0 }
                        check_variable = { resource_without_trade > 0 }
                    }
                    subtract_from_variable = { offers@var:r_token = resource@var:r_token }
                    if = {
                        limit = {
                            check_variable = { offers@var:r_token > 0 }
                        }
                        set_variable = { offers@var:r_token = 0 }
                    }
                }
                else_if = { # If negative in a resource, import what you need
                    limit = {
                        check_variable = { resource_without_trade < 0 }
                    }
                    set_variable = { offers@var:r_token = resource_without_trade }
                    multiply_variable = { offers@var:r_token = -1 }
                    round_variable = offers@var:r_token
                }
                else_if = { # If positive in a resource and importing, import less
                    limit = {
                        check_variable = { offers@var:r_token > 0 }
                    }
                    subtract_from_variable = { offers@var:r_token = resource@var:r_token }
                    if = {
                        limit = {
                            check_variable = { offers@var:r_token < 0 }
                        }
                        set_variable = { offers@var:r_token = 0 }
                    }
                }
                else_if = { # If positive in a resource, export
                    limit = {
                        check_variable = { resource_without_trade > 0 }
                    }
                    if = {
                        limit = {
                            set_temp_variable = { import_temp = available_imports@var:r_token }
                            add_to_temp_variable = { import_temp = global.additional_exports@var:r_token }
                            multiply_temp_variable = { import_temp = 2 }
                            check_variable = { available_exports@var:r_token > import_temp }
                        }
                        set_temp_variable = { rwt = resource_without_trade }
                        divide_temp_variable = { rwt = 10 }
                        add_to_temp_variable = { rwt = 1 }
                        round_temp_variable = rwt
                        add_to_variable = { global.additional_exports@var:r_token = rwt }
                        subtract_from_variable = { offers@var:r_token = rwt }
                        multiply_variable = { offers@var:r_token = -1 }
                        if = {
                            limit = {
                                check_variable = { offers@var:r_token > resource_without_trade }
                            }
                            set_variable = { offers@var:r_token = resource_without_trade }
                        }
                        multiply_variable = { offers@var:r_token = -1 }
                    }
                    else_if = {
                        limit = {
                            set_temp_variable = { import_temp = available_imports@var:r_token }
                            add_to_temp_variable = { import_temp = global.additional_exports@var:r_token }
                            check_variable = { available_exports@var:r_token > import_temp }
                        }
                        set_temp_variable = { rwt = resource_without_trade }
                        divide_temp_variable = { rwt = 20 }
                        add_to_temp_variable = { rwt = 1 }
                        round_temp_variable = rwt
                        add_to_variable = { global.additional_exports@var:r_token = rwt }
                        subtract_from_variable = { offers@var:r_token = rwt }
                        multiply_variable = { offers@var:r_token = -1 }
                        if = {
                            limit = {
                                check_variable = { offers@var:r_token > resource_without_trade }
                            }
                            set_variable = { offers@var:r_token = resource_without_trade }
                        }
                        multiply_variable = { offers@var:r_token = -1 }
                    }
                    else_if = {
                        limit = {
                            check_variable = { available_exports@var:r_token > 0 }
                            set_temp_variable = { import_temp = available_imports@var:r_token }
                            add_to_temp_variable = { import_temp = global.additional_exports@var:r_token }
                            multiply_temp_variable = { import_temp = 0.75 }
                            check_variable = { available_exports@var:r_token < import_temp }
                        }
                        set_temp_variable = { rwt = resource_without_trade }
                        divide_temp_variable = { rwt = 20 }
                        add_to_temp_variable = { rwt = 1 }
                        round_temp_variable = rwt
                        add_to_variable = { global.additional_exports@var:r_token = rwt }
                        add_to_variable = { offers@var:r_token = rwt }
                        if = {
                            limit = {
                                check_variable = { offers@var:r_token > 0 }
                            }
                            set_variable = { offers@var:r_token = 0 }
                        }
                    }
                    else_if = {
                        limit = {
                            check_variable = { available_exports@var:r_token = 0 }
                        }
                        set_variable = { offers@var:r_token = 0 }
                    }
                }
            }
        }



        # Upper & Lower Bounds for increasing/decreasing trade
        #       If above the upper bound, then the import/export amount will be increased (Or established if it's zero)
        #       If below the lower bound, then the amount will be decreased
        set_temp_variable = { prod_lower_bound = pops_col }
        set_temp_variable = { prod_upper_bound = pops_col }
        multiply_temp_variable = { prod_upper_bound = 1.33 }

        for_each_loop = {
            array = global.resource_token_array
            value = r_token
            set_temp_variable = { resource_temp = r_token }
            set_temp_variable = { change_temp = 0 }

            if = {
                limit = {
                    check_variable = { trade_ai@var:r_token = 0 }
                    NOT = { is_in_array = { global.non_tradeable_resources = r_token } }
                }

                if = { # IF IMPORTING
                    limit = {
                        check_variable = { offers@var:r_token > 0 }
                    }
                    # Nested If-statements for performance
                    if = {
                        limit = {
                            check_variable = { trade_productivity@var:r_token > prod_upper_bound }
                        }
                        set_temp_variable = { change_temp = trade_productivity@var:r_token } # Export Less / Import More
                        subtract_from_temp_variable = { change_temp = prod_upper_bound }
                        divide_temp_variable = { change_temp = prod_upper_bound }
                        divide_temp_variable = { change_temp = 4 }
                    }
                    else_if = {
                        limit = {
                            check_variable = { trade_productivity@var:r_token < prod_lower_bound }
                        }
                        set_temp_variable = { change_temp = trade_productivity@var:r_token } # Export More / Import Less
                        subtract_from_temp_variable = { change_temp = prod_lower_bound }
                        divide_temp_variable = { change_temp = prod_lower_bound }
                        divide_temp_variable = { change_temp = 4 }
                    }
                }
                else_if = { # IF ZERO & CAN IMPORT
                    limit = {
                        check_variable = { offers@var:r_token = 0 }
                        check_variable = { trade_price@var:r_token < price@var:r_token }
                        check_variable = { available_imports@var:r_token > 0 }
                    }
                    #	productivity_temp = ( revenue - goods cost - tariffs ) * shipping_amount
                        set_temp_variable = { productivity_temp = price@var:r_token }
                        subtract_from_temp_variable = { productivity_temp = trade_price@var:r_token }

                        set_temp_variable = { tr_tariffs_temp = import_tariff_percentage }
                        subtract_from_temp_variable = { tr_tariffs_temp = import_subsidy_percentage }
                        divide_temp_variable = { tr_tariffs_temp = 100 }
                        multiply_temp_variable = { tr_tariffs_temp = trade_price@var:r_token }

                        subtract_from_temp_variable = { productivity_temp = tr_tariffs_temp }
                        multiply_temp_variable = { productivity_temp = global.shipping_amount@var:r_token }
                    #
                    if = {
                        limit = {
                            check_variable = { productivity_temp > prod_upper_bound }
                        }
                        set_temp_variable = { change_temp = productivity_temp } # Export Less / Import More
                        subtract_from_temp_variable = { change_temp = prod_upper_bound }
                        divide_temp_variable = { change_temp = prod_upper_bound }
                        divide_temp_variable = { change_temp = 4 }
                    }
                }
                else_if = { # IF ZERO & CAN EXPORT
                    limit = {
                        check_variable = { offers@var:r_token = 0 }
                        check_variable = { trade_price@var:r_token > price@var:r_token }
                        check_variable = { available_exports@var:r_token > 0 }
                    }
                    #	productivity_temp = ( revenue - goods cost - tariffs ) * shipping_amount
                        set_temp_variable = { tr_rev_temp = trade_price@var:r_token }

                        set_temp_variable = { tr_goods_cost_temp = price@var:r_token }

                        set_temp_variable = { tr_tariffs_temp = export_tariff_percentage }
                        subtract_from_temp_variable = { tr_tariffs_temp = export_subsidy_percentage }
                        divide_temp_variable = { tr_tariffs_temp = 100 }
                        multiply_temp_variable = { tr_tariffs_temp = trade_price@var:r_token }

                        set_temp_variable = { productivity_temp = tr_rev_temp }
                        subtract_from_temp_variable = { productivity_temp = tr_goods_cost_temp }
                        subtract_from_temp_variable = { productivity_temp = tr_tariffs_temp }
                        multiply_temp_variable = { productivity_temp = global.shipping_amount@var:r_token }
                    #
                    if = {
                        limit = {
                            check_variable = { productivity_temp > prod_upper_bound }
                        }
                        set_temp_variable = { change_temp = productivity_temp } # Export More / Import Less
                        subtract_from_temp_variable = { change_temp = prod_upper_bound }
                        divide_temp_variable = { change_temp = prod_upper_bound }
                        divide_temp_variable = { change_temp = -4 }
                    }
                }
                else_if = { # IF EXPORTING
                    limit = {
                        check_variable = { offers@var:r_token < 0 }
                    }
                    if = {
                        limit = {
                            check_variable = { trade_productivity@var:r_token > prod_upper_bound }
                        }
                        set_temp_variable = { change_temp = trade_productivity@var:r_token } # Export More / Import Less
                        subtract_from_temp_variable = { change_temp = prod_upper_bound }
                        divide_temp_variable = { change_temp = prod_upper_bound }
                        divide_temp_variable = { change_temp = -4 }
                    }
                    else_if = {
                        limit = {
                            check_variable = { trade_productivity@var:r_token < prod_lower_bound }
                        }
                        set_temp_variable = { change_temp = trade_productivity@var:r_token } # Export Less / Import More
                        subtract_from_temp_variable = { change_temp = prod_upper_bound }
                        divide_temp_variable = { change_temp = prod_upper_bound }
                        divide_temp_variable = { change_temp = -4 }
                    }
                }

                if = {
                    limit = {
                        check_variable = { change_temp > 1 }
                    }
                    set_temp_variable = { change_temp = 1 }
                }
                else_if = {
                    limit = {
                        check_variable = { change_temp < -1 }
                    }
                    set_temp_variable = { change_temp = -1 }
                }

                if = {
                    limit = {
                        NOT = { check_variable = { change_temp = 0 } }
                    }
                    if = {
                        limit = {
                            check_variable = { need@var:r_token > production@var:r_token }
                        }
                        set_temp_variable = { amount_temp = need@var:r_token }
                        subtract_from_temp_variable = { amount_temp = production@var:r_token }
                    }
                    else = {
                        set_temp_variable = { amount_temp = production@var:r_token }
                        subtract_from_temp_variable = { amount_temp = need@var:r_token }
                    }
                    divide_temp_variable = { amount_temp = 10 }
                    add_to_temp_variable = { amount_temp = 1 }
                    multiply_temp_variable = { amount_temp = change_temp }

                    adjust_trade_no_update = yes # Auto-rounds amount_temp
                }
            }
        }

        calc_shipping_capacity_use = yes

        if = {
            limit = {
                check_variable = { shipping_efficiency < 1 }
            }
            for_each_loop = {
                array = global.resource_token_array
                value = r_token

                if = {
                    limit = {
                        check_variable = { trade_ai@var:r_token = 0 }
                    }
                    multiply_variable = { offers@var:r_token = shipping_efficiency }
                    round_variable = offers@var:r_token
                }
            }
        }
        calc_shipping_capacity_use = yes

	}
#

#Budget
	taxes_update = {
		#Country Scope

		#Income Taxes
        set_temp_variable = { upper_earnings_limit = pops_earnings_avg }
        multiply_temp_variable = { upper_earnings_limit = 3 }
        set_temp_variable = { lower_earnings_limit = pops_earnings_avg }

        set_temp_variable = { upper_income_earnings = 0 }
        set_temp_variable = { middle_income_earnings = 0 }
        set_temp_variable = { lower_income_earnings = 0 }

		every_controlled_state = {
            #Adding to Earnings
                set_temp_variable = { avg_earnings_temp = slaves_earnings }
                divide_temp_variable = { avg_earnings_temp = slaves }
                if = {
                    limit = {
                        check_variable = { avg_earnings_temp < lower_earnings_limit }
                    }
                    add_to_temp_variable = { lower_income_earnings = slaves_earnings }
                }
                else_if = {
                    limit = {
                        check_variable = { avg_earnings_temp < upper_earnings_limit }
                    }
                    add_to_temp_variable = { middle_income_earnings = slaves_earnings }
                }
                else = {
                    add_to_temp_variable = { upper_income_earnings = slaves_earnings }
                }

                set_temp_variable = { avg_earnings_temp = peasants_earnings }
                divide_temp_variable = { avg_earnings_temp = peasants }
                if = {
                    limit = {
                        check_variable = { avg_earnings_temp < lower_earnings_limit }
                    }
                    add_to_temp_variable = { lower_income_earnings = peasants_earnings }
                }
                else_if = {
                    limit = {
                        check_variable = { avg_earnings_temp < upper_earnings_limit }
                    }
                    add_to_temp_variable = { middle_income_earnings = peasants_earnings }
                }
                else = {
                    add_to_temp_variable = { upper_income_earnings = peasants_earnings }
                }

                set_temp_variable = { avg_earnings_temp = laborers_earnings }
                divide_temp_variable = { avg_earnings_temp = laborers }
                if = {
                    limit = {
                        check_variable = { avg_earnings_temp < lower_earnings_limit }
                    }
                    add_to_temp_variable = { lower_income_earnings = laborers_earnings }
                }
                else_if = {
                    limit = {
                        check_variable = { avg_earnings_temp < upper_earnings_limit }
                    }
                    add_to_temp_variable = { middle_income_earnings = laborers_earnings }
                }
                else = {
                    add_to_temp_variable = { upper_income_earnings = laborers_earnings }
                }

                set_temp_variable = { avg_earnings_temp = workers_earnings }
                divide_temp_variable = { avg_earnings_temp = workers }
                if = {
                    limit = {
                        check_variable = { avg_earnings_temp < lower_earnings_limit }
                    }
                    add_to_temp_variable = { lower_income_earnings = workers_earnings }
                }
                else_if = {
                    limit = {
                        check_variable = { avg_earnings_temp < upper_earnings_limit }
                    }
                    add_to_temp_variable = { middle_income_earnings = workers_earnings }
                }
                else = {
                    add_to_temp_variable = { upper_income_earnings = workers_earnings }
                }

                set_temp_variable = { avg_earnings_temp = professionals_earnings }
                divide_temp_variable = { avg_earnings_temp = professionals }
                if = {
                    limit = {
                        check_variable = { avg_earnings_temp < lower_earnings_limit }
                    }
                    add_to_temp_variable = { lower_income_earnings = professionals_earnings }
                }
                else_if = {
                    limit = {
                        check_variable = { avg_earnings_temp < upper_earnings_limit }
                    }
                    add_to_temp_variable = { middle_income_earnings = professionals_earnings }
                }
                else = {
                    add_to_temp_variable = { upper_income_earnings = professionals_earnings }
                }

                set_temp_variable = { avg_earnings_temp = specialists_earnings }
                divide_temp_variable = { avg_earnings_temp = specialists }
                if = {
                    limit = {
                        check_variable = { avg_earnings_temp < lower_earnings_limit }
                    }
                    add_to_temp_variable = { lower_income_earnings = specialists_earnings }
                }
                else_if = {
                    limit = {
                        check_variable = { avg_earnings_temp < upper_earnings_limit }
                    }
                    add_to_temp_variable = { middle_income_earnings = specialists_earnings }
                }
                else = {
                    add_to_temp_variable = { upper_income_earnings = specialists_earnings }
                }

                set_temp_variable = { avg_earnings_temp = capitalists_earnings }
                divide_temp_variable = { avg_earnings_temp = capitalists }
                if = {
                    limit = {
                        check_variable = { avg_earnings_temp < lower_earnings_limit }
                    }
                    add_to_temp_variable = { lower_income_earnings = capitalists_earnings }
                }
                else_if = {
                    limit = {
                        check_variable = { avg_earnings_temp < upper_earnings_limit }
                    }
                    add_to_temp_variable = { middle_income_earnings = capitalists_earnings }
                }
                else = {
                    add_to_temp_variable = { upper_income_earnings = capitalists_earnings }
                }

                set_temp_variable = { avg_earnings_temp = aristocrats_earnings }
                divide_temp_variable = { avg_earnings_temp = aristocrats }
                if = {
                    limit = {
                        check_variable = { avg_earnings_temp < lower_earnings_limit }
                    }
                    add_to_temp_variable = { lower_income_earnings = aristocrats_earnings }
                }
                else_if = {
                    limit = {
                        check_variable = { avg_earnings_temp < upper_earnings_limit }
                    }
                    add_to_temp_variable = { middle_income_earnings = aristocrats_earnings }
                }
                else = {
                    add_to_temp_variable = { upper_income_earnings = aristocrats_earnings }
                }

                set_temp_variable = { avg_earnings_temp = bureaucrats_earnings }
                divide_temp_variable = { avg_earnings_temp = bureaucrats }
                if = {
                    limit = {
                        check_variable = { avg_earnings_temp < lower_earnings_limit }
                    }
                    add_to_temp_variable = { lower_income_earnings = bureaucrats_earnings }
                }
                else_if = {
                    limit = {
                        check_variable = { avg_earnings_temp < upper_earnings_limit }
                    }
                    add_to_temp_variable = { middle_income_earnings = bureaucrats_earnings }
                }
                else = {
                    add_to_temp_variable = { upper_income_earnings = bureaucrats_earnings }
                }

                set_temp_variable = { avg_earnings_temp = soldiers_earnings }
                divide_temp_variable = { avg_earnings_temp = soldiers }
                if = {
                    limit = {
                        check_variable = { avg_earnings_temp < lower_earnings_limit }
                    }
                    add_to_temp_variable = { lower_income_earnings = soldiers_earnings }
                }
                else_if = {
                    limit = {
                        check_variable = { avg_earnings_temp < upper_earnings_limit }
                    }
                    add_to_temp_variable = { middle_income_earnings = soldiers_earnings }
                }
                else = {
                    add_to_temp_variable = { upper_income_earnings = soldiers_earnings }
                }
            #
		}

		set_variable = { income_tax_upper_strata_revenue = upper_income_earnings }
		set_variable = { income_tax_middle_strata_revenue = middle_income_earnings }
		set_variable = { income_tax_lower_strata_revenue = lower_income_earnings }

        if = {
            limit = {
                check_variable = { income_tax_upper_strata_revenue > 1000 }
            }
		    divide_variable = { income_tax_upper_strata_revenue = 100 }
		    multiply_variable = { income_tax_upper_strata_revenue = income_tax_upper_strata_percentage }
        }
        else = {
		    multiply_variable = { income_tax_upper_strata_revenue = income_tax_upper_strata_percentage }
		    divide_variable = { income_tax_upper_strata_revenue = 100 }
        }
        if = {
            limit = {
                check_variable = { income_tax_middle_strata_revenue > 1000 }
            }
		    divide_variable = { income_tax_middle_strata_revenue = 100 }
		    multiply_variable = { income_tax_middle_strata_revenue = income_tax_middle_strata_percentage }
        }
        else = {
		    multiply_variable = { income_tax_middle_strata_revenue = income_tax_middle_strata_percentage }
		    divide_variable = { income_tax_middle_strata_revenue = 100 }
        }
        if = {
            limit = {
                check_variable = { income_tax_lower_strata_revenue > 1000 }
            }
		    divide_variable = { income_tax_lower_strata_revenue = 100 }
		    multiply_variable = { income_tax_lower_strata_revenue = income_tax_lower_strata_percentage }
        }
        else = {
		    multiply_variable = { income_tax_lower_strata_revenue = income_tax_lower_strata_percentage }
		    divide_variable = { income_tax_lower_strata_revenue = 100 }
        }

		set_variable = { income_tax_revenue = income_tax_upper_strata_revenue }
		add_to_variable = { income_tax_revenue = income_tax_middle_strata_revenue }
		add_to_variable = { income_tax_revenue = income_tax_lower_strata_revenue }

		#Sales Tax
			set_variable = { sales_tax_revenue = 0 }
            every_controlled_state = {
                add_to_variable = { PREV.sales_tax_revenue = pops_needs_spending }
            }
            if = {
                limit = {
                    check_variable = { sales_tax_revenue > 1000 }
                }
                divide_variable = { sales_tax_revenue = 100 }
                multiply_variable = { sales_tax_revenue = sales_tax_percentage }
            }
            else = {
                multiply_variable = { sales_tax_revenue = sales_tax_percentage }
                divide_variable = { sales_tax_revenue = 100 }
            }
		#

		#Corporate
		#

		#Tariffs
			set_variable = { export_tariff_revenue = 0 }
			set_variable = { import_tariff_revenue = 0 }

            for_each_loop = {
                array = global.resource_token_array
                value = r_token

                if = { #Import
                    limit = {
                        check_variable = { trade@var:r_token > 0 }
                    }
                    add_to_variable = { import_tariff_revenue = trade_tariffs@var:r_token }
                }
                else = { #Export
                    subtract_from_variable = { export_tariff_revenue = trade_tariffs@var:r_token }
                }
            }

			set_variable = { tariff_revenue = import_tariff_revenue }
			add_to_variable = { tariff_revenue = export_tariff_revenue }
		#

		set_variable = { revenue = income_tax_revenue }
		add_to_variable = { revenue = sales_tax_revenue }
		add_to_variable = { revenue = import_tariff_revenue }
		add_to_variable = { revenue = export_tariff_revenue }

		net_budget_update = yes
	}
	spending_update = {
		proj_update = yes

		set_variable = { construction_spending_expense = 0 }
		set_variable = { project_spending_expense = 0 }
		set_variable = { industrial_subsidy_expense = 0 }
		set_variable = { infrastructure_subsidy_expense = 0 }

		set_variable = { administration_spending_expense = 0 }
		set_variable = { military_payroll_spending_expense = 0 }
		every_controlled_state = {
			#Administration
			set_temp_variable = { admin_temp = pops_earnings }
			multiply_temp_variable = { admin_temp = global.administration_base_expense }
			divide_temp_variable = { admin_temp = 100 }
			if = {
				limit = {
					check_variable = { pops < global.administration_population_expense }
				}
				set_temp_variable = { modifier_temp = global.administration_population_expense }
				subtract_from_temp_variable = { modifier_temp = pops }
				divide_temp_variable = { modifier_temp = global.administration_population_expense }
				multiply_temp_variable = { modifier_temp = global.administration_population_expense_modifier }
				add_to_temp_variable = { modifier_temp = 1 }
				multiply_temp_variable = { admin_temp = modifier_temp }
			}
			add_to_variable = { PREV.administration_spending_expense = admin_temp }

            for_each_loop = {
                array = buildings
                index = sp_i
                value = sp_token

                #Industrial

                #Construction
                if = {
                    limit = {
                        check_variable = { under_construction@var:sp_token > 0 }
                        check_variable = { financer@var:sp_token = PREV }
                    }
                    add_to_variable = { PREV.construction_spending_expense = construction_expenses@var:sp_token }
                }

                #Infrastructure
            }
		}

        #Military Payroll
        set_variable = { military_payroll_spending_expense = max_available_manpower_k }
        multiply_variable = { military_payroll_spending_expense = pops_earnings_avg }
        divide_variable = { military_payroll_spending_expense = global.pops_workforce_participation }

		#Military
			set_variable = { military_expense@token:resource_food = 0 }
			set_variable = { military_expense@token:resource_consumer_goods = 0 }
			set_variable = { military_expense@token:resource_luxury_goods = 0 }
			set_variable = { military_expense@token:resource_industrial_goods = 0 }

			set_variable = { military_army_spending_expense = 0 }
			set_variable = { military_navy_spending_expense = 0 }
            for_each_loop = {
                array = global.resource_token_array
                value = r_token

                set_temp_variable = { cost_temp = military_army_demand@var:r_token }
                multiply_temp_variable = { cost_temp = price@var:r_token }
                add_to_variable = { military_army_spending_expense = cost_temp }
                add_to_variable = { military_expense@var:r_token = cost_temp }

                set_temp_variable = { cost_temp = military_navy_demand@var:r_token }
                multiply_temp_variable = { cost_temp = price@var:r_token }
                add_to_variable = { military_navy_spending_expense = cost_temp }
                add_to_variable = { military_expense@var:r_token = cost_temp }

                set_temp_variable = { cost_temp = military_airforce_demand@var:r_token }
                multiply_temp_variable = { cost_temp = price@var:r_token }
                add_to_variable = { military_airforce_spending_expense = cost_temp }
                add_to_variable = { military_expense@var:r_token = cost_temp }
            }

			set_variable = { military_spending_expense = military_army_spending_expense }
			add_to_variable = { military_spending_expense = military_navy_spending_expense }
			add_to_variable = { military_spending_expense = military_airforce_spending_expense }
		#

		#Projects

			for_each_loop = {
				array = proj_id
				value = project_token_temp

				add_to_variable = { project_spending_expense = proj_estimated_monthly_cost@var:project_token_temp }
			}
			add_to_variable = { construction_spending_expense = project_spending_expense }
		#

		#Trade Subsidies
			set_variable = { export_subsidy_expense = 0 }
			set_variable = { import_subsidy_expense = 0 }
			#life_goods
				if = {
					limit = {
						check_variable = { life_goods_global_trade_actual_value < 0 }
					}
					set_temp_variable = { subsidy_temp = life_goods_global_trade_actual_value }
					multiply_temp_variable = { subsidy_temp = -1 }
					multiply_temp_variable = { subsidy_temp = import_subsidy_percentage }
					add_to_variable = { import_subsidy_expense = subsidy_temp }
				}
				else_if = {
					limit = {
						check_variable = { life_goods_global_trade_actual_value > 0 }
					}
					set_temp_variable = { subsidy_temp = life_goods_global_trade_actual_value }
					multiply_temp_variable = { subsidy_temp = export_subsidy_percentage }
					add_to_variable = { export_subsidy_expense = subsidy_temp }
				}
			#
			#everyday_goods
				if = {
					limit = {
						check_variable = { everyday_goods_global_trade_actual_value < 0 }
					}
					set_temp_variable = { subsidy_temp = everyday_goods_global_trade_actual_value }
					multiply_temp_variable = { subsidy_temp = -1 }
					multiply_temp_variable = { subsidy_temp = import_subsidy_percentage }
					add_to_variable = { import_subsidy_expense = subsidy_temp }
				}
				else_if = {
					limit = {
						check_variable = { everyday_goods_global_trade_actual_value > 0 }
					}
					set_temp_variable = { subsidy_temp = everyday_goods_global_trade_actual_value }
					multiply_temp_variable = { subsidy_temp = export_subsidy_percentage }
					add_to_variable = { export_subsidy_expense = subsidy_temp }
				}
			#
			#luxury_goods
				if = {
					limit = {
						check_variable = { luxury_goods_global_trade_actual_value < 0 }
					}
					set_temp_variable = { subsidy_temp = luxury_goods_global_trade_actual_value }
					multiply_temp_variable = { subsidy_temp = -1 }
					multiply_temp_variable = { subsidy_temp = import_subsidy_percentage }
					add_to_variable = { import_subsidy_expense = subsidy_temp }
				}
				else_if = {
					limit = {
						check_variable = { luxury_goods_global_trade_actual_value > 0 }
					}
					set_temp_variable = { subsidy_temp = luxury_goods_global_trade_actual_value }
					multiply_temp_variable = { subsidy_temp = export_subsidy_percentage }
					add_to_variable = { export_subsidy_expense = subsidy_temp }
				}
			#
			#services
				if = {
					limit = {
						check_variable = { services_global_trade_actual_value < 0 }
					}
					set_temp_variable = { subsidy_temp = services_global_trade_actual_value }
					multiply_temp_variable = { subsidy_temp = -1 }
					multiply_temp_variable = { subsidy_temp = import_subsidy_percentage }
					add_to_variable = { import_subsidy_expense = subsidy_temp }
				}
				else_if = {
					limit = {
						check_variable = { services_global_trade_actual_value > 0 }
					}
					set_temp_variable = { subsidy_temp = services_global_trade_actual_value }
					multiply_temp_variable = { subsidy_temp = export_subsidy_percentage }
					add_to_variable = { export_subsidy_expense = subsidy_temp }
				}
			#
			#raw_goods
				if = {
					limit = {
						check_variable = { raw_goods_global_trade_actual_value < 0 }
					}
					set_temp_variable = { subsidy_temp = raw_goods_global_trade_actual_value }
					multiply_temp_variable = { subsidy_temp = -1 }
					multiply_temp_variable = { subsidy_temp = import_subsidy_percentage }
					add_to_variable = { import_subsidy_expense = subsidy_temp }
				}
				else_if = {
					limit = {
						check_variable = { raw_goods_global_trade_actual_value > 0 }
					}
					set_temp_variable = { subsidy_temp = raw_goods_global_trade_actual_value }
					multiply_temp_variable = { subsidy_temp = export_subsidy_percentage }
					add_to_variable = { export_subsidy_expense = subsidy_temp }
				}
			#
			#industrial_goods
				if = {
					limit = {
						check_variable = { industrial_goods_global_trade_actual_value < 0 }
					}
					set_temp_variable = { subsidy_temp = industrial_goods_global_trade_actual_value }
					multiply_temp_variable = { subsidy_temp = -1 }
					multiply_temp_variable = { subsidy_temp = import_subsidy_percentage }
					add_to_variable = { import_subsidy_expense = subsidy_temp }
				}
				else_if = {
					limit = {
						check_variable = { industrial_goods_global_trade_actual_value > 0 }
					}
					set_temp_variable = { subsidy_temp = industrial_goods_global_trade_actual_value }
					multiply_temp_variable = { subsidy_temp = export_subsidy_percentage }
					add_to_variable = { export_subsidy_expense = subsidy_temp }
				}
			#
			divide_variable = { import_subsidy_expense = 100 }
			divide_variable = { export_subsidy_expense = 100 }

			set_variable = { subsidy_expense = import_subsidy_expense }
			add_to_variable = { subsidy_expense = export_subsidy_expense }
		#

		set_variable = { subsidy_expense = infrastructure_subsidy_expense }
		add_to_variable = { subsidy_expense = industrial_subsidy_expense }
		add_to_variable = { subsidy_expense = export_subsidy_expense }
		add_to_variable = { subsidy_expense = import_subsidy_expense }

		set_variable = { discretionary_spending = subsidy_expense }
		add_to_variable = { discretionary_spending = construction_spending_expense }
		add_to_variable = { discretionary_spending = military_spending_expense }

        set_variable = { national_debt_interest = debt_level }
        multiply_variable = { national_debt_interest = 0.025 }
        multiply_variable = { national_debt_interest = gdp_amount }
        divide_variable = { national_debt_interest = 12 }

		set_variable = { mandatory_spending = national_debt_interest }
		add_to_variable = { mandatory_spending = administration_spending_expense }
		add_to_variable = { mandatory_spending = military_payroll_spending_expense }

		net_budget_update = yes
	}
	net_budget_update = {
		#Literally three lines

		set_variable = { net_budget = revenue }
		subtract_from_variable = { net_budget = discretionary_spending }
		subtract_from_variable = { net_budget = mandatory_spending }
	}

	change_upper_strata_income_tax = {
		#Scope: Country
		#Increases/Decreases the Upper Strata Income Tax level
		#INPUT:
			#percent_change_temp - Amount to decrease it by. 1.0 increases it by 1%,  -10.0 decreases it by 10%

		add_to_variable = { income_tax_upper_strata_percentage = percent_change_temp }
		if = {
			limit = {
				check_variable = { percent_change_temp > 0 }
			}
			#TODO - Upper class get angerry

			if = {
				limit = {
					check_variable = { income_tax_upper_strata_percentage > 100 }
				}
				set_variable = { income_tax_upper_strata_percentage = 100 }
			}
		}
		else_if = {
			limit = {
				check_variable = { percent_change_temp < 0 }
			}
			#TODO - Upper Class become happy

			if = {
				limit = {
					check_variable = { income_tax_upper_strata_percentage < 0 }
				}
				set_variable = { income_tax_upper_strata_percentage = 0 }
			}
		}

        if = {
            limit = {
                is_ai = no
				check_variable = { income_tax_upper_strata_percentage > 25 }
            }
			set_variable = { income_tax_upper_strata_percentage = 25 }
        }
		taxes_update = yes
	}
	change_middle_strata_income_tax = {
		#Scope: Country
		#Increases/Decreases the Middle Strata Income Tax level
		#INPUT:
			#percent_change_temp - Amount to decrease it by. 1.0 increases it by 1%,  -10.0 decreases it by 10%

		add_to_variable = { income_tax_middle_strata_percentage = percent_change_temp }
		if = {
			limit = {
				check_variable = { percent_change_temp > 0 }
			}
			#TODO - Middle class get angerry

			if = {
				limit = {
					check_variable = { income_tax_middle_strata_percentage > 100 }
				}
				set_variable = { income_tax_middle_strata_percentage = 100 }
			}
		}
		else_if = {
			limit = {
				check_variable = { percent_change_temp < 0 }
			}
			#TODO - Middle Class become happy

			if = {
				limit = {
					check_variable = { income_tax_middle_strata_percentage < 0 }
				}
				set_variable = { income_tax_middle_strata_percentage = 0 }
			}
		}

        if = {
            limit = {
                is_ai = no
				check_variable = { income_tax_middle_strata_percentage > 25 }
            }
			set_variable = { income_tax_middle_strata_percentage = 25 }
        }
		taxes_update = yes
	}
	change_lower_strata_income_tax = {
		#Scope: Country
		#Increases/Decreases the Lower Strata Income Tax level
		#INPUT:
			#percent_change_temp - Amount to decrease it by. 1.0 increases it by 1%,  -10.0 decreases it by 10%

		add_to_variable = { income_tax_lower_strata_percentage = percent_change_temp }
		if = {
			limit = {
				check_variable = { percent_change_temp > 0 }
			}
			#TODO - Lower class get angerry

			if = {
				limit = {
					check_variable = { income_tax_lower_strata_percentage > 100 }
				}
				set_variable = { income_tax_lower_strata_percentage = 100 }
			}
		}
		else_if = {
			limit = {
				check_variable = { percent_change_temp < 0 }
			}
			#TODO - Lower Class become happy

			if = {
				limit = {
					check_variable = { income_tax_lower_strata_percentage < 0 }
				}
				set_variable = { income_tax_lower_strata_percentage = 0 }
			}
		}

        if = {
            limit = {
                is_ai = no
				check_variable = { income_tax_lower_strata_percentage > 25 }
            }
			set_variable = { income_tax_lower_strata_percentage = 25 }
        }
		taxes_update = yes
	}

	change_sales_tax = {
		#Scope: Country
		#Increases/Decreases the Sales Tax level
		#INPUT:
			#percent_change_temp - Amount to decrease it by. 1.0 increases it by 1%,  -10.0 decreases it by 10%

		add_to_variable = { sales_tax_percentage = percent_change_temp }
		if = {
			limit = {
				check_variable = { percent_change_temp > 0 }
			}
			#TODO - People get angerry

			if = {
				limit = {
					check_variable = { sales_tax_percentage > 100 }
				}
				set_variable = { sales_tax_percentage = 100 }
			}
		}
		else_if = {
			limit = {
				check_variable = { percent_change_temp < 0 }
			}
			#TODO - People become happy

			if = {
				limit = {
					check_variable = { sales_tax_percentage < 0 }
				}
				set_variable = { sales_tax_percentage = 0 }
			}
		}

        if = {
            limit = {
                is_ai = no
				check_variable = { sales_tax_percentage > 25 }
            }
			set_variable = { sales_tax_percentage = 25 }
        }
		taxes_update = yes
	}
	change_corporate_tax = {
		#Scope: Country
		#Increases/Decreases the Corporate Tax level
		#INPUT:
			#percent_change_temp - Amount to decrease it by. 1.0 increases it by 1%,  -10.0 decreases it by 10%

		add_to_variable = { corporate_tax_percentage = percent_change_temp }
		if = {
			limit = {
				check_variable = { percent_change_temp > 0 }
			}
			#TODO - Corporations get angerry

			if = {
				limit = {
					check_variable = { corporate_tax_percentage > 100 }
				}
				set_variable = { corporate_tax_percentage = 100 }
			}
		}
		else_if = {
			limit = {
				check_variable = { percent_change_temp < 0 }
			}
			#TODO - Corporations become happy

			if = {
				limit = {
					check_variable = { corporate_tax_percentage < 0 }
				}
				set_variable = { corporate_tax_percentage = 0 }
			}
		}
		taxes_update = yes
	}
	change_import_tariff = {
		#Scope: Country
		#Increases/Decreases the Import Tariff level
		#INPUT:
			#percent_change_temp - Amount to decrease it by. 1.0 increases it by 1%,  -10.0 decreases it by 10%

		add_to_variable = { import_tariff_percentage = percent_change_temp }
		if = {
			limit = {
				check_variable = { percent_change_temp > 0 }
			}
			#TODO - People get angerry

			if = {
				limit = {
					check_variable = { import_tariff_percentage > 100 }
				}
				set_variable = { import_tariff_percentage = 100 }
			}
		}
		else_if = {
			limit = {
				check_variable = { percent_change_temp < 0 }
			}
			#TODO - People become happy

			if = {
				limit = {
					check_variable = { import_tariff_percentage < 0 }
				}
				set_variable = { import_tariff_percentage = 0 }
			}
		}

        trade_update_value = yes
		taxes_update = yes
	}
	change_export_tariff = {
		#Scope: Country
		#Increases/Decreases the Export Tariff level
		#INPUT:
			#percent_change_temp - Amount to decrease it by. 1.0 increases it by 1%,  -10.0 decreases it by 10%

		add_to_variable = { export_tariff_percentage = percent_change_temp }
		if = {
			limit = {
				check_variable = { percent_change_temp > 0 }
			}
			#TODO - People get angerry

			if = {
				limit = {
					check_variable = { export_tariff_percentage > 100 }
				}
				set_variable = { export_tariff_percentage = 100 }
			}
		}
		else_if = {
			limit = {
				check_variable = { percent_change_temp < 0 }
			}
			#TODO - People become happy

			if = {
				limit = {
					check_variable = { export_tariff_percentage < 0 }
				}
				set_variable = { export_tariff_percentage = 0 }
			}
		}

        trade_update_value = yes
		taxes_update = yes
	}

	change_military_spending = {
		#Scope: Country
		#Increases/Decreases the Military Spending level
		#INPUT:
			#percent_change_temp - Amount to decrease it by. 1.0 increases it by 1%,  -10.0 decreases it by 10%

		add_to_variable = { military_spending_percentage = percent_change_temp }
		if = {
			limit = {
				check_variable = { percent_change_temp > 0 }
			}
			#TODO - People get angerry

			if = {
				limit = {
					check_variable = { military_spending_percentage > 100 }
				}
				set_variable = { military_spending_percentage = 100 }
			}
		}
		else_if = {
			limit = {
				check_variable = { percent_change_temp < 0 }
			}
			#TODO - People become happy

			if = {
				limit = {
					check_variable = { military_spending_percentage < 0 }
				}
				set_variable = { military_spending_percentage = 0 }
			}
		}
		calc_demand = yes
        get_resource_prices = yes
		spending_update = yes
	}
	change_intelligence_spending = {
		#Scope: Country
		#Increases/Decreases the Intelligence Spending level
		#INPUT:
			#percent_change_temp - Amount to decrease it by. 1.0 increases it by 1%,  -10.0 decreases it by 10%

		add_to_variable = { intelligence_spending_percentage = percent_change_temp }
		if = {
			limit = {
				check_variable = { percent_change_temp > 0 }
			}
			#TODO - People get angerry

			if = {
				limit = {
					check_variable = { intelligence_spending_percentage > 100 }
				}
				set_variable = { intelligence_spending_percentage = 100 }
			}
		}
		else_if = {
			limit = {
				check_variable = { percent_change_temp < 0 }
			}
			#TODO - People become happy

			if = {
				limit = {
					check_variable = { intelligence_spending_percentage < 0 }
				}
				set_variable = { intelligence_spending_percentage = 0 }
			}
		}
		spending_update = yes
	}
	change_construction_spending = {
		#Scope: Country
		#Increases/Decreases the Construction Spending level
		#INPUT:
			#percent_change_temp - Amount to decrease it by. 1.0 increases it by 1%,  -10.0 decreases it by 10%

		add_to_variable = { construction_spending_percentage = percent_change_temp }
		if = {
			limit = {
				check_variable = { percent_change_temp > 0 }
			}
			#TODO - People get angerry

			if = {
				limit = {
					check_variable = { construction_spending_percentage > 100 }
				}
				set_variable = { construction_spending_percentage = 100 }
			}
		}
		else_if = {
			limit = {
				check_variable = { percent_change_temp < 0 }
			}
			#TODO - People become happy

			if = {
				limit = {
					check_variable = { construction_spending_percentage < 0 }
				}
				set_variable = { construction_spending_percentage = 0 }
			}
		}

        every_controlled_state = {
            buildings_update_construction = yes
        }
        proj_update = yes
		calc_demand = yes
        get_resource_prices = yes
		spending_update = yes
	}
	change_import_subsidy = {
		#Scope: Country
		#Increases/Decreases the Import Subsidy level
		#INPUT:
			#percent_change_temp - Amount to decrease it by. 1.0 increases it by 1%,  -10.0 decreases it by 10%

		add_to_variable = { import_subsidy_percentage = percent_change_temp }
		if = {
			limit = {
				check_variable = { percent_change_temp > 0 }
			}
			#TODO - People get angerry

			if = {
				limit = {
					check_variable = { import_subsidy_percentage > 100 }
				}
				set_variable = { import_subsidy_percentage = 100 }
			}
		}
		else_if = {
			limit = {
				check_variable = { percent_change_temp < 0 }
			}
			#TODO - People become happy

			if = {
				limit = {
					check_variable = { import_subsidy_percentage < 0 }
				}
				set_variable = { import_subsidy_percentage = 0 }
			}
		}
		spending_update = yes
	}
	change_export_subsidy = {
		#Scope: Country
		#Increases/Decreases the Export Subsidy level
		#INPUT:
			#percent_change_temp - Amount to decrease it by. 1.0 increases it by 1%,  -10.0 decreases it by 10%

		add_to_variable = { export_subsidy_percentage = percent_change_temp }
		if = {
			limit = {
				check_variable = { percent_change_temp > 0 }
			}
			#TODO - People get angerry

			if = {
				limit = {
					check_variable = { export_subsidy_percentage > 100 }
				}
				set_variable = { export_subsidy_percentage = 100 }
			}
		}
		else_if = {
			limit = {
				check_variable = { percent_change_temp < 0 }
			}
			#TODO - People become happy

			if = {
				limit = {
					check_variable = { export_subsidy_percentage < 0 }
				}
				set_variable = { export_subsidy_percentage = 0 }
			}
		}
		spending_update = yes
	}
	change_infrastructure_subsidy = {
		#Scope: Country
		#Increases/Decreases the Infrastructure Subsidy level
		#INPUT:
			#percent_change_temp - Amount to decrease it by. 1.0 increases it by 1%,  -10.0 decreases it by 10%

		add_to_variable = { infrastructure_subsidy_percentage = percent_change_temp }
		if = {
			limit = {
				check_variable = { percent_change_temp > 0 }
			}
			#TODO - People get angerry

			if = {
				limit = {
					check_variable = { infrastructure_subsidy_percentage > 100 }
				}
				set_variable = { infrastructure_subsidy_percentage = 100 }
			}
		}
		else_if = {
			limit = {
				check_variable = { percent_change_temp < 0 }
			}
			#TODO - People become happy

			if = {
				limit = {
					check_variable = { infrastructure_subsidy_percentage < 0 }
				}
				set_variable = { infrastructure_subsidy_percentage = 0 }
			}
		}
		spending_update = yes
	}
	change_industrial_subsidy = {
		#Scope: Country
		#Increases/Decreases the Industrial Subsidy level
		#INPUT:
			#percent_change_temp - Amount to decrease it by. 1.0 increases it by 1%,  -10.0 decreases it by 10%

		add_to_variable = { industrial_subsidy_percentage = percent_change_temp }
		if = {
			limit = {
				check_variable = { percent_change_temp > 0 }
			}
			#TODO - People get angerry

			if = {
				limit = {
					check_variable = { industrial_subsidy_percentage > 100 }
				}
				set_variable = { industrial_subsidy_percentage = 100 }
			}
		}
		else_if = {
			limit = {
				check_variable = { percent_change_temp < 0 }
			}
			#TODO - People become happy

			if = {
				limit = {
					check_variable = { industrial_subsidy_percentage < 0 }
				}
				set_variable = { industrial_subsidy_percentage = 0 }
			}
		}
		spending_update = yes
	}
#

#Global/National Bank
	national_bank_update = {
		#Country Scope

		#Amount of money that can be loaned
			set_variable = { pops_savings_k = 0 }
			every_controlled_state = {
				set_temp_variable = { pops_savings_temp = pops_savings }
				divide_temp_variable = { pops_savings_temp = 1000 }
				add_to_variable = { PREV.pops_savings_k = pops_savings_temp }
			}
			set_variable = { national_bank_amount_k = pops_savings_k }
			multiply_variable = { national_bank_amount_k = 10 }
		#

		#Money scarcity
			#Go through borrowers to get loan amounts - TODO
				#Home Country
				set_variable = { national_bank_amount_lent_k = 0 }

				#Foreign Countries/Corporations
				set_temp_variable = { money_lent_temp = 0 }
				for_each_loop = {
					array = money_lent_amount
					value = m
					add_to_temp_variable = { money_lent_temp = m }
				}
				divide_temp_variable = { money_lent_temp = 1000 }
				add_to_variable = { national_bank_amount_lent_k = money_lent_temp }
			#

			set_variable = { national_bank_amount_left_k = national_bank_amount_k }
			subtract_from_variable = { national_bank_amount_left_k = national_bank_amount_lent_k }

			if = {
				limit = {
					check_variable = { national_bank_amount_left_k < 0 }
				}
				set_variable = { national_bank_interest_from_scarcity = 1 }
			}
			else = {
				set_variable = { national_bank_interest_from_scarcity = national_bank_amount_lent_k }
				divide_variable = { national_bank_interest_from_scarcity = national_bank_amount_k }
			}
			multiply_variable = { national_bank_interest_from_scarcity = global.loan_scarcity_rate }

			set_variable = { national_bank_international_interest_rate = national_bank_interest_from_scarcity }
			add_to_variable = { national_bank_international_interest_rate = global.base_international_interest_rate } #National Banks prefer to lend to their own country
		#
	}
	national_debt_update = {
		#Country Scope


		#Money owed to foreign countries & interest
			clear_array = debt_to_bank_interest_rate
			set_variable = { debt_to_foreign_countries = 0 }
			set_variable = { debt_to_national_bank = 0 }
			for_each_loop = {
				array = debt_to_bank_amount
				value = m
				index = c
				if = {
					limit = {
						tag = debt_to_bank_country^c
					}
					set_variable = { debt_to_national_bank = m }
					set_temp_variable = { interest_temp = national_bank_interest_from_scarcity }
					add_to_temp_variable = { interest_temp = credit_rating_interest }
					add_to_array = { debt_to_bank_interest_rate = interest_temp }
				}
				else = {
					add_to_variable = { debt_to_foreign_countries = m }
					set_temp_variable = { country_temp = debt_to_bank_country^c }
					set_temp_variable = { interest_temp = country_temp:national_bank_international_interest_rate }
					add_to_temp_variable = { interest_temp = credit_rating_interest }
					add_to_array = { debt_to_bank_interest_rate = interest_temp }
				}
			}
		#

		set_variable = { national_debt = debt_to_national_bank }
		add_to_variable = { national_debt = debt_to_foreign_countries }

		#Total Interest Rate
		set_variable = { national_debt_interest_rate = national_debt_interest }
		multiply_variable = { national_debt_interest_rate = 1200 }
		divide_variable = { national_debt_interest_rate = national_debt }

		#Max Repayment Amount (Used in Loc)
		set_variable = { national_debt_max_repayment_amount = treasury }
		if = {
			limit = {
				check_variable = { national_debt_max_repayment_amount > national_debt }
			}
			set_variable = { national_debt_max_repayment_amount = national_debt }
		}

		#Sorting the debt to bank arrays by interest rate

			set_temp_variable = { length_temp = debt_to_bank_interest_rate^num }
			if = {
				limit = {
					check_variable = { length_temp > 1 }
				}
				for_loop_effect = {
					start = 0
					end = length_temp
					add = 1
					value = v
					find_highest_in_array = {
						array = debt_to_bank_interest_rate
						value = highest_value
						index = highest_index
					}
					#Interest Rate
					add_to_temp_array = {
						array = debt_to_bank_interest_rate_temp
						value = highest_value
					}
					remove_from_array = {
						array = debt_to_bank_interest_rate
						index = highest_index
					}
					#Country
					add_to_temp_array = {
						array = debt_to_bank_country_temp
						value = debt_to_bank_country^highest_index
					}
					remove_from_array = {
						array = debt_to_bank_country
						index = highest_index
					}
					#Amount
					add_to_temp_array = {
						array = debt_to_bank_amount_temp
						value = debt_to_bank_amount^highest_index
					}
					remove_from_array = {
						array = debt_to_bank_amount
						index = highest_index
					}

				}
				for_loop_effect = {
					start = 0
					end = length_temp
					add = 1
					value = v
					break = b
					add_to_array = {
						array = debt_to_bank_interest_rate
						value = debt_to_bank_interest_rate_temp^v
					}
					add_to_array = {
						array = debt_to_bank_country
						value = debt_to_bank_country_temp^v
					}
					add_to_array = {
						array = debt_to_bank_amount
						value = debt_to_bank_amount_temp^v
					}
				}
			}
		#
	}

	global_bank_update = {
		#Country Scope
		#Note: This loops through every country. Use it sparingly

		clear_array = global_bank_countries #Sorted by international interest rate
		clear_array = global_bank_interest_rate #Sorted by international interest rate
		for_each_loop = {
			array = global.global_bank_countries
			index = gi
			#Loops through the global econ array and adds countries to the global bank array, sorting by international interest rate

			if = {
				limit = {
					tag = global.global_bank_countries^gi
				}
				#Goes through the list to add it to the correct place
				set_temp_variable = { interest_temp = national_bank_interest_from_scarcity }
				add_to_temp_variable = { interest_temp = credit_rating_interest }
				for_each_loop = {
					array = global_bank_countries
					index = ii
					value = country_temp
					break = bb

					if = {
						limit = {
							check_variable = { global_bank_interest_rate^ii > interest_temp }
						}
						add_to_array = {
							array = global_bank_countries
							value = THIS
							index = ii
						}
						add_to_array = {
							array = global_bank_interest_rate
							value = interest_temp
							index = ii
						}
						set_temp_variable = { bb = 1 }
					}
				}
			}
			else = {
				add_to_array = { global_bank_countries = global.global_bank_countries^gi }
				add_to_array = { global_bank_interest_rate = global.global_bank_interest_rate^gi }
				set_temp_variable = { index_temp = global_bank_interest_rate^num }
				subtract_from_temp_variable = { index_temp = 1 }
				add_to_variable = { global_bank_interest_rate^index_temp = credit_rating_interest }
				set_variable = { int_t = global_bank_interest_rate^index_temp }
			}
		}
		if = {
			limit = {
				NOT = { is_in_array = { global_bank_countries = THIS } }
			}
			#Goes through the list to add it to the correct place
			set_temp_variable = { interest_temp = national_bank_interest_from_scarcity }
			add_to_temp_variable = { interest_temp = credit_rating_interest }
			for_each_loop = {
				array = global_bank_countries
				index = ii
				value = country_temp
				break = bb

				if = {
					limit = {
						check_variable = { global_bank_interest_rate^ii > interest_temp }
					}
					add_to_array = {
						array = global_bank_countries
						value = THIS
						index = ii
					}
					add_to_array = {
						array = global_bank_interest_rate
						value = interest_temp
						index = ii
					}
					set_temp_variable = { bb = 1 }
				}
			}
			if = {
				limit = {
					check_variable = { bb = 0 }
				}
				add_to_array = {
					array = global_bank_countries
					value = THIS
				}
				add_to_array = {
					array = global_bank_interest_rate
					value = interest_temp
				}
			}
		}
	}

	borrow_money = {
		#Scope: Country
		#Borrows money. Automatically caps at the maximum amount you can borrow.
		#INPUT:
			#borrow_money_temp - Amount of money to borrow. Non-integer amounts are accepted but integers are preferable
			#country_temp - Which country to specifically borrow from, set to 0 to borrow money from any country

		if = {
			limit = {
				check_variable = { borrow_money_temp > 0 }
			}

			set_temp_variable = { borrow_temp = borrow_money_temp }
			subtract_from_temp_variable = { borrow_temp = 0.5 }
			round_temp_variable = borrow_temp

			if = {
				limit = {
					tag = country_temp
				}
				#Borrow from Locals
				set_temp_variable = { borrow_temp_k = borrow_temp }
				divide_temp_variable = { borrow_temp_k = 1000 }
				if = {
					limit = {
						check_variable = { borrow_temp_k > national_bank_amount_left_k }
					}
					set_temp_variable = { borrow_temp_k = national_bank_amount_left_k }
				}
				if = {
					limit = {
						check_variable = { borrow_temp_k < 0 }
					}
					set_temp_variable = { borrow_temp_k = 0 }
				}
				else = {
					set_temp_variable = { borrow_temp = borrow_temp_k }
					multiply_temp_variable = { borrow_temp = 1000 }
					add_to_variable = { treasury = borrow_temp }
					if = {
						limit = {
							is_in_array = { array = debt_to_bank_country value = THIS }
						}
						for_each_loop = {
							array = debt_to_bank_country
							value = cc
							index = iii
							break = bank_break

							if = {
								limit = {
									tag = cc
								}
								add_to_variable = { debt_to_bank_amount^iii = borrow_temp }
								set_temp_variable = { bank_break = 1 }
							}
						}
						for_each_loop = {
							array = money_lent_country
							value = cc
							index = iii
							break = lent_break

							if = {
								limit = {
									tag = cc
								}
								add_to_variable = { money_lent_amount^iii = borrow_temp }
								set_temp_variable = { lent_break = 1 }
							}
						}
					}
					else = {
						add_to_array = { debt_to_bank_country = THIS }
						add_to_array = { debt_to_bank_amount = borrow_temp }
						add_to_array = { money_lent_country = THIS }
						add_to_array = { money_lent_amount = borrow_temp }
					}

				}

			}
			else_if = {
				limit = {
					check_variable = { country_temp = 0  }
				}
				set_variable = { borrow_money_amount_left = borrow_temp }
				#Borrow from Cheapest Banks
				for_each_loop = {
					array = global_bank_countries
					index = ii
					value = country_bank_temp
					break = bb

					set_temp_variable = { borrow_temp_k = borrow_money_amount_left }
					divide_temp_variable = { borrow_temp_k = 1000 }
					if = {
						limit = {
							tag = country_bank_temp
						}
						if = {
							limit = {
								check_variable = { borrow_temp_k > national_bank_amount_left_k }
							}
							set_temp_variable = { borrow_temp_k = national_bank_amount_left_k }
						}
					}
					else = {
						set_temp_variable = { national_bank_amount_left_k_temp = national_bank_amount_left_k }
						subtract_from_temp_variable = { national_bank_amount_left_k_temp = 1 }
						if = {
							limit = {
								check_variable = { borrow_temp_k > national_bank_amount_left_k_temp }
							}
							set_temp_variable = { borrow_temp_k = national_bank_amount_left_k_temp }
						}
					}

					#Next Cheapest
					set_temp_variable = { ii_temp = ii }
					add_to_temp_variable = { ii_temp = 1 }
					if = {
						limit = {
							check_variable = { ii_temp < global_bank_countries^num }
						}
						set_temp_variable = { interest_rate_temp = global_bank_interest_rate^ii_temp }
						subtract_from_temp_variable = { interest_rate_temp = global_bank_interest_rate^ii }
						add_to_temp_variable = { interest_rate_temp = global.loan_scarcity_increase_willingness }

						set_temp_variable = { borrow_limit_temp_k = country_bank_temp:national_bank_amount_k }
						divide_temp_variable = { borrow_limit_temp_k = global.loan_scarcity_rate }
						multiply_temp_variable = { borrow_limit_temp_k = interest_rate_temp }

						if = {
							limit = {
								check_variable = { borrow_temp_k > borrow_limit_temp_k }
							}
							set_temp_variable = { borrow_temp_k = borrow_limit_temp_k }
						}
					}

					if = {
						limit = {
							check_variable = { borrow_temp_k < 0 }
						}
						set_temp_variable = { borrow_temp_k = 0 }
					}
					else = {
						set_temp_variable = { borrow_temp = borrow_temp_k }
						multiply_temp_variable = { borrow_temp = 1000 }
						if = {
							limit = {
								is_in_array = { array = debt_to_bank_country value = country_bank_temp }
							}
							for_each_loop = {
								array = debt_to_bank_country
								value = cc
								index = iii
								break = bank_break

								if = {
									limit = {
										check_variable = { cc = country_bank_temp }
									}
									add_to_variable = { debt_to_bank_amount^iii = borrow_temp }
									set_temp_variable = { bank_break = 1 }
								}
							}
							for_each_loop = {
								array = country_bank_temp:money_lent_country
								value = cc
								index = iii
								break = lent_break

								if = {
									limit = {
										check_variable = { cc = country_bank_temp }
									}
									add_to_variable = { cc:money_lent_amount^iii = borrow_temp }
									set_temp_variable = { lent_break = 1 }
								}
							}
						}
						else = {
							add_to_array = { debt_to_bank_country = country_bank_temp }
							add_to_array = { debt_to_bank_amount = borrow_temp }
							add_to_array = { country_bank_temp:money_lent_country = THIS }
							add_to_array = { country_bank_temp:money_lent_amount = borrow_temp }
						}
						add_to_variable = { treasury = borrow_temp }
						subtract_from_variable = { borrow_money_amount_left = borrow_temp }

						national_bank_update = yes
						if = {
							limit = {
								check_variable = { borrow_money_amount_left < 0.001 }
							}
							set_temp_variable = { bb = 1 }
						}
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { country_temp > 1000000 }
				}
				#Borrow from foreign country
				var:country_temp = {
					set_temp_variable = { borrow_temp_k = borrow_temp }
					divide_temp_variable = { borrow_temp_k = 1000 }
					set_temp_variable = { national_bank_amount_left_k_temp = national_bank_amount_left_k }
					subtract_from_temp_variable = { national_bank_amount_left_k_temp = 1 }
					if = {
						limit = {
							check_variable = { borrow_temp_k > national_bank_amount_left_k_temp }
						}
						set_temp_variable = { borrow_temp_k = national_bank_amount_left_k_temp }
					}
					if = {
						limit = {
							check_variable = { borrow_temp_k < 0 }
						}
						set_temp_variable = { borrow_temp_k = 0 }
					}
					else = {

						set_temp_variable = { borrow_temp = borrow_temp_k }
						multiply_temp_variable = { borrow_temp = 1000 }
						if = {
							limit = {
								is_in_array = { array = PREV.debt_to_bank_country value = THIS }
							}
							for_each_loop = {
								array = PREV.debt_to_bank_country
								value = cc
								index = iii
								break = bank_break

								if = {
									limit = {
										tag = cc
									}
									add_to_variable = { PREV.debt_to_bank_amount^iii = borrow_temp }
									set_temp_variable = { bank_break = 1 }
								}
							}
							for_each_loop = {
								array = money_lent_country
								value = cc
								index = iii
								break = lent_break

								if = {
									limit = {
										check_variable = { cc = PREV }
									}
									add_to_variable = { money_lent_amount^iii = borrow_temp }
									set_temp_variable = { lent_break = 1 }
								}
							}
						}
						else = {
							add_to_array = { PREV.debt_to_bank_country = THIS }
							add_to_array = { PREV.debt_to_bank_amount = borrow_temp }
							add_to_array = { money_lent_country = PREV }
							add_to_array = { money_lent_amount = borrow_temp }
						}
						add_to_variable = { PREV.treasury = borrow_temp }

						national_bank_update = yes
					}
				}
			}

			national_debt_update = yes
			national_bank_update = yes
		}
	}
	repay_debt = {
		#Scope: Country
		#Repays oustanding debt. Automatically caps at treasury amount.
		#INPUT:
			#debt_repayment_temp - Amount of debt to repay. Non-integer amounts are accepted but integers are preferable
			#country_temp - Which country to specifically repay to, set to 0 to repay debts owed to any country
			#			  - If the repay amount is higher than the owed amount, only the owed amount is payed. The excess is not payed out further

		if = {
			limit = {
				check_variable = { treasury > 1 }
				check_variable = { debt_repayment_temp > 0 }
			}
			if = {
				limit = {
					check_variable = { debt_repayment_temp > treasury }
				}
				set_temp_variable = { debt_repayment_temp = treasury }
			}
			subtract_from_temp_variable = { debt_repayment_temp = 0.5 }
			round_temp_variable = debt_repayment_temp

			if = {
				limit = {
					tag = country_temp
				}

				#Paying back to locals
				if = {
					limit = {
						check_variable = { debt_repayment_temp > debt_to_national_bank }
					}
					set_temp_variable = { debt_repayment_temp = debt_to_national_bank }
				}
				set_temp_variable = { debt_repayment_temp_k = debt_repayment_temp }
				divide_temp_variable = { debt_repayment_temp_k = 1000 }
				add_to_variable = { national_bank_amount_left_k = debt_repayment_temp_k }
				if = {
					limit = {
						check_variable = { debt_repayment_temp_k < 0 }
					}
					set_temp_variable = { debt_repayment_temp_k = 0 }
				}
				else = {
					if = {
						limit = {
							is_in_array = { array = debt_to_bank_country value = THIS }
						}
						set_temp_variable = { debt_repayment_temp = debt_repayment_temp_k }
						multiply_temp_variable = { debt_repayment_temp = 1000 }
						subtract_from_variable = { treasury = debt_repayment_temp }

						for_each_loop = {
							array = debt_to_bank_country
							value = cc
							index = iii
							break = bank_break

							if = {
								limit = {
									tag = cc
								}
								subtract_from_variable = { debt_to_bank_amount^iii = debt_repayment_temp }
								if = {
									limit = {
										check_variable = { debt_to_bank_amount^iii < 0.001 }
									}
									remove_from_array = { array = debt_to_bank_amount index = iii }
									remove_from_array = { array = debt_to_bank_country index = iii }
								}
								set_temp_variable = { bank_break = 1 }
							}
						}
						for_each_loop = {
							array = money_lent_country
							value = cc
							index = iii
							break = lent_break

							if = {
								limit = {
									tag = cc
								}
								subtract_from_variable = { money_lent_amount^iii = debt_repayment_temp }
								if = {
									limit = {
										check_variable = { money_lent_amount^iii < 0.001 }
									}
									remove_from_array = { array = money_lent_amount index = iii }
									remove_from_array = { array = money_lent_country index = iii }
								}
								set_temp_variable = { lent_break = 1 }
							}
						}
						national_debt_update = yes
						national_bank_update = yes
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { country_temp = 0  }
				}
				set_variable = { debt_repayment_amount_left = debt_repayment_temp }
				set_temp_variable = { length_temp = debt_to_bank_country^ii }
				set_temp_variable = { ii = 0 }
				#Repay to Banks with highest interest rates
				while_loop_effect = {
					limit = {
						check_variable = { ii < length_temp }
					}
					break = bb
					set_temp_variable = { length_temp = debt_to_bank_country^num }
					set_temp_variable = { country_bank_temp = debt_to_bank_country^ii }

					set_temp_variable = { debt_repayment_temp = debt_repayment_amount_left }
					if = {
						limit = {
							check_variable = { debt_repayment_temp > debt_to_bank_amount^ii }
						}
						set_temp_variable = { debt_repayment_temp = debt_to_bank_amount^ii }
					}
					set_temp_variable = { debt_repayment_temp_k = debt_repayment_temp }
					divide_temp_variable = { debt_repayment_temp_k = 1000 }

					if = {
						limit = {
							check_variable = { debt_repayment_temp_k < 0 }
						}
						set_temp_variable = { debt_repayment_temp_k = 0 }
					}
					else = {
						set_temp_variable = { debt_repayment_temp = debt_repayment_temp_k }
						multiply_temp_variable = { debt_repayment_temp = 1000 }

						subtract_from_variable = { debt_to_bank_amount^ii = debt_repayment_temp }
						set_variable = { var1 = debt_to_bank_amount^ii }
						for_each_loop = {
							array = country_bank_temp:money_lent_country
							value = cc
							index = iii
							break = lent_break

							if = {
								limit = {
									check_variable = { cc = THIS }
								}
								subtract_from_variable = { country_bank_temp:money_lent_amount^iii = debt_repayment_temp }
								if = {
									limit = {
										check_variable = { country_bank_temp:money_lent_amount^iii < 0.001 }
									}
									remove_from_array = { array = country_bank_temp:money_lent_amount index = iii }
									remove_from_array = { array = country_bank_temp:money_lent_country index = iii }
								}
								set_temp_variable = { lent_break = 1 }
							}
						}
						subtract_from_variable = { treasury = debt_repayment_temp }
						subtract_from_variable = { debt_repayment_amount_left = debt_repayment_temp }
						var:country_bank_temp = {
							national_bank_update = yes
						}
						if = {
							limit = {
								check_variable = { debt_to_bank_amount^ii < 0.001 }
							}
							remove_from_array = { array = debt_to_bank_amount index = ii }
							remove_from_array = { array = debt_to_bank_country index = ii }
						}
						subtract_from_temp_variable = { ii = 1 }

						if = {
							limit = {
								check_variable = { debt_repayment_amount_left < 0.001 }
							}
							set_temp_variable = { bb = 1 }
						}
					}
					add_to_temp_variable = { ii = 1 }
				}
				national_debt_update = yes
				national_bank_update = yes
			}
			else_if = {
				limit = {
					check_variable = { country_temp > 1000000 }
				}
				#Repay to a foreign country's bank
				if = {
					limit = {
						check_variable = { debt_repayment_temp > debt_to_bank_amount^ii }
					}
					set_temp_variable = { debt_repayment_temp = debt_to_bank_amount^ii }
				}
				set_temp_variable = { debt_repayment_temp_k = debt_repayment_temp }
				divide_temp_variable = { debt_repayment_temp_k = 1000 }

				if = {
					limit = {
						check_variable = { debt_repayment_temp_k < 0 }
					}
					set_temp_variable = { debt_repayment_temp_k = 0 }
				}
				else = {
					set_temp_variable = { debt_repayment_temp = debt_repayment_temp_k }
					multiply_temp_variable = { debt_repayment_temp = 1000 }

					subtract_from_variable = { debt_to_bank_amount^ii = debt_repayment_temp }
					for_each_loop = {
						array = country_temp:money_lent_country
						value = cc
						index = iii
						break = lent_break

						if = {
							limit = {
								check_variable = { cc = THIS }
							}
							subtract_from_variable = { country_temp:money_lent_amount^iii = debt_repayment_temp }
							if = {
								limit = {
									check_variable = { country_temp:money_lent_amount^iii < 0.001 }
								}
								remove_from_array = { array = country_temp:money_lent_amount index = iii }
								remove_from_array = { array = country_temp:money_lent_country index = iii }
							}
							set_temp_variable = { lent_break = 1 }
						}
					}
					subtract_from_variable = { treasury = debt_repayment_temp }
					var:country_temp = {
						national_bank_update = yes
					}
					if = {
						limit = {
							check_variable = { debt_to_bank_amount^ii < 0.001 }
						}
						remove_from_array = { array = debt_to_bank_amount index = ii }
						remove_from_array = { array = debt_to_bank_country index = ii }
					}

					national_debt_update = yes
					national_bank_update = yes
				}
			}
		}
	}
#

#Statistics
	battalion_count_update = {
		# Land:
		#	Infantry
		#	Militia
		#	Artillery
		#	Cavalry
		#	Mobile
		#	Armor
		#	Robotic
		#	Support
		#	Total
		#	Excess (For when people add unit types without adding to this list)

		# Naval:
		#	Screen
		#	Capital
		#	Submarine
		#	Total
		#	Excess (For when people add ship types without adding to this list)

		# There is also a weighted_ count, for costing purposes

		#For air, use num_deployed_planes

		set_variable = { infantry_battalions = num_battalions_with_type@infantry }
		add_to_variable = { infantry_battalions = num_battalions_with_type@cold_war_infantry }
		add_to_variable = { infantry_battalions = num_battalions_with_type@pa_infantry }
		#add_to_variable = { infantry_battalions = num_battalions_with_type@bicycle_infantry }
		add_to_variable = { infantry_battalions = num_battalions_with_type@feudal_infantry }
		add_to_variable = { infantry_battalions = num_battalions_with_type@line_infantry }
		add_to_variable = { infantry_battalions = num_battalions_with_type@redcoat_infantry }
		add_to_variable = { infantry_battalions = num_battalions_with_type@guard_infantry }
		add_to_variable = { infantry_battalions = num_battalions_with_type@great_war_infantry }
		add_to_variable = { infantry_battalions = num_battalions_with_type@light_infantry }
		add_to_variable = { infantry_battalions = num_battalions_with_type@tribal_infantry }
		add_to_variable = { infantry_battalions = num_battalions_with_type@state_levy_infantry }
		add_to_variable = { infantry_battalions = num_battalions_with_type@native_mountaineers }
		add_to_variable = { infantry_battalions = num_battalions_with_type@mounted_infantry }
		add_to_variable = { infantry_battalions = num_battalions_with_type@early_marine }
		add_to_variable = { infantry_battalions = num_battalions_with_type@marine }
		add_to_variable = { infantry_battalions = num_battalions_with_type@kustjagare_battalion }
		add_to_variable = { infantry_battalions = num_battalions_with_type@mountaineers }
		add_to_variable = { infantry_battalions = num_battalions_with_type@shock_troops }

		#set_variable = { militia_battalions = num_battalions_with_type@spanish_militia_infantry }
		#add_to_variable = { militia_battalions = num_battalions_with_type@state_militia_infantry }
		add_to_variable = { militia_battalions = num_battalions_with_type@colonial_militia_infantry }
		#add_to_variable = { militia_battalions = num_battalions_with_type@dutch_colonial_militia_infantry }
		add_to_variable = { militia_battalions = num_battalions_with_type@irregular_infantry }
		add_to_variable = { militia_battalions = num_battalions_with_type@armed_peasants }

		set_variable = { artillery_battalions = num_battalions_with_type@anti_tank_brigade }
		add_to_variable = { artillery_battalions = num_battalions_with_type@mot_anti_tank_brigade }
		add_to_variable = { artillery_battalions = num_battalions_with_type@anti_air_brigade }
		add_to_variable = { artillery_battalions = num_battalions_with_type@mot_anti_air_brigade }
		add_to_variable = { artillery_battalions = num_battalions_with_type@cannon_artillery }
		add_to_variable = { artillery_battalions = num_battalions_with_type@cannon_artillery_towed }
		add_to_variable = { artillery_battalions = num_battalions_with_type@howitzer_artillery }
		add_to_variable = { artillery_battalions = num_battalions_with_type@howitzer_artillery_towed }
		add_to_variable = { artillery_battalions = num_battalions_with_type@siege_artillery }
		add_to_variable = { artillery_battalions = num_battalions_with_type@siege_artillery_towed }
		add_to_variable = { artillery_battalions = num_battalions_with_type@artillery_brigade }
		add_to_variable = { artillery_battalions = num_battalions_with_type@mot_artillery_brigade }
		add_to_variable = { artillery_battalions = num_battalions_with_type@rocket_artillery_brigade }
		add_to_variable = { artillery_battalions = num_battalions_with_type@mot_rocket_artillery_brigade }
		add_to_variable = { artillery_battalions = num_battalions_with_type@motorized_rocket_brigade }
		add_to_variable = { artillery_battalions = num_battalions_with_type@railway_gun }

		set_variable = { cavalry_battalions = num_battalions_with_type@tribal_cavalry }
		#add_to_variable = { cavalry_battalions = num_battalions_with_type@tribal_camel_cavalry }
		add_to_variable = { cavalry_battalions = num_battalions_with_type@tribal_pistoleer_cavalry }
		add_to_variable = { cavalry_battalions = num_battalions_with_type@state_levy_cavalry }
		add_to_variable = { cavalry_battalions = num_battalions_with_type@feudal_cavalry }
		add_to_variable = { cavalry_battalions = num_battalions_with_type@light_cavalry }
		add_to_variable = { cavalry_battalions = num_battalions_with_type@heavy_cavalry }
		add_to_variable = { cavalry_battalions = num_battalions_with_type@uhlans }
		add_to_variable = { cavalry_battalions = num_battalions_with_type@camel_cavalry }
		add_to_variable = { cavalry_battalions = num_battalions_with_type@dragoon }
		add_to_variable = { cavalry_battalions = num_battalions_with_type@great_war_cavalry }

		set_variable = { mobile_battalions = num_battalions_with_type@motorized }
		add_to_variable = { mobile_battalions = num_battalions_with_type@mechanized }
		add_to_variable = { mobile_battalions = num_battalions_with_type@airborne }
		add_to_variable = { mobile_battalions = num_battalions_with_type@amphibious_mechanized }
		add_to_variable = { mobile_battalions = num_battalions_with_type@armored_car }
		add_to_variable = { mobile_battalions = num_battalions_with_type@technicals }

		set_variable = { armor_battalions = num_battalions_with_type@amphibious_armor }
		add_to_variable = { armor_battalions = num_battalions_with_type@light_armor }
		add_to_variable = { armor_battalions = num_battalions_with_type@medium_armor }
		add_to_variable = { armor_battalions = num_battalions_with_type@heavy_armor }
		add_to_variable = { armor_battalions = num_battalions_with_type@super_heavy_armor }
		add_to_variable = { armor_battalions = num_battalions_with_type@modern_armor }
		add_to_variable = { armor_battalions = num_battalions_with_type@light_sp_anti_air_brigade }
		add_to_variable = { armor_battalions = num_battalions_with_type@medium_sp_anti_air_brigade }
		add_to_variable = { armor_battalions = num_battalions_with_type@heavy_sp_anti_air_brigade }
		add_to_variable = { armor_battalions = num_battalions_with_type@super_heavy_sp_anti_air_brigade }
		add_to_variable = { armor_battalions = num_battalions_with_type@modern_sp_anti_air_brigade }
		add_to_variable = { armor_battalions = num_battalions_with_type@light_sp_artillery_brigade }
		add_to_variable = { armor_battalions = num_battalions_with_type@medium_sp_artillery_brigade }
		add_to_variable = { armor_battalions = num_battalions_with_type@heavy_sp_artillery_brigade }
		add_to_variable = { armor_battalions = num_battalions_with_type@super_heavy_sp_artillery_brigade }
		add_to_variable = { armor_battalions = num_battalions_with_type@modern_sp_artillery_brigade }
		add_to_variable = { armor_battalions = num_battalions_with_type@light_tank_destroyer_brigade }
		add_to_variable = { armor_battalions = num_battalions_with_type@medium_tank_destroyer_brigade }
		add_to_variable = { armor_battalions = num_battalions_with_type@heavy_tank_destroyer_brigade }
		add_to_variable = { armor_battalions = num_battalions_with_type@super_heavy_tank_destroyer_brigade }
		add_to_variable = { armor_battalions = num_battalions_with_type@modern_tank_destroyer_brigade }

		set_variable = { robotic_battalions = num_battalions_with_type@light_robots }
		add_to_variable = { robotic_battalions = num_battalions_with_type@medium_robots }
		add_to_variable = { robotic_battalions = num_battalions_with_type@heavy_robots }
		add_to_variable = { robotic_battalions = num_battalions_with_type@armor_walker }

		set_variable = { support_battalions = num_battalions_with_type@anti_tank }
		add_to_variable = { support_battalions = num_battalions_with_type@cannon_artillery_support }
		add_to_variable = { support_battalions = num_battalions_with_type@cannon_artillery_towed_support }
		add_to_variable = { support_battalions = num_battalions_with_type@howitzer_artillery_support }
		add_to_variable = { support_battalions = num_battalions_with_type@howitzer_artillery_towed_support }
		add_to_variable = { support_battalions = num_battalions_with_type@siege_artillery_support }
		add_to_variable = { support_battalions = num_battalions_with_type@machine_gun_company }
		add_to_variable = { support_battalions = num_battalions_with_type@artillery }
		add_to_variable = { support_battalions = num_battalions_with_type@rocket_artillery }
		add_to_variable = { support_battalions = num_battalions_with_type@engineer }
		add_to_variable = { support_battalions = num_battalions_with_type@field_hospital }
		add_to_variable = { support_battalions = num_battalions_with_type@logistics_company }
		add_to_variable = { support_battalions = num_battalions_with_type@maintenance_company }
		add_to_variable = { support_battalions = num_battalions_with_type@military_police }
		add_to_variable = { support_battalions = num_battalions_with_type@recon }
		add_to_variable = { support_battalions = num_battalions_with_type@wired_signal_company }
		add_to_variable = { support_battalions = num_battalions_with_type@signal_company }
		add_to_variable = { support_battalions = num_battalions_with_type@bicycle_signal_company }
		add_to_variable = { support_battalions = num_battalions_with_type@motorcycle_signal_company }
		add_to_variable = { support_battalions = num_battalions_with_type@steam_car_support_company }
		add_to_variable = { support_battalions = num_battalions_with_type@flamethrower_support_company }
		add_to_variable = { support_battalions = num_battalions_with_type@sniper_team_support }
		add_to_variable = { support_battalions = num_battalions_with_type@armor_train_company }

		set_variable = { total_battalions = infantry_battalions }
		add_to_variable = { total_battalions = artillery_battalions }
		add_to_variable = { total_battalions = cavalry_battalions }
		add_to_variable = { total_battalions = mobile_battalions }
		add_to_variable = { total_battalions = armor_battalions }
		add_to_variable = { total_battalions = robotic_battalions }
		add_to_variable = { total_battalions = support_battalions }

		set_variable = { excess_battalions = total_battalions }
		subtract_from_variable = { excess_battalions = num_battalions }


		set_variable = { screen_ships = num_ships_with_type@corvette }
		add_to_variable = { screen_ships = num_ships_with_type@destroyer }
		add_to_variable = { screen_ships = num_ships_with_type@light_cruiser }
		add_to_variable = { screen_ships = num_ships_with_type@monitor }
		add_to_variable = { screen_ships = num_ships_with_type@primitive_rowboat }
		add_to_variable = { screen_ships = num_ships_with_type@torpedo_boat }

		set_variable = { capital_ships = num_ships_with_type@battle_cruiser }
		add_to_variable = { capital_ships = num_ships_with_type@battleship }
		add_to_variable = { capital_ships = num_ships_with_type@carrier }
		add_to_variable = { capital_ships = num_ships_with_type@dreadnought }
		add_to_variable = { capital_ships = num_ships_with_type@cruiser }
		add_to_variable = { capital_ships = num_ships_with_type@frigate }
		add_to_variable = { screen_ships = num_ships_with_type@gunboat }
		add_to_variable = { capital_ships = num_ships_with_type@heavy_cruiser }
		add_to_variable = { capital_ships = num_ships_with_type@ironclad }
		add_to_variable = { capital_ships = num_ships_with_type@lineship }
		add_to_variable = { capital_ships = num_ships_with_type@primitive_sailing_boat }

		set_variable = { submarine_ships = num_ships_with_type@coastal_submarine }
		add_to_variable = { submarine_ships = num_ships_with_type@submarine }

		set_variable = { total_ships = screen_ships }
		add_to_variable = { total_ships = capital_ships }
		add_to_variable = { total_ships = submarine_ships }

		set_variable = { excess_ships = num_ships }
		subtract_from_variable = { excess_ships = total_ships }

		#WEIGHTED
		set_variable = { infantry_battalions_weighted = num_battalions_with_type@infantry }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@infantry }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@cold_war_infantry }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@cold_war_infantry }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@pa_infantry }
		#add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@bicycle_infantry }
		#add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@bicycle_infantry }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@feudal_infantry }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@line_infantry }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@redcoat_infantry }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@redcoat_infantry }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@guard_infantry }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@guard_infantry }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@great_war_infantry }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@great_war_infantry }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@light_infantry }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@tribal_infantry }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@state_levy_infantry }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@native_mountaineers }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@mounted_infantry }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@mounted_infantry }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@early_marine }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@early_marine }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@marine }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@marine }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@marine }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@kustjagare_battalion }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@kustjagare_battalion }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@mountaineers }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@mountaineers }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@mountaineers }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@shock_troops }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@shock_troops }
		add_to_variable = { infantry_battalions_weighted = num_battalions_with_type@shock_troops }

		set_variable = { militia_battalions_weighted = 0 }
		#add_to_variable = { militia_battalions_weighted = num_battalions_with_type@state_militia_infantry }
		add_to_variable = { militia_battalions_weighted = num_battalions_with_type@colonial_militia_infantry }
		#add_to_variable = { militia_battalions_weighted = num_battalions_with_type@dutch_colonial_militia_infantry }
		add_to_variable = { militia_battalions_weighted = num_battalions_with_type@irregular_infantry }
		add_to_variable = { militia_battalions_weighted = num_battalions_with_type@armed_peasants }

		set_variable = { artillery_battalions_weighted = num_battalions_with_type@anti_tank_brigade }
		add_to_variable = { artillery_battalions_weighted = num_battalions_with_type@mot_anti_tank_brigade }
		add_to_variable = { artillery_battalions_weighted = num_battalions_with_type@anti_air_brigade }
		add_to_variable = { artillery_battalions_weighted = num_battalions_with_type@mot_anti_air_brigade }
		add_to_variable = { artillery_battalions_weighted = num_battalions_with_type@cannon_artillery }
		add_to_variable = { artillery_battalions_weighted = num_battalions_with_type@cannon_artillery_towed }
		add_to_variable = { artillery_battalions_weighted = num_battalions_with_type@howitzer_artillery }
		add_to_variable = { artillery_battalions_weighted = num_battalions_with_type@howitzer_artillery_towed }
		add_to_variable = { artillery_battalions_weighted = num_battalions_with_type@siege_artillery }
		add_to_variable = { artillery_battalions_weighted = num_battalions_with_type@siege_artillery }
		add_to_variable = { artillery_battalions_weighted = num_battalions_with_type@siege_artillery_towed }
		add_to_variable = { artillery_battalions_weighted = num_battalions_with_type@siege_artillery_towed }
		add_to_variable = { artillery_battalions_weighted = num_battalions_with_type@artillery_brigade }
		add_to_variable = { artillery_battalions_weighted = num_battalions_with_type@mot_artillery_brigade }
		add_to_variable = { artillery_battalions_weighted = num_battalions_with_type@rocket_artillery_brigade }
		add_to_variable = { artillery_battalions_weighted = num_battalions_with_type@mot_rocket_artillery_brigade }
		add_to_variable = { artillery_battalions_weighted = num_battalions_with_type@motorized_rocket_brigade }
		add_to_variable = { artillery_battalions_weighted = num_battalions_with_type@railway_gun }
		add_to_variable = { artillery_battalions_weighted = num_battalions_with_type@railway_gun }
		add_to_variable = { artillery_battalions_weighted = num_battalions_with_type@railway_gun }

		set_variable = { cavalry_battalions_weighted = num_battalions_with_type@tribal_cavalry }
		#add_to_variable = { cavalry_battalions_weighted = num_battalions_with_type@tribal_camel_cavalry }
		add_to_variable = { cavalry_battalions_weighted = num_battalions_with_type@tribal_pistoleer_cavalry }
		add_to_variable = { cavalry_battalions_weighted = num_battalions_with_type@state_levy_cavalry }
		add_to_variable = { cavalry_battalions_weighted = num_battalions_with_type@feudal_cavalry }
		add_to_variable = { cavalry_battalions_weighted = num_battalions_with_type@light_cavalry }
		add_to_variable = { cavalry_battalions_weighted = num_battalions_with_type@light_cavalry }
		add_to_variable = { cavalry_battalions_weighted = num_battalions_with_type@heavy_cavalry }
		add_to_variable = { cavalry_battalions_weighted = num_battalions_with_type@heavy_cavalry }
		add_to_variable = { cavalry_battalions_weighted = num_battalions_with_type@heavy_cavalry }
		add_to_variable = { cavalry_battalions_weighted = num_battalions_with_type@uhlans }
		add_to_variable = { cavalry_battalions_weighted = num_battalions_with_type@camel_cavalry }
		add_to_variable = { cavalry_battalions_weighted = num_battalions_with_type@dragoon }
		add_to_variable = { cavalry_battalions_weighted = num_battalions_with_type@dragoon }
		add_to_variable = { cavalry_battalions_weighted = num_battalions_with_type@great_war_cavalry }
		add_to_variable = { cavalry_battalions_weighted = num_battalions_with_type@great_war_cavalry }

		set_variable = { mobile_battalions_weighted = num_battalions_with_type@motorized }
		add_to_variable = { mobile_battalions_weighted = num_battalions_with_type@motorized }
		add_to_variable = { mobile_battalions_weighted = num_battalions_with_type@mechanized }
		add_to_variable = { mobile_battalions_weighted = num_battalions_with_type@mechanized }
		add_to_variable = { mobile_battalions_weighted = num_battalions_with_type@mechanized }
		add_to_variable = { mobile_battalions_weighted = num_battalions_with_type@airborne }
		add_to_variable = { mobile_battalions_weighted = num_battalions_with_type@airborne }
		add_to_variable = { mobile_battalions_weighted = num_battalions_with_type@airborne }
		add_to_variable = { mobile_battalions_weighted = num_battalions_with_type@airborne }
		add_to_variable = { mobile_battalions_weighted = num_battalions_with_type@amphibious_mechanized }
		add_to_variable = { mobile_battalions_weighted = num_battalions_with_type@amphibious_mechanized }
		add_to_variable = { mobile_battalions_weighted = num_battalions_with_type@amphibious_mechanized }
		add_to_variable = { mobile_battalions_weighted = num_battalions_with_type@amphibious_mechanized }
		add_to_variable = { mobile_battalions_weighted = num_battalions_with_type@armored_car }
		add_to_variable = { mobile_battalions_weighted = num_battalions_with_type@technicals }

		set_variable = { armor_battalions_weighted = num_battalions_with_type@amphibious_armor }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@amphibious_armor }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@light_armor }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@light_armor }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@medium_armor }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@medium_armor }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@medium_armor }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@heavy_armor }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@heavy_armor }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@heavy_armor }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@heavy_armor }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@super_heavy_armor }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@super_heavy_armor }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@super_heavy_armor }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@super_heavy_armor }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@super_heavy_armor }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@modern_armor }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@modern_armor }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@modern_armor }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@modern_armor }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@light_sp_anti_air_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@light_sp_anti_air_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@medium_sp_anti_air_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@medium_sp_anti_air_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@medium_sp_anti_air_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@heavy_sp_anti_air_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@heavy_sp_anti_air_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@heavy_sp_anti_air_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@heavy_sp_anti_air_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@super_heavy_sp_anti_air_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@super_heavy_sp_anti_air_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@super_heavy_sp_anti_air_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@super_heavy_sp_anti_air_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@super_heavy_sp_anti_air_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@modern_sp_anti_air_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@modern_sp_anti_air_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@modern_sp_anti_air_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@modern_sp_anti_air_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@light_sp_artillery_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@light_sp_artillery_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@medium_sp_artillery_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@medium_sp_artillery_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@medium_sp_artillery_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@heavy_sp_artillery_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@heavy_sp_artillery_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@heavy_sp_artillery_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@heavy_sp_artillery_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@super_heavy_sp_artillery_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@super_heavy_sp_artillery_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@super_heavy_sp_artillery_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@super_heavy_sp_artillery_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@super_heavy_sp_artillery_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@modern_sp_artillery_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@modern_sp_artillery_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@modern_sp_artillery_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@modern_sp_artillery_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@light_tank_destroyer_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@light_tank_destroyer_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@medium_tank_destroyer_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@medium_tank_destroyer_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@medium_tank_destroyer_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@heavy_tank_destroyer_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@heavy_tank_destroyer_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@heavy_tank_destroyer_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@heavy_tank_destroyer_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@super_heavy_tank_destroyer_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@super_heavy_tank_destroyer_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@super_heavy_tank_destroyer_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@super_heavy_tank_destroyer_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@super_heavy_tank_destroyer_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@modern_tank_destroyer_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@modern_tank_destroyer_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@modern_tank_destroyer_brigade }
		add_to_variable = { armor_battalions_weighted = num_battalions_with_type@modern_tank_destroyer_brigade }

		set_variable = { robotic_battalions_weighted = num_battalions_with_type@light_robots }
		add_to_variable = { robotic_battalions_weighted = num_battalions_with_type@medium_robots }
		add_to_variable = { robotic_battalions_weighted = num_battalions_with_type@medium_robots }
		add_to_variable = { robotic_battalions_weighted = num_battalions_with_type@heavy_robots }
		add_to_variable = { robotic_battalions_weighted = num_battalions_with_type@heavy_robots }
		add_to_variable = { robotic_battalions_weighted = num_battalions_with_type@heavy_robots }
		add_to_variable = { robotic_battalions_weighted = num_battalions_with_type@heavy_robots }
		add_to_variable = { robotic_battalions_weighted = num_battalions_with_type@armor_walker }
		add_to_variable = { robotic_battalions_weighted = num_battalions_with_type@armor_walker }

		set_variable = { support_battalions_weighted = num_battalions_with_type@anti_tank }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@cannon_artillery_support }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@cannon_artillery_towed_support }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@howitzer_artillery_support }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@howitzer_artillery_towed_support }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@siege_artillery_support }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@siege_artillery_support }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@machine_gun_company }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@artillery }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@rocket_artillery }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@engineer }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@field_hospital }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@field_hospital }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@logistics_company }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@maintenance_company }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@military_police }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@recon }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@wired_signal_company }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@signal_company }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@bicycle_signal_company }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@motorcycle_signal_company }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@steam_car_support_company }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@flamethrower_support_company }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@sniper_team_support }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@armor_train_company }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@armor_train_company }
		add_to_variable = { support_battalions_weighted = num_battalions_with_type@armor_train_company }


		set_variable = { screen_ships_weighted = num_ships_with_type@corvette }
		add_to_variable = { screen_ships_weighted = num_ships_with_type@destroyer }
		add_to_variable = { screen_ships_weighted = num_ships_with_type@destroyer }
		add_to_variable = { screen_ships_weighted = num_ships_with_type@light_cruiser }
		add_to_variable = { screen_ships_weighted = num_ships_with_type@light_cruiser }
		add_to_variable = { screen_ships_weighted = num_ships_with_type@light_cruiser }
		add_to_variable = { screen_ships_weighted = num_ships_with_type@monitor }
		add_to_variable = { screen_ships_weighted = num_ships_with_type@monitor }
		add_to_variable = { screen_ships_weighted = num_ships_with_type@primitive_rowboat }
		add_to_variable = { screen_ships_weighted = num_ships_with_type@torpedo_boat }

		set_variable = { capital_ships_weighted = num_ships_with_type@battle_cruiser }
		add_to_variable = { capital_ships_weighted = num_ships_with_type@battle_cruiser }
		add_to_variable = { capital_ships_weighted = num_ships_with_type@battleship }
		add_to_variable = { capital_ships_weighted = num_ships_with_type@battleship }
		add_to_variable = { capital_ships_weighted = num_ships_with_type@battleship }
		add_to_variable = { capital_ships_weighted = num_ships_with_type@carrier }
		add_to_variable = { capital_ships_weighted = num_ships_with_type@carrier }
		add_to_variable = { capital_ships_weighted = num_ships_with_type@carrier }
		add_to_variable = { capital_ships_weighted = num_ships_with_type@dreadnought }
		add_to_variable = { capital_ships_weighted = num_ships_with_type@dreadnought }
		add_to_variable = { capital_ships_weighted = num_ships_with_type@dreadnought }
		add_to_variable = { capital_ships_weighted = num_ships_with_type@dreadnought }
		add_to_variable = { capital_ships_weighted = num_ships_with_type@cruiser }
		add_to_variable = { capital_ships_weighted = num_ships_with_type@cruiser }
		add_to_variable = { capital_ships_weighted = num_ships_with_type@frigate }
		add_to_variable = { screen_ships_weighted = num_ships_with_type@gunboat }
		add_to_variable = { capital_ships_weighted = num_ships_with_type@heavy_cruiser }
		add_to_variable = { capital_ships_weighted = num_ships_with_type@heavy_cruiser }
		add_to_variable = { capital_ships_weighted = num_ships_with_type@ironclad }
		add_to_variable = { capital_ships_weighted = num_ships_with_type@ironclad }
		add_to_variable = { capital_ships_weighted = num_ships_with_type@lineship }
		add_to_variable = { capital_ships_weighted = num_ships_with_type@lineship }
		add_to_variable = { capital_ships_weighted = num_ships_with_type@primitive_sailing_boat }

		set_variable = { submarine_ships_weighted = num_ships_with_type@coastal_submarine }
		add_to_variable = { submarine_ships_weighted = num_ships_with_type@submarine }
		add_to_variable = { submarine_ships_weighted = num_ships_with_type@submarine }


	}

    gdp_update = {
        #State
        set_variable = { gdp_amount = 0 }
        for_each_loop = {
            array = global.resource_token_array
            value = r_token

            set_temp_variable = { gdp_temp = production@var:r_token }
            subtract_from_temp_variable = { gdp_temp = demand_input@var:r_token }
            multiply_temp_variable = { gdp_temp = price@var:r_token }
            add_to_variable = { gdp_amount = gdp_temp }
        }

        set_variable = { gdp_per_capita = gdp_amount }
        divide_variable = { gdp_per_capita = pops }


        if = {
            limit = {
                check_variable = { gdp_per_capita > global.highest_state_gdp_c }
            }
            set_variable = { global.highest_state_gdp_c = gdp_per_capita }
        }
        if = {
            limit = {
                check_variable = { gdp_amount > global.highest_state_gdp }
            }
            set_variable = { global.highest_state_gdp = gdp_amount }
        }
    }

	create_state_gdp_graph = {
		set_variable = { gdp_graph_min = 2000000 }
		set_variable = { gdp_graph_max = 0 }
		clr_state_flag = gdp_graph_thousands
		clear_array = gdp_graph_amount_array
		clear_array = gdp_graph_color_array
		clear_array = gdp_graph_y_array

		for_each_loop = {
			array = gdp_amount_array
			value = vv
			index = ii
			if = {
				limit = {
					check_variable = { vv > gdp_graph_max }
				}
				set_variable = { gdp_graph_max = vv }
			}
			if = {
				limit = {
					check_variable = { vv < gdp_graph_min }
				}
				set_variable = { gdp_graph_min = vv }
			}

			if = {
				limit = {
					check_variable = { ii > 0 }
				}
				set_temp_variable = { prev_i = ii }
				subtract_from_temp_variable = { prev_i = 1 }

				set_temp_variable = { value_temp = vv }
				add_to_temp_variable = { value_temp = gdp_amount_array^prev_i }
				divide_temp_variable = { value_temp = 2 }
                add_to_array = {
                    array = gdp_graph_amount_array
                    value = value_temp
                    index = 0
                }

				if = {
					limit = {
						check_variable = { vv < gdp_amount_array^prev_i }
					}
                    add_to_array = {
                        array = gdp_graph_color_array
                        value = 1
                        index = 0
                    }
                    add_to_array = {
                        array = gdp_graph_color_array
                        value = 1
                        index = 0
                    }
				}
				else_if = {
					limit = {
						check_variable = { vv = gdp_amount_array^prev_i }
					}
                    add_to_array = {
                        array = gdp_graph_color_array
                        value = 2
                        index = 0
                    }
                    add_to_array = {
                        array = gdp_graph_color_array
                        value = 2
                        index = 0
                    }
				}
				else = {
                    add_to_array = {
                        array = gdp_graph_color_array
                        value = 3
                        index = 0
                    }
                    add_to_array = {
                        array = gdp_graph_color_array
                        value = 3
                        index = 0
                    }
				}

                add_to_array = {
                    array = gdp_graph_amount_array
                    value = vv
                    index = 0
                }
			}
			else = {
                add_to_array = {
                    array = gdp_graph_amount_array
                    value = vv
                    index = 0
                }
                add_to_array = {
                    array = gdp_graph_color_array
                    value = 2
                    index = 0
                }
			}
		}

		#Creating the Graph
		for_each_loop = {
			array = gdp_graph_amount_array
			value = vv
			index = ii

			set_temp_variable = { gdp_per_y_temp = gdp_graph_max }
			subtract_from_temp_variable = { gdp_per_y_temp = gdp_graph_min }
			divide_temp_variable = { gdp_per_y_temp = -75 } #75 Pixels, making it negative b/c going from top to bottom

			set_temp_variable = { y_temp = vv }
			subtract_from_temp_variable = { y_temp = gdp_graph_max }
			divide_temp_variable = { y_temp = gdp_per_y_temp }
			round_temp_variable = y_temp
			if = {
				limit = {
					check_variable = { y_temp > 76 }
				}
				set_temp_variable = { y_temp = 76 }
			}
			add_to_array = { gdp_graph_y_array = y_temp }
		}



		#Correcting the max/min
		if = {
			limit = {
				check_variable = { gdp_graph_max > 1000 } #gdp_graph_min should always be less than max, so there's no point to checking it
			}
			divide_variable = { gdp_graph_min = 1000 }
			divide_variable = { gdp_graph_max = 1000 }
			set_state_flag = gdp_graph_thousands
		}
		else_if = {
			limit = {
				check_variable = { gdp_graph_max > 100 }
			}
			divide_variable = { gdp_graph_min = 100 } #This gets rid of some decimals so there's only up to 4 digits
			divide_variable = { gdp_graph_max = 100 }
			multiply_variable = { gdp_graph_min = 100 }
			multiply_variable = { gdp_graph_max = 100 }
		}
		else_if = {
			limit = {
				check_variable = { gdp_graph_max > 10 }
			}
			divide_variable = { gdp_graph_min = 10 } #This gets rid of some decimals so there's only up to 4 digits
			divide_variable = { gdp_graph_max = 10 }
			multiply_variable = { gdp_graph_min = 10 }
			multiply_variable = { gdp_graph_max = 10 }
		}
		add_to_variable = { update_state_econ_window = 1 }
	}
    create_economy_graph = {
        #INPUT: economy_graph_temp_array - Array that this uses to populate the graph
        #       down_is_good_flag        - Country flag that is set to indicate that a downward trend in the graph is green

        #Country Scope
		set_variable = { economy_graph_min = 2000000 }
		set_variable = { economy_graph_max = 0 }
		clear_array = economy_graph_amount_array
		clear_array = economy_graph_color_array
		clear_array = economy_graph_y_array

		for_each_loop = {
			array = economy_graph_temp_array
			value = vv
			index = ii
			if = {
				limit = {
					check_variable = { vv > economy_graph_max }
				}
				set_variable = { economy_graph_max = vv }
			}
			if = {
				limit = {
					check_variable = { vv < economy_graph_min }
				}
				set_variable = { economy_graph_min = vv }
			}

			if = {
				limit = {
					check_variable = { ii > 0 }
				}
				set_temp_variable = { prev_i = ii }
				subtract_from_temp_variable = { prev_i = 1 }

				set_temp_variable = { value_temp = vv }
				add_to_temp_variable = { value_temp = economy_graph_temp_array^prev_i }
				divide_temp_variable = { value_temp = 2 }
                add_to_array = {
                    array = economy_graph_amount_array
                    value = value_temp
                    index = 0
                }

				if = {
					limit = {
                        if = {
                            limit = {
                                has_country_flag = down_is_good_flag
                            }
						    check_variable = { vv > economy_graph_temp_array^prev_i }
                        }
                        else = {
						    check_variable = { vv < economy_graph_temp_array^prev_i }
                        }
					}
                    add_to_array = {
                        array = economy_graph_color_array
                        value = 1
                        index = 0
                    }
                    add_to_array = {
                        array = economy_graph_color_array
                        value = 1
                        index = 0
                    }
				}
				else_if = {
					limit = {
						check_variable = { vv = economy_amount_array^prev_i }
					}
                    add_to_array = {
                        array = economy_graph_color_array
                        value = 2
                        index = 0
                    }
                    add_to_array = {
                        array = economy_graph_color_array
                        value = 2
                        index = 0
                    }
				}
				else = {
                    add_to_array = {
                        array = economy_graph_color_array
                        value = 3
                        index = 0
                    }
                    add_to_array = {
                        array = economy_graph_color_array
                        value = 3
                        index = 0
                    }
				}

                add_to_array = {
                    array = economy_graph_amount_array
                    value = vv
                    index = 0
                }
			}
			else = {
                add_to_array = {
                    array = economy_graph_amount_array
                    value = vv
                    index = 0
                }
                add_to_array = {
                    array = economy_graph_color_array
                    value = 2
                    index = 0
                }
			}
		}

        set_temp_variable = { economy_graph_max_temp = economy_graph_max }

		set_temp_variable = { economy_per_y_temp = economy_graph_max }
		subtract_from_temp_variable = { economy_per_y_temp = economy_graph_min }
        if = {
            limit = {
                check_variable = { economy_graph_max < 1000 }
            }
            for_each_loop = {
                array = economy_graph_amount_array
                value = vv
                index = ii
                multiply_variable = { economy_graph_amount_array^ii = 1000 }
            }
            multiply_temp_variable = { economy_per_y_temp = 1000 }
            multiply_temp_variable = { economy_graph_max_temp = 1000 }
        }

		divide_temp_variable = { economy_per_y_temp = -75 } #75 Pixels, making it negative b/c going from top to bottom


		#Creating the Graph
		for_each_loop = {
			array = economy_graph_amount_array
			value = vv
			index = ii

			set_temp_variable = { y_temp = vv }
			subtract_from_temp_variable = { y_temp = economy_graph_max_temp }
			divide_temp_variable = { y_temp = economy_per_y_temp }
			round_temp_variable = y_temp

			if = {
				limit = {
					check_variable = { y_temp > 76 }
				}
				set_temp_variable = { y_temp = 76 }
			}
			add_to_array = { economy_graph_y_array = y_temp }
		}



		#Correcting the max/min
		if = {
			limit = {
				check_variable = { economy_graph_max > 1000 } #economy_graph_min should always be less than max, so there's no point to checking it
			}
			divide_variable = { economy_graph_min = 1000 }
			divide_variable = { economy_graph_max = 1000 }
			set_state_flag = economy_graph_thousands
		}
		else_if = {
			limit = {
				check_variable = { economy_graph_max > 100 }
			}
			divide_variable = { economy_graph_min = 100 } #This gets rid of some decimals so there's only up to 4 digits
			divide_variable = { economy_graph_max = 100 }
			multiply_variable = { economy_graph_min = 100 }
			multiply_variable = { economy_graph_max = 100 }
		}
		else_if = {
			limit = {
				check_variable = { economy_graph_max > 10 }
			}
			divide_variable = { economy_graph_min = 10 } #This gets rid of some decimals so there's only up to 4 digits
			divide_variable = { economy_graph_max = 10 }
			multiply_variable = { economy_graph_min = 10 }
			multiply_variable = { economy_graph_max = 10 }
		}

        clear_temp_array = economy_graph_temp_array
    }
#

#Modifiers
    r_update_modifiers_state_effects = {
        set_variable = { wage_factor = global.base_wage_factor }

        set_variable = { building_construction_speed_factor = controller:modifier@building_construction_speed_factor }
        set_variable = { building_construction_cost_factor = controller:modifier@building_construction_cost_factor }
        set_variable = { building_upgrade_speed_factor = controller:modifier@building_upgrade_speed_factor }
        set_variable = { building_upgrade_cost_factor = controller:modifier@building_upgrade_cost_factor }
        add_to_variable = { building_construction_speed_factor = modifier@local_building_construction_speed_factor }
        add_to_variable = { building_construction_cost_factor = modifier@local_building_construction_cost_factor }
        add_to_variable = { building_upgrade_speed_factor = modifier@local_building_upgrade_speed_factor }
        add_to_variable = { building_upgrade_cost_factor = modifier@local_building_upgrade_cost_factor }

        #Subsistence Farm
            set_variable = { building_size_factor@token:building_subsistence_farm = controller:modifier@building_subsistence_farm_size_factor }
            set_variable = { building_output_factor@token:building_subsistence_farm = controller:modifier@building_subsistence_farm_output_factor }
        #
        #Rice Paddy
            set_variable = { building_size_factor@token:building_rice_paddy = controller:modifier@building_rice_paddy_size_factor }
            set_variable = { building_output_factor@token:building_rice_paddy = controller:modifier@building_rice_paddy_output_factor }
        #

        #Military_industry
            set_variable = { building_input_factor@token:building_military_industry = controller:modifier@building_military_industry_input_factor }
            set_variable = { building_output_factor@token:building_military_industry = controller:modifier@building_military_industry_output_factor }
            set_variable = { building_throughput_factor@token:building_military_industry = controller:modifier@building_military_industry_throughput_factor }
            set_variable = { building_attractiveness_modifier@token:building_military_industry = controller:modifier@building_military_industry_attractiveness_modifier }
            set_variable = { building_attractiveness_factor@token:building_military_industry = controller:modifier@building_military_industry_attractiveness_factor }
            set_variable = { building_industrial_capacity_use_factor@token:building_military_industry = controller:modifier@building_military_industry_industrial_capacity_use_factor }
        #
        #Civilian_industry
            set_variable = { building_input_factor@token:building_civilian_industry = controller:modifier@building_civilian_industry_input_factor }
            set_variable = { building_output_factor@token:building_civilian_industry = controller:modifier@building_civilian_industry_output_factor }
            set_variable = { building_throughput_factor@token:building_civilian_industry = controller:modifier@building_civilian_industry_throughput_factor }
            set_variable = { building_attractiveness_modifier@token:building_civilian_industry = controller:modifier@building_civilian_industry_attractiveness_modifier }
            set_variable = { building_attractiveness_factor@token:building_civilian_industry = controller:modifier@building_civilian_industry_attractiveness_factor }
            set_variable = { building_industrial_capacity_use_factor@token:building_civilian_industry = controller:modifier@building_civilian_industry_industrial_capacity_use_factor }
        #
        #Naval_industry
            set_variable = { building_input_factor@token:building_naval_industry = controller:modifier@building_naval_industry_input_factor }
            set_variable = { building_output_factor@token:building_naval_industry = controller:modifier@building_naval_industry_output_factor }
            set_variable = { building_throughput_factor@token:building_naval_industry = controller:modifier@building_naval_industry_throughput_factor }
            set_variable = { building_attractiveness_modifier@token:building_naval_industry = controller:modifier@building_naval_industry_attractiveness_modifier }
            set_variable = { building_attractiveness_factor@token:building_naval_industry = controller:modifier@building_naval_industry_attractiveness_factor }
            set_variable = { building_industrial_capacity_use_factor@token:building_naval_industry = controller:modifier@building_naval_industry_industrial_capacity_use_factor }
        #

        #Infrastructure
            set_variable = { building_input_factor@token:building_infrastructure = controller:modifier@building_infrastructure_input_factor }
            set_variable = { building_output_factor@token:building_infrastructure = controller:modifier@building_infrastructure_output_factor }
            set_variable = { building_throughput_factor@token:building_infrastructure = controller:modifier@building_infrastructure_throughput_factor }
            set_variable = { building_industrial_capacity_factor@token:building_infrastructure = controller:modifier@building_infrastructure_industrial_capacity_factor }
            set_variable = { building_shipping_capacity_factor@token:building_infrastructure = controller:modifier@building_infrastructure_shipping_capacity_factor }
            set_variable = { building_attractiveness_modifier@token:building_infrastructure = controller:modifier@building_infrastructure_attractiveness_modifier }
            set_variable = { building_attractiveness_factor@token:building_infrastructure = controller:modifier@building_infrastructure_attractiveness_factor }
        #
        #Railway
            set_variable = { building_input_factor@token:building_railway = controller:modifier@building_railway_input_factor }
            set_variable = { building_output_factor@token:building_railway = controller:modifier@building_railway_output_factor }
            set_variable = { building_throughput_factor@token:building_railway = controller:modifier@building_railway_throughput_factor }
            set_variable = { building_industrial_capacity_factor@token:building_railway = controller:modifier@building_railway_industrial_capacity_factor }
            set_variable = { building_shipping_capacity_factor@token:building_railway = controller:modifier@building_railway_shipping_capacity_factor }
            set_variable = { building_attractiveness_modifier@token:building_railway = controller:modifier@building_railway_attractiveness_modifier }
            set_variable = { building_attractiveness_factor@token:building_railway = controller:modifier@building_railway_attractiveness_factor }
        #
        #Port
            set_variable = { building_input_factor@token:building_port = controller:modifier@building_port_input_factor }
            set_variable = { building_output_factor@token:building_port = controller:modifier@building_port_output_factor }
            set_variable = { building_throughput_factor@token:building_port = controller:modifier@building_port_throughput_factor }
            set_variable = { building_shipping_capacity_factor@token:building_port = controller:modifier@building_port_shipping_capacity_factor }
            set_variable = { building_attractiveness_modifier@token:building_port = controller:modifier@building_port_attractiveness_modifier }
            set_variable = { building_attractiveness_factor@token:building_port = controller:modifier@building_port_attractiveness_factor }
        #
        #Airport
            set_variable = { building_input_factor@token:building_airport = controller:modifier@building_airport_input_factor }
            set_variable = { building_output_factor@token:building_airport = controller:modifier@building_airport_output_factor }
            set_variable = { building_throughput_factor@token:building_airport = controller:modifier@building_airport_throughput_factor }
            set_variable = { building_shipping_capacity_factor@token:building_airport = controller:modifier@building_airport_shipping_capacity_factor }
            set_variable = { building_attractiveness_modifier@token:building_airport = controller:modifier@building_airport_attractiveness_modifier }
            set_variable = { building_attractiveness_factor@token:building_airport = controller:modifier@building_airport_attractiveness_factor }
        #

        #Consumer_goods_factory
            set_variable = { building_input_factor@token:building_consumer_goods_factory = controller:modifier@building_consumer_goods_factory_input_factor }
            set_variable = { building_output_factor@token:building_consumer_goods_factory = controller:modifier@building_consumer_goods_factory_output_factor }
            set_variable = { building_throughput_factor@token:building_consumer_goods_factory = controller:modifier@building_consumer_goods_factory_throughput_factor }
            set_variable = { building_attractiveness_modifier@token:building_consumer_goods_factory = controller:modifier@building_consumer_goods_factory_attractiveness_modifier }
            set_variable = { building_attractiveness_factor@token:building_consumer_goods_factory = controller:modifier@building_consumer_goods_factory_attractiveness_factor }
            set_variable = { building_industrial_capacity_use_factor@token:building_consumer_goods_factory = controller:modifier@building_consumer_goods_factory_industrial_capacity_use_factor }
        #
        #Luxury_goods_factory
            set_variable = { building_input_factor@token:building_luxury_goods_factory = controller:modifier@building_luxury_goods_factory_input_factor }
            set_variable = { building_output_factor@token:building_luxury_goods_factory = controller:modifier@building_luxury_goods_factory_output_factor }
            set_variable = { building_throughput_factor@token:building_luxury_goods_factory = controller:modifier@building_luxury_goods_factory_throughput_factor }
            set_variable = { building_attractiveness_modifier@token:building_luxury_goods_factory = controller:modifier@building_luxury_goods_factory_attractiveness_modifier }
            set_variable = { building_attractiveness_factor@token:building_luxury_goods_factory = controller:modifier@building_luxury_goods_factory_attractiveness_factor }
            set_variable = { building_industrial_capacity_use_factor@token:building_luxury_goods_factory = controller:modifier@building_luxury_goods_factory_industrial_capacity_use_factor }
        #
        #Industrial_goods_factory
            set_variable = { building_input_factor@token:building_industrial_goods_factory = controller:modifier@building_industrial_goods_factory_input_factor }
            set_variable = { building_output_factor@token:building_industrial_goods_factory = controller:modifier@building_industrial_goods_factory_output_factor }
            set_variable = { building_throughput_factor@token:building_industrial_goods_factory = controller:modifier@building_industrial_goods_factory_throughput_factor }
            set_variable = { building_attractiveness_modifier@token:building_industrial_goods_factory = controller:modifier@building_industrial_goods_factory_attractiveness_modifier }
            set_variable = { building_attractiveness_factor@token:building_industrial_goods_factory = controller:modifier@building_industrial_goods_factory_attractiveness_factor }
            set_variable = { building_industrial_capacity_use_factor@token:building_industrial_goods_factory = controller:modifier@building_industrial_goods_factory_industrial_capacity_use_factor }
        #
        #Services_building
            set_variable = { building_input_factor@token:building_services_building = controller:modifier@building_services_building_input_factor }
            set_variable = { building_output_factor@token:building_services_building = controller:modifier@building_services_building_output_factor }
            set_variable = { building_throughput_factor@token:building_services_building = controller:modifier@building_services_building_throughput_factor }
            set_variable = { building_attractiveness_modifier@token:building_services_building = controller:modifier@building_services_building_attractiveness_modifier }
            set_variable = { building_attractiveness_factor@token:building_services_building = controller:modifier@building_services_building_attractiveness_factor }
            set_variable = { building_industrial_capacity_use_factor@token:building_services_building = controller:modifier@building_services_building_industrial_capacity_use_factor }
        #
        #Power_plant
            set_variable = { building_input_factor@token:building_power_plant = controller:modifier@building_power_plant_input_factor }
            set_variable = { building_output_factor@token:building_power_plant = controller:modifier@building_power_plant_output_factor }
            set_variable = { building_throughput_factor@token:building_power_plant = controller:modifier@building_power_plant_throughput_factor }
            set_variable = { building_attractiveness_modifier@token:building_power_plant = controller:modifier@building_power_plant_attractiveness_modifier }
            set_variable = { building_attractiveness_factor@token:building_power_plant = controller:modifier@building_power_plant_attractiveness_factor }
            set_variable = { building_industrial_capacity_use_factor@token:building_power_plant = controller:modifier@building_power_plant_industrial_capacity_use_factor }
        #

        #Commercial_farm
            set_variable = { building_input_factor@token:building_commercial_farm = controller:modifier@building_commercial_farm_input_factor }
            set_variable = { building_output_factor@token:building_commercial_farm = controller:modifier@building_commercial_farm_output_factor }
            set_variable = { building_throughput_factor@token:building_commercial_farm = controller:modifier@building_commercial_farm_throughput_factor }
            set_variable = { building_attractiveness_modifier@token:building_commercial_farm = controller:modifier@building_commercial_farm_attractiveness_modifier }
            set_variable = { building_attractiveness_factor@token:building_commercial_farm = controller:modifier@building_commercial_farm_attractiveness_factor }
            set_variable = { building_industrial_capacity_use_factor@token:building_commercial_farm = controller:modifier@building_commercial_farm_industrial_capacity_use_factor }
        #
        #Food_plantation
            set_variable = { building_input_factor@token:building_food_plantation = controller:modifier@building_food_plantation_input_factor }
            set_variable = { building_output_factor@token:building_food_plantation = controller:modifier@building_food_plantation_output_factor }
            set_variable = { building_throughput_factor@token:building_food_plantation = controller:modifier@building_food_plantation_throughput_factor }
            set_variable = { building_attractiveness_modifier@token:building_food_plantation = controller:modifier@building_food_plantation_attractiveness_modifier }
            set_variable = { building_attractiveness_factor@token:building_food_plantation = controller:modifier@building_food_plantation_attractiveness_factor }
            set_variable = { building_industrial_capacity_use_factor@token:building_food_plantation = controller:modifier@building_food_plantation_industrial_capacity_use_factor }
        #
        #Material_plantation
            set_variable = { building_input_factor@token:building_material_plantation = controller:modifier@building_material_plantation_input_factor }
            set_variable = { building_output_factor@token:building_material_plantation = controller:modifier@building_material_plantation_output_factor }
            set_variable = { building_throughput_factor@token:building_material_plantation = controller:modifier@building_material_plantation_throughput_factor }
            set_variable = { building_attractiveness_modifier@token:building_material_plantation = controller:modifier@building_material_plantation_attractiveness_modifier }
            set_variable = { building_attractiveness_factor@token:building_material_plantation = controller:modifier@building_material_plantation_attractiveness_factor }
            set_variable = { building_industrial_capacity_use_factor@token:building_material_plantation = controller:modifier@building_material_plantation_industrial_capacity_use_factor }
        #
        #Luxuries_plantation
            set_variable = { building_input_factor@token:building_luxuries_plantation = controller:modifier@building_luxuries_plantation_input_factor }
            set_variable = { building_output_factor@token:building_luxuries_plantation = controller:modifier@building_luxuries_plantation_output_factor }
            set_variable = { building_throughput_factor@token:building_luxuries_plantation = controller:modifier@building_luxuries_plantation_throughput_factor }
            set_variable = { building_attractiveness_modifier@token:building_luxuries_plantation = controller:modifier@building_luxuries_plantation_attractiveness_modifier }
            set_variable = { building_attractiveness_factor@token:building_luxuries_plantation = controller:modifier@building_luxuries_plantation_attractiveness_factor }
            set_variable = { building_industrial_capacity_use_factor@token:building_luxuries_plantation = controller:modifier@building_luxuries_plantation_industrial_capacity_use_factor }
        #
        #Lumber_mill
            set_variable = { building_input_factor@token:building_lumber_mill = controller:modifier@building_lumber_mill_input_factor }
            set_variable = { building_output_factor@token:building_lumber_mill = controller:modifier@building_lumber_mill_output_factor }
            set_variable = { building_throughput_factor@token:building_lumber_mill = controller:modifier@building_lumber_mill_throughput_factor }
            set_variable = { building_attractiveness_modifier@token:building_lumber_mill = controller:modifier@building_lumber_mill_attractiveness_modifier }
            set_variable = { building_attractiveness_factor@token:building_lumber_mill = controller:modifier@building_lumber_mill_attractiveness_factor }
            set_variable = { building_industrial_capacity_use_factor@token:building_lumber_mill = controller:modifier@building_lumber_mill_industrial_capacity_use_factor }
        #
        #Metals_mine
            set_variable = { building_input_factor@token:building_metals_mine = controller:modifier@building_metals_mine_input_factor }
            set_variable = { building_output_factor@token:building_metals_mine = controller:modifier@building_metals_mine_output_factor }
            set_variable = { building_throughput_factor@token:building_metals_mine = controller:modifier@building_metals_mine_throughput_factor }
            set_variable = { building_attractiveness_modifier@token:building_metals_mine = controller:modifier@building_metals_mine_attractiveness_modifier }
            set_variable = { building_attractiveness_factor@token:building_metals_mine = controller:modifier@building_metals_mine_attractiveness_factor }
            set_variable = { building_industrial_capacity_use_factor@token:building_metals_mine = controller:modifier@building_metals_mine_industrial_capacity_use_factor }
        #
        #Coal_mine
            set_variable = { building_input_factor@token:building_coal_mine = controller:modifier@building_coal_mine_input_factor }
            set_variable = { building_output_factor@token:building_coal_mine = controller:modifier@building_coal_mine_output_factor }
            set_variable = { building_throughput_factor@token:building_coal_mine = controller:modifier@building_coal_mine_throughput_factor }
            set_variable = { building_attractiveness_modifier@token:building_coal_mine = controller:modifier@building_coal_mine_attractiveness_modifier }
            set_variable = { building_attractiveness_factor@token:building_coal_mine = controller:modifier@building_coal_mine_attractiveness_factor }
            set_variable = { building_industrial_capacity_use_factor@token:building_coal_mine = controller:modifier@building_coal_mine_industrial_capacity_use_factor }
        #
        #Oil_well
            set_variable = { building_input_factor@token:building_oil_well = controller:modifier@building_oil_well_input_factor }
            set_variable = { building_output_factor@token:building_oil_well = controller:modifier@building_oil_well_output_factor }
            set_variable = { building_throughput_factor@token:building_oil_well = controller:modifier@building_oil_well_throughput_factor }
            set_variable = { building_attractiveness_modifier@token:building_oil_well = controller:modifier@building_oil_well_attractiveness_modifier }
            set_variable = { building_attractiveness_factor@token:building_oil_well = controller:modifier@building_oil_well_attractiveness_factor }
            set_variable = { building_industrial_capacity_use_factor@token:building_oil_well = controller:modifier@building_oil_well_industrial_capacity_use_factor }
        #
        #Valuables_extractor
            set_variable = { building_input_factor@token:building_valuables_extractor = controller:modifier@building_valuables_extractor_input_factor }
            set_variable = { building_output_factor@token:building_valuables_extractor = controller:modifier@building_valuables_extractor_output_factor }
            set_variable = { building_throughput_factor@token:building_valuables_extractor = controller:modifier@building_valuables_extractor_throughput_factor }
            set_variable = { building_attractiveness_modifier@token:building_valuables_extractor = controller:modifier@building_valuables_extractor_attractiveness_modifier }
            set_variable = { building_attractiveness_factor@token:building_valuables_extractor = controller:modifier@building_valuables_extractor_attractiveness_factor }
            set_variable = { building_industrial_capacity_use_factor@token:building_valuables_extractor = controller:modifier@building_valuables_extractor_industrial_capacity_use_factor }
        #

        #General
            #Military_industry
                add_to_variable = { building_input_factor@token:building_military_industry = controller:modifier@building_input_factor }
                add_to_variable = { building_output_factor@token:building_military_industry = controller:modifier@building_output_factor }
                add_to_variable = { building_throughput_factor@token:building_military_industry = controller:modifier@building_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_military_industry = controller:modifier@building_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_military_industry = controller:modifier@building_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_military_industry = controller:modifier@building_industrial_capacity_use_factor }
            #
            #Civilian_industry
                add_to_variable = { building_input_factor@token:building_civilian_industry = controller:modifier@building_input_factor }
                add_to_variable = { building_output_factor@token:building_civilian_industry = controller:modifier@building_output_factor }
                add_to_variable = { building_throughput_factor@token:building_civilian_industry = controller:modifier@building_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_civilian_industry = controller:modifier@building_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_civilian_industry = controller:modifier@building_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_civilian_industry = controller:modifier@building_industrial_capacity_use_factor }
            #
            #Naval_industry
                add_to_variable = { building_input_factor@token:building_naval_industry = controller:modifier@building_input_factor }
                add_to_variable = { building_output_factor@token:building_naval_industry = controller:modifier@building_output_factor }
                add_to_variable = { building_throughput_factor@token:building_naval_industry = controller:modifier@building_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_naval_industry = controller:modifier@building_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_naval_industry = controller:modifier@building_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_naval_industry = controller:modifier@building_industrial_capacity_use_factor }
            #

            #Infrastructure
                add_to_variable = { building_input_factor@token:building_infrastructure = controller:modifier@building_input_factor }
                add_to_variable = { building_output_factor@token:building_infrastructure = controller:modifier@building_output_factor }
                add_to_variable = { building_throughput_factor@token:building_infrastructure = controller:modifier@building_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_infrastructure = controller:modifier@building_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_infrastructure = controller:modifier@building_attractiveness_factor }
            #
            #Railway
                add_to_variable = { building_input_factor@token:building_railway = controller:modifier@building_input_factor }
                add_to_variable = { building_output_factor@token:building_railway = controller:modifier@building_output_factor }
                add_to_variable = { building_throughput_factor@token:building_railway = controller:modifier@building_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_railway = controller:modifier@building_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_railway = controller:modifier@building_attractiveness_factor }
            #
            #Port
                add_to_variable = { building_input_factor@token:building_port = controller:modifier@building_input_factor }
                add_to_variable = { building_output_factor@token:building_port = controller:modifier@building_output_factor }
                add_to_variable = { building_throughput_factor@token:building_port = controller:modifier@building_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_port = controller:modifier@building_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_port = controller:modifier@building_attractiveness_factor }
            #
            #Airport
                add_to_variable = { building_input_factor@token:building_airport = controller:modifier@building_input_factor }
                add_to_variable = { building_output_factor@token:building_airport = controller:modifier@building_output_factor }
                add_to_variable = { building_throughput_factor@token:building_airport = controller:modifier@building_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_airport = controller:modifier@building_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_airport = controller:modifier@building_attractiveness_factor }
            #

            #Consumer_goods_factory
                add_to_variable = { building_input_factor@token:building_consumer_goods_factory = controller:modifier@building_input_factor }
                add_to_variable = { building_output_factor@token:building_consumer_goods_factory = controller:modifier@building_output_factor }
                add_to_variable = { building_throughput_factor@token:building_consumer_goods_factory = controller:modifier@building_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_consumer_goods_factory = controller:modifier@building_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_consumer_goods_factory = controller:modifier@building_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_consumer_goods_factory = controller:modifier@building_industrial_capacity_use_factor }
            #
            #Luxury_goods_factory
                add_to_variable = { building_input_factor@token:building_luxury_goods_factory = controller:modifier@building_input_factor }
                add_to_variable = { building_output_factor@token:building_luxury_goods_factory = controller:modifier@building_output_factor }
                add_to_variable = { building_throughput_factor@token:building_luxury_goods_factory = controller:modifier@building_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_luxury_goods_factory = controller:modifier@building_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_luxury_goods_factory = controller:modifier@building_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_luxury_goods_factory = controller:modifier@building_industrial_capacity_use_factor }
            #
            #Industrial_goods_factory
                add_to_variable = { building_input_factor@token:building_industrial_goods_factory = controller:modifier@building_input_factor }
                add_to_variable = { building_output_factor@token:building_industrial_goods_factory = controller:modifier@building_output_factor }
                add_to_variable = { building_throughput_factor@token:building_industrial_goods_factory = controller:modifier@building_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_industrial_goods_factory = controller:modifier@building_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_industrial_goods_factory = controller:modifier@building_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_industrial_goods_factory = controller:modifier@building_industrial_capacity_use_factor }
            #
            #Services_building
                add_to_variable = { building_input_factor@token:building_services_building = controller:modifier@building_input_factor }
                add_to_variable = { building_output_factor@token:building_services_building = controller:modifier@building_output_factor }
                add_to_variable = { building_throughput_factor@token:building_services_building = controller:modifier@building_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_services_building = controller:modifier@building_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_services_building = controller:modifier@building_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_services_building = controller:modifier@building_industrial_capacity_use_factor }
            #
            #Power_plant
                add_to_variable = { building_input_factor@token:building_power_plant = controller:modifier@building_input_factor }
                add_to_variable = { building_output_factor@token:building_power_plant = controller:modifier@building_output_factor }
                add_to_variable = { building_throughput_factor@token:building_power_plant = controller:modifier@building_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_power_plant = controller:modifier@building_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_power_plant = controller:modifier@building_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_power_plant = controller:modifier@building_industrial_capacity_use_factor }
            #

            #Commercial_farm
                add_to_variable = { building_input_factor@token:building_commercial_farm = controller:modifier@building_input_factor }
                add_to_variable = { building_output_factor@token:building_commercial_farm = controller:modifier@building_output_factor }
                add_to_variable = { building_throughput_factor@token:building_commercial_farm = controller:modifier@building_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_commercial_farm = controller:modifier@building_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_commercial_farm = controller:modifier@building_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_commercial_farm = controller:modifier@building_industrial_capacity_use_factor }
            #
            #Food_plantation
                add_to_variable = { building_input_factor@token:building_food_plantation = controller:modifier@building_input_factor }
                add_to_variable = { building_output_factor@token:building_food_plantation = controller:modifier@building_output_factor }
                add_to_variable = { building_throughput_factor@token:building_food_plantation = controller:modifier@building_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_food_plantation = controller:modifier@building_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_food_plantation = controller:modifier@building_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_food_plantation = controller:modifier@building_industrial_capacity_use_factor }
            #
            #Material_plantation
                add_to_variable = { building_input_factor@token:building_material_plantation = controller:modifier@building_input_factor }
                add_to_variable = { building_output_factor@token:building_material_plantation = controller:modifier@building_output_factor }
                add_to_variable = { building_throughput_factor@token:building_material_plantation = controller:modifier@building_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_material_plantation = controller:modifier@building_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_material_plantation = controller:modifier@building_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_material_plantation = controller:modifier@building_industrial_capacity_use_factor }
            #
            #Luxuries_plantation
                add_to_variable = { building_input_factor@token:building_luxuries_plantation = controller:modifier@building_input_factor }
                add_to_variable = { building_output_factor@token:building_luxuries_plantation = controller:modifier@building_output_factor }
                add_to_variable = { building_throughput_factor@token:building_luxuries_plantation = controller:modifier@building_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_luxuries_plantation = controller:modifier@building_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_luxuries_plantation = controller:modifier@building_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_luxuries_plantation = controller:modifier@building_industrial_capacity_use_factor }
            #
            #Lumber_mill
                add_to_variable = { building_input_factor@token:building_lumber_mill = controller:modifier@building_input_factor }
                add_to_variable = { building_output_factor@token:building_lumber_mill = controller:modifier@building_output_factor }
                add_to_variable = { building_throughput_factor@token:building_lumber_mill = controller:modifier@building_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_lumber_mill = controller:modifier@building_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_lumber_mill = controller:modifier@building_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_lumber_mill = controller:modifier@building_industrial_capacity_use_factor }
            #
            #Metals_mine
                add_to_variable = { building_input_factor@token:building_metals_mine = controller:modifier@building_input_factor }
                add_to_variable = { building_output_factor@token:building_metals_mine = controller:modifier@building_output_factor }
                add_to_variable = { building_throughput_factor@token:building_metals_mine = controller:modifier@building_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_metals_mine = controller:modifier@building_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_metals_mine = controller:modifier@building_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_metals_mine = controller:modifier@building_industrial_capacity_use_factor }
            #
            #Coal_mine
                add_to_variable = { building_input_factor@token:building_coal_mine = controller:modifier@building_input_factor }
                add_to_variable = { building_output_factor@token:building_coal_mine = controller:modifier@building_output_factor }
                add_to_variable = { building_throughput_factor@token:building_coal_mine = controller:modifier@building_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_coal_mine = controller:modifier@building_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_coal_mine = controller:modifier@building_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_coal_mine = controller:modifier@building_industrial_capacity_use_factor }
            #
            #Oil_well
                add_to_variable = { building_input_factor@token:building_oil_well = controller:modifier@building_input_factor }
                add_to_variable = { building_output_factor@token:building_oil_well = controller:modifier@building_output_factor }
                add_to_variable = { building_throughput_factor@token:building_oil_well = controller:modifier@building_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_oil_well = controller:modifier@building_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_oil_well = controller:modifier@building_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_oil_well = controller:modifier@building_industrial_capacity_use_factor }
            #
            #Valuables_extractor
                add_to_variable = { building_input_factor@token:building_valuables_extractor = controller:modifier@building_input_factor }
                add_to_variable = { building_output_factor@token:building_valuables_extractor = controller:modifier@building_output_factor }
                add_to_variable = { building_throughput_factor@token:building_valuables_extractor = controller:modifier@building_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_valuables_extractor = controller:modifier@building_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_valuables_extractor = controller:modifier@building_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_valuables_extractor = controller:modifier@building_industrial_capacity_use_factor }
            #
        #
        #Factories
            #Military_industry
                add_to_variable = { building_input_factor@token:building_military_industry = controller:modifier@building_factory_input_factor }
                add_to_variable = { building_output_factor@token:building_military_industry = controller:modifier@building_factory_output_factor }
                add_to_variable = { building_throughput_factor@token:building_military_industry = controller:modifier@building_factory_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_military_industry = controller:modifier@building_factory_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_military_industry = controller:modifier@building_factory_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_military_industry = controller:modifier@building_factory_industrial_capacity_use_factor }
            #
            #Civilian_industry
                add_to_variable = { building_input_factor@token:building_civilian_industry = controller:modifier@building_factory_input_factor }
                add_to_variable = { building_output_factor@token:building_civilian_industry = controller:modifier@building_factory_output_factor }
                add_to_variable = { building_throughput_factor@token:building_civilian_industry = controller:modifier@building_factory_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_civilian_industry = controller:modifier@building_factory_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_civilian_industry = controller:modifier@building_factory_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_civilian_industry = controller:modifier@building_factory_industrial_capacity_use_factor }
            #
            #Naval_industry
                add_to_variable = { building_input_factor@token:building_naval_industry = controller:modifier@building_factory_input_factor }
                add_to_variable = { building_output_factor@token:building_naval_industry = controller:modifier@building_factory_output_factor }
                add_to_variable = { building_throughput_factor@token:building_naval_industry = controller:modifier@building_factory_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_naval_industry = controller:modifier@building_factory_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_naval_industry = controller:modifier@building_factory_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_naval_industry = controller:modifier@building_factory_industrial_capacity_use_factor }
            #

            #Consumer_goods_factory
                add_to_variable = { building_input_factor@token:building_consumer_goods_factory = controller:modifier@building_factory_input_factor }
                add_to_variable = { building_output_factor@token:building_consumer_goods_factory = controller:modifier@building_factory_output_factor }
                add_to_variable = { building_throughput_factor@token:building_consumer_goods_factory = controller:modifier@building_factory_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_consumer_goods_factory = controller:modifier@building_factory_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_consumer_goods_factory = controller:modifier@building_factory_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_consumer_goods_factory = controller:modifier@building_factory_industrial_capacity_use_factor }
            #
            #Luxury_goods_factory
                add_to_variable = { building_input_factor@token:building_luxury_goods_factory = controller:modifier@building_factory_input_factor }
                add_to_variable = { building_output_factor@token:building_luxury_goods_factory = controller:modifier@building_factory_output_factor }
                add_to_variable = { building_throughput_factor@token:building_luxury_goods_factory = controller:modifier@building_factory_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_luxury_goods_factory = controller:modifier@building_factory_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_luxury_goods_factory = controller:modifier@building_factory_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_luxury_goods_factory = controller:modifier@building_factory_industrial_capacity_use_factor }
            #
            #Industrial_goods_factory
                add_to_variable = { building_input_factor@token:building_industrial_goods_factory = controller:modifier@building_factory_input_factor }
                add_to_variable = { building_output_factor@token:building_industrial_goods_factory = controller:modifier@building_factory_output_factor }
                add_to_variable = { building_throughput_factor@token:building_industrial_goods_factory = controller:modifier@building_factory_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_industrial_goods_factory = controller:modifier@building_factory_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_industrial_goods_factory = controller:modifier@building_factory_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_industrial_goods_factory = controller:modifier@building_factory_industrial_capacity_use_factor }
            #
        #
        #Agriculture
            #Commercial_farm
                add_to_variable = { building_input_factor@token:building_commercial_farm = controller:modifier@building_agriculture_input_factor }
                add_to_variable = { building_output_factor@token:building_commercial_farm = controller:modifier@building_agriculture_output_factor }
                add_to_variable = { building_throughput_factor@token:building_commercial_farm = controller:modifier@building_agriculture_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_commercial_farm = controller:modifier@building_agriculture_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_commercial_farm = controller:modifier@building_agriculture_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_commercial_farm = controller:modifier@building_agriculture_industrial_capacity_use_factor }
            #
            #Food_plantation
                add_to_variable = { building_input_factor@token:building_food_plantation = controller:modifier@building_agriculture_input_factor }
                add_to_variable = { building_output_factor@token:building_food_plantation = controller:modifier@building_agriculture_output_factor }
                add_to_variable = { building_throughput_factor@token:building_food_plantation = controller:modifier@building_agriculture_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_food_plantation = controller:modifier@building_agriculture_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_food_plantation = controller:modifier@building_agriculture_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_food_plantation = controller:modifier@building_agriculture_industrial_capacity_use_factor }
            #
            #Material_plantation
                add_to_variable = { building_input_factor@token:building_material_plantation = controller:modifier@building_agriculture_input_factor }
                add_to_variable = { building_output_factor@token:building_material_plantation = controller:modifier@building_agriculture_output_factor }
                add_to_variable = { building_throughput_factor@token:building_material_plantation = controller:modifier@building_agriculture_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_material_plantation = controller:modifier@building_agriculture_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_material_plantation = controller:modifier@building_agriculture_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_material_plantation = controller:modifier@building_agriculture_industrial_capacity_use_factor }
            #
            #Luxuries_plantation
                add_to_variable = { building_input_factor@token:building_luxuries_plantation = controller:modifier@building_agriculture_input_factor }
                add_to_variable = { building_output_factor@token:building_luxuries_plantation = controller:modifier@building_agriculture_output_factor }
                add_to_variable = { building_throughput_factor@token:building_luxuries_plantation = controller:modifier@building_agriculture_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_luxuries_plantation = controller:modifier@building_agriculture_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_luxuries_plantation = controller:modifier@building_agriculture_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_luxuries_plantation = controller:modifier@building_agriculture_industrial_capacity_use_factor }
            #
        #
        #Plantation
            #Food_plantation
                add_to_variable = { building_input_factor@token:building_food_plantation = controller:modifier@building_plantation_input_factor }
                add_to_variable = { building_output_factor@token:building_food_plantation = controller:modifier@building_plantation_output_factor }
                add_to_variable = { building_throughput_factor@token:building_food_plantation = controller:modifier@building_plantation_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_food_plantation = controller:modifier@building_plantation_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_food_plantation = controller:modifier@building_plantation_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_food_plantation = controller:modifier@building_plantation_industrial_capacity_use_factor }
            #
            #Material_plantation
                add_to_variable = { building_input_factor@token:building_material_plantation = controller:modifier@building_plantation_input_factor }
                add_to_variable = { building_output_factor@token:building_material_plantation = controller:modifier@building_plantation_output_factor }
                add_to_variable = { building_throughput_factor@token:building_material_plantation = controller:modifier@building_plantation_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_material_plantation = controller:modifier@building_plantation_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_material_plantation = controller:modifier@building_plantation_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_material_plantation = controller:modifier@building_plantation_industrial_capacity_use_factor }
            #
            #Luxuries_plantation
                add_to_variable = { building_input_factor@token:building_luxuries_plantation = controller:modifier@building_plantation_input_factor }
                add_to_variable = { building_output_factor@token:building_luxuries_plantation = controller:modifier@building_plantation_output_factor }
                add_to_variable = { building_throughput_factor@token:building_luxuries_plantation = controller:modifier@building_plantation_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_luxuries_plantation = controller:modifier@building_plantation_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_luxuries_plantation = controller:modifier@building_plantation_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_luxuries_plantation = controller:modifier@building_plantation_industrial_capacity_use_factor }
            #
        #
        #Resource
            #Lumber_mill
                add_to_variable = { building_input_factor@token:building_lumber_mill = controller:modifier@building_resource_input_factor }
                add_to_variable = { building_output_factor@token:building_lumber_mill = controller:modifier@building_resource_output_factor }
                add_to_variable = { building_throughput_factor@token:building_lumber_mill = controller:modifier@building_resource_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_lumber_mill = controller:modifier@building_resource_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_lumber_mill = controller:modifier@building_resource_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_lumber_mill = controller:modifier@building_resource_industrial_capacity_use_factor }
            #
            #Metals_mine
                add_to_variable = { building_input_factor@token:building_metals_mine = controller:modifier@building_resource_input_factor }
                add_to_variable = { building_output_factor@token:building_metals_mine = controller:modifier@building_resource_output_factor }
                add_to_variable = { building_throughput_factor@token:building_metals_mine = controller:modifier@building_resource_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_metals_mine = controller:modifier@building_resource_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_metals_mine = controller:modifier@building_resource_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_metals_mine = controller:modifier@building_resource_industrial_capacity_use_factor }
            #
            #Coal_mine
                add_to_variable = { building_input_factor@token:building_coal_mine = controller:modifier@building_resource_input_factor }
                add_to_variable = { building_output_factor@token:building_coal_mine = controller:modifier@building_resource_output_factor }
                add_to_variable = { building_throughput_factor@token:building_coal_mine = controller:modifier@building_resource_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_coal_mine = controller:modifier@building_resource_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_coal_mine = controller:modifier@building_resource_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_coal_mine = controller:modifier@building_resource_industrial_capacity_use_factor }
            #
            #Oil_well
                add_to_variable = { building_input_factor@token:building_oil_well = controller:modifier@building_resource_input_factor }
                add_to_variable = { building_output_factor@token:building_oil_well = controller:modifier@building_resource_output_factor }
                add_to_variable = { building_throughput_factor@token:building_oil_well = controller:modifier@building_resource_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_oil_well = controller:modifier@building_resource_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_oil_well = controller:modifier@building_resource_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_oil_well = controller:modifier@building_resource_industrial_capacity_use_factor }
            #
            #Valuables_extractor
                add_to_variable = { building_input_factor@token:building_valuables_extractor = controller:modifier@building_resource_input_factor }
                add_to_variable = { building_output_factor@token:building_valuables_extractor = controller:modifier@building_resource_output_factor }
                add_to_variable = { building_throughput_factor@token:building_valuables_extractor = controller:modifier@building_resource_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_valuables_extractor = controller:modifier@building_resource_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_valuables_extractor = controller:modifier@building_resource_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_valuables_extractor = controller:modifier@building_resource_industrial_capacity_use_factor }
            #
        #
        #Transport
            #Infrastructure
                add_to_variable = { building_input_factor@token:building_infrastructure = controller:modifier@building_transport_input_factor }
                add_to_variable = { building_output_factor@token:building_infrastructure = controller:modifier@building_transport_output_factor }
                add_to_variable = { building_throughput_factor@token:building_infrastructure = controller:modifier@building_transport_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_infrastructure = controller:modifier@building_transport_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_infrastructure = controller:modifier@building_transport_attractiveness_factor }
            #
            #Railway
                add_to_variable = { building_input_factor@token:building_railway = controller:modifier@building_transport_input_factor }
                add_to_variable = { building_output_factor@token:building_railway = controller:modifier@building_transport_output_factor }
                add_to_variable = { building_throughput_factor@token:building_railway = controller:modifier@building_transport_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_railway = controller:modifier@building_transport_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_railway = controller:modifier@building_transport_attractiveness_factor }
            #
            #Port
                add_to_variable = { building_input_factor@token:building_port = controller:modifier@building_transport_input_factor }
                add_to_variable = { building_output_factor@token:building_port = controller:modifier@building_transport_output_factor }
                add_to_variable = { building_throughput_factor@token:building_port = controller:modifier@building_transport_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_port = controller:modifier@building_transport_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_port = controller:modifier@building_transport_attractiveness_factor }
            #
            #Airport
                add_to_variable = { building_input_factor@token:building_airport = controller:modifier@building_transport_input_factor }
                add_to_variable = { building_output_factor@token:building_airport = controller:modifier@building_transport_output_factor }
                add_to_variable = { building_throughput_factor@token:building_airport = controller:modifier@building_transport_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_airport = controller:modifier@building_transport_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_airport = controller:modifier@building_transport_attractiveness_factor }
            #
        #
        #Subsistence Agriculture
            #Subsistence Farm
                add_to_variable = { building_size_factor@token:building_subsistence_farm = controller:modifier@building_subsistence_agriculture_size_factor }
                add_to_variable = { building_output_factor@token:building_subsistence_farm = controller:modifier@building_subsistence_agriculture_output_factor }
            #
            #Rice Paddy
                add_to_variable = { building_size_factor@token:building_rice_paddy = controller:modifier@building_subsistence_agriculture_size_factor }
                add_to_variable = { building_output_factor@token:building_rice_paddy = controller:modifier@building_subsistence_agriculture_output_factor }
            #
        #

        #Local
            #Subsistence Farm
                add_to_variable = { building_size_factor@token:building_subsistence_farm = modifier@local_building_subsistence_farm_size_factor }
                add_to_variable = { building_output_factor@token:building_subsistence_farm = modifier@local_building_subsistence_farm_output_factor }
            #
            #Rice Paddy
                add_to_variable = { building_size_factor@token:building_rice_paddy = modifier@local_building_rice_paddy_size_factor }
                add_to_variable = { building_output_factor@token:building_rice_paddy = modifier@local_building_rice_paddy_output_factor }
            #

            #Military_industry
                add_to_variable = { building_input_factor@token:building_military_industry = modifier@local_building_military_industry_input_factor }
                add_to_variable = { building_output_factor@token:building_military_industry = modifier@local_building_military_industry_output_factor }
                add_to_variable = { building_throughput_factor@token:building_military_industry = modifier@local_building_military_industry_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_military_industry = modifier@local_building_military_industry_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_military_industry = modifier@local_building_military_industry_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_military_industry = modifier@local_building_military_industry_industrial_capacity_use_factor }
            #
            #Civilian_industry
                add_to_variable = { building_input_factor@token:building_civilian_industry = modifier@local_building_civilian_industry_input_factor }
                add_to_variable = { building_output_factor@token:building_civilian_industry = modifier@local_building_civilian_industry_output_factor }
                add_to_variable = { building_throughput_factor@token:building_civilian_industry = modifier@local_building_civilian_industry_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_civilian_industry = modifier@local_building_civilian_industry_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_civilian_industry = modifier@local_building_civilian_industry_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_civilian_industry = modifier@local_building_civilian_industry_industrial_capacity_use_factor }
            #
            #Naval_industry
                add_to_variable = { building_input_factor@token:building_naval_industry = modifier@local_building_naval_industry_input_factor }
                add_to_variable = { building_output_factor@token:building_naval_industry = modifier@local_building_naval_industry_output_factor }
                add_to_variable = { building_throughput_factor@token:building_naval_industry = modifier@local_building_naval_industry_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_naval_industry = modifier@local_building_naval_industry_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_naval_industry = modifier@local_building_naval_industry_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_naval_industry = modifier@local_building_naval_industry_industrial_capacity_use_factor }
            #

            #Infrastructure
                add_to_variable = { building_input_factor@token:building_infrastructure = modifier@local_building_infrastructure_input_factor }
                add_to_variable = { building_output_factor@token:building_infrastructure = modifier@local_building_infrastructure_output_factor }
                add_to_variable = { building_throughput_factor@token:building_infrastructure = modifier@local_building_infrastructure_throughput_factor }
                add_to_variable = { building_industrial_capacity_factor@token:building_infrastructure = modifier@local_building_infrastructure_industrial_capacity_factor }
                add_to_variable = { building_shipping_capacity_factor@token:building_infrastructure = modifier@local_building_infrastructure_shipping_capacity_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_infrastructure = modifier@local_building_infrastructure_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_infrastructure = modifier@local_building_infrastructure_attractiveness_factor }
            #
            #Railway
                add_to_variable = { building_input_factor@token:building_railway = modifier@local_building_railway_input_factor }
                add_to_variable = { building_output_factor@token:building_railway = modifier@local_building_railway_output_factor }
                add_to_variable = { building_throughput_factor@token:building_railway = modifier@local_building_railway_throughput_factor }
                add_to_variable = { building_industrial_capacity_factor@token:building_railway = modifier@local_building_railway_industrial_capacity_factor }
                add_to_variable = { building_shipping_capacity_factor@token:building_railway = modifier@local_building_railway_shipping_capacity_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_railway = modifier@local_building_railway_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_railway = modifier@local_building_railway_attractiveness_factor }
            #
            #Port
                add_to_variable = { building_input_factor@token:building_port = modifier@local_building_port_input_factor }
                add_to_variable = { building_output_factor@token:building_port = modifier@local_building_port_output_factor }
                add_to_variable = { building_throughput_factor@token:building_port = modifier@local_building_port_throughput_factor }
                add_to_variable = { building_shipping_capacity_factor@token:building_port = modifier@local_building_port_shipping_capacity_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_port = modifier@local_building_port_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_port = modifier@local_building_port_attractiveness_factor }
            #
            #Airport
                add_to_variable = { building_input_factor@token:building_airport = modifier@local_building_airport_input_factor }
                add_to_variable = { building_output_factor@token:building_airport = modifier@local_building_airport_output_factor }
                add_to_variable = { building_throughput_factor@token:building_airport = modifier@local_building_airport_throughput_factor }
                add_to_variable = { building_shipping_capacity_factor@token:building_airport = modifier@local_building_airport_shipping_capacity_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_airport = modifier@local_building_airport_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_airport = modifier@local_building_airport_attractiveness_factor }
            #

            #Consumer_goods_factory
                add_to_variable = { building_input_factor@token:building_consumer_goods_factory = modifier@local_building_consumer_goods_factory_input_factor }
                add_to_variable = { building_output_factor@token:building_consumer_goods_factory = modifier@local_building_consumer_goods_factory_output_factor }
                add_to_variable = { building_throughput_factor@token:building_consumer_goods_factory = modifier@local_building_consumer_goods_factory_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_consumer_goods_factory = modifier@local_building_consumer_goods_factory_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_consumer_goods_factory = modifier@local_building_consumer_goods_factory_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_consumer_goods_factory = modifier@local_building_consumer_goods_factory_industrial_capacity_use_factor }
            #
            #Luxury_goods_factory
                add_to_variable = { building_input_factor@token:building_luxury_goods_factory = modifier@local_building_luxury_goods_factory_input_factor }
                add_to_variable = { building_output_factor@token:building_luxury_goods_factory = modifier@local_building_luxury_goods_factory_output_factor }
                add_to_variable = { building_throughput_factor@token:building_luxury_goods_factory = modifier@local_building_luxury_goods_factory_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_luxury_goods_factory = modifier@local_building_luxury_goods_factory_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_luxury_goods_factory = modifier@local_building_luxury_goods_factory_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_luxury_goods_factory = modifier@local_building_luxury_goods_factory_industrial_capacity_use_factor }
            #
            #Industrial_goods_factory
                add_to_variable = { building_input_factor@token:building_industrial_goods_factory = modifier@local_building_industrial_goods_factory_input_factor }
                add_to_variable = { building_output_factor@token:building_industrial_goods_factory = modifier@local_building_industrial_goods_factory_output_factor }
                add_to_variable = { building_throughput_factor@token:building_industrial_goods_factory = modifier@local_building_industrial_goods_factory_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_industrial_goods_factory = modifier@local_building_industrial_goods_factory_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_industrial_goods_factory = modifier@local_building_industrial_goods_factory_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_industrial_goods_factory = modifier@local_building_industrial_goods_factory_industrial_capacity_use_factor }
            #
            #Services_building
                add_to_variable = { building_input_factor@token:building_services_building = modifier@local_building_services_building_input_factor }
                add_to_variable = { building_output_factor@token:building_services_building = modifier@local_building_services_building_output_factor }
                add_to_variable = { building_throughput_factor@token:building_services_building = modifier@local_building_services_building_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_services_building = modifier@local_building_services_building_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_services_building = modifier@local_building_services_building_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_services_building = modifier@local_building_services_building_industrial_capacity_use_factor }
            #
            #Power_plant
                add_to_variable = { building_input_factor@token:building_power_plant = modifier@local_building_power_plant_input_factor }
                add_to_variable = { building_output_factor@token:building_power_plant = modifier@local_building_power_plant_output_factor }
                add_to_variable = { building_throughput_factor@token:building_power_plant = modifier@local_building_power_plant_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_power_plant = modifier@local_building_power_plant_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_power_plant = modifier@local_building_power_plant_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_power_plant = modifier@local_building_power_plant_industrial_capacity_use_factor }
            #

            #Commercial_farm
                add_to_variable = { building_input_factor@token:building_commercial_farm = modifier@local_building_commercial_farm_input_factor }
                add_to_variable = { building_output_factor@token:building_commercial_farm = modifier@local_building_commercial_farm_output_factor }
                add_to_variable = { building_throughput_factor@token:building_commercial_farm = modifier@local_building_commercial_farm_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_commercial_farm = modifier@local_building_commercial_farm_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_commercial_farm = modifier@local_building_commercial_farm_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_commercial_farm = modifier@local_building_commercial_farm_industrial_capacity_use_factor }
            #
            #Food_plantation
                add_to_variable = { building_input_factor@token:building_food_plantation = modifier@local_building_food_plantation_input_factor }
                add_to_variable = { building_output_factor@token:building_food_plantation = modifier@local_building_food_plantation_output_factor }
                add_to_variable = { building_throughput_factor@token:building_food_plantation = modifier@local_building_food_plantation_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_food_plantation = modifier@local_building_food_plantation_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_food_plantation = modifier@local_building_food_plantation_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_food_plantation = modifier@local_building_food_plantation_industrial_capacity_use_factor }
            #
            #Material_plantation
                add_to_variable = { building_input_factor@token:building_material_plantation = modifier@local_building_material_plantation_input_factor }
                add_to_variable = { building_output_factor@token:building_material_plantation = modifier@local_building_material_plantation_output_factor }
                add_to_variable = { building_throughput_factor@token:building_material_plantation = modifier@local_building_material_plantation_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_material_plantation = modifier@local_building_material_plantation_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_material_plantation = modifier@local_building_material_plantation_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_material_plantation = modifier@local_building_material_plantation_industrial_capacity_use_factor }
            #
            #Luxuries_plantation
                add_to_variable = { building_input_factor@token:building_luxuries_plantation = modifier@local_building_luxuries_plantation_input_factor }
                add_to_variable = { building_output_factor@token:building_luxuries_plantation = modifier@local_building_luxuries_plantation_output_factor }
                add_to_variable = { building_throughput_factor@token:building_luxuries_plantation = modifier@local_building_luxuries_plantation_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_luxuries_plantation = modifier@local_building_luxuries_plantation_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_luxuries_plantation = modifier@local_building_luxuries_plantation_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_luxuries_plantation = modifier@local_building_luxuries_plantation_industrial_capacity_use_factor }
            #
            #Lumber_mill
                add_to_variable = { building_input_factor@token:building_lumber_mill = modifier@local_building_lumber_mill_input_factor }
                add_to_variable = { building_output_factor@token:building_lumber_mill = modifier@local_building_lumber_mill_output_factor }
                add_to_variable = { building_throughput_factor@token:building_lumber_mill = modifier@local_building_lumber_mill_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_lumber_mill = modifier@local_building_lumber_mill_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_lumber_mill = modifier@local_building_lumber_mill_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_lumber_mill = modifier@local_building_lumber_mill_industrial_capacity_use_factor }
            #
            #Metals_mine
                add_to_variable = { building_input_factor@token:building_metals_mine = modifier@local_building_metals_mine_input_factor }
                add_to_variable = { building_output_factor@token:building_metals_mine = modifier@local_building_metals_mine_output_factor }
                add_to_variable = { building_throughput_factor@token:building_metals_mine = modifier@local_building_metals_mine_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_metals_mine = modifier@local_building_metals_mine_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_metals_mine = modifier@local_building_metals_mine_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_metals_mine = modifier@local_building_metals_mine_industrial_capacity_use_factor }
            #
            #Coal_mine
                add_to_variable = { building_input_factor@token:building_coal_mine = modifier@local_building_coal_mine_input_factor }
                add_to_variable = { building_output_factor@token:building_coal_mine = modifier@local_building_coal_mine_output_factor }
                add_to_variable = { building_throughput_factor@token:building_coal_mine = modifier@local_building_coal_mine_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_coal_mine = modifier@local_building_coal_mine_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_coal_mine = modifier@local_building_coal_mine_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_coal_mine = modifier@local_building_coal_mine_industrial_capacity_use_factor }
            #
            #Oil_well
                add_to_variable = { building_input_factor@token:building_oil_well = modifier@local_building_oil_well_input_factor }
                add_to_variable = { building_output_factor@token:building_oil_well = modifier@local_building_oil_well_output_factor }
                add_to_variable = { building_throughput_factor@token:building_oil_well = modifier@local_building_oil_well_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_oil_well = modifier@local_building_oil_well_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_oil_well = modifier@local_building_oil_well_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_oil_well = modifier@local_building_oil_well_industrial_capacity_use_factor }
            #
            #Valuables_extractor
                add_to_variable = { building_input_factor@token:building_valuables_extractor = modifier@local_building_valuables_extractor_input_factor }
                add_to_variable = { building_output_factor@token:building_valuables_extractor = modifier@local_building_valuables_extractor_output_factor }
                add_to_variable = { building_throughput_factor@token:building_valuables_extractor = modifier@local_building_valuables_extractor_throughput_factor }
                add_to_variable = { building_attractiveness_modifier@token:building_valuables_extractor = modifier@local_building_valuables_extractor_attractiveness_modifier }
                add_to_variable = { building_attractiveness_factor@token:building_valuables_extractor = modifier@local_building_valuables_extractor_attractiveness_factor }
                add_to_variable = { building_industrial_capacity_use_factor@token:building_valuables_extractor = modifier@local_building_valuables_extractor_industrial_capacity_use_factor }
            #

            #General
                #Military_industry
                    add_to_variable = { building_input_factor@token:building_military_industry = modifier@local_building_input_factor }
                    add_to_variable = { building_output_factor@token:building_military_industry = modifier@local_building_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_military_industry = modifier@local_building_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_military_industry = modifier@local_building_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_military_industry = modifier@local_building_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_military_industry = modifier@local_building_industrial_capacity_use_factor }
                #
                #Civilian_industry
                    add_to_variable = { building_input_factor@token:building_civilian_industry = modifier@local_building_input_factor }
                    add_to_variable = { building_output_factor@token:building_civilian_industry = modifier@local_building_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_civilian_industry = modifier@local_building_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_civilian_industry = modifier@local_building_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_civilian_industry = modifier@local_building_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_civilian_industry = modifier@local_building_industrial_capacity_use_factor }
                #
                #Naval_industry
                    add_to_variable = { building_input_factor@token:building_naval_industry = modifier@local_building_input_factor }
                    add_to_variable = { building_output_factor@token:building_naval_industry = modifier@local_building_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_naval_industry = modifier@local_building_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_naval_industry = modifier@local_building_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_naval_industry = modifier@local_building_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_naval_industry = modifier@local_building_industrial_capacity_use_factor }
                #

                #Infrastructure
                    add_to_variable = { building_input_factor@token:building_infrastructure = modifier@local_building_input_factor }
                    add_to_variable = { building_output_factor@token:building_infrastructure = modifier@local_building_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_infrastructure = modifier@local_building_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_infrastructure = modifier@local_building_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_infrastructure = modifier@local_building_attractiveness_factor }
                #
                #Railway
                    add_to_variable = { building_input_factor@token:building_railway = modifier@local_building_input_factor }
                    add_to_variable = { building_output_factor@token:building_railway = modifier@local_building_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_railway = modifier@local_building_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_railway = modifier@local_building_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_railway = modifier@local_building_attractiveness_factor }
                #
                #Port
                    add_to_variable = { building_input_factor@token:building_port = modifier@local_building_input_factor }
                    add_to_variable = { building_output_factor@token:building_port = modifier@local_building_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_port = modifier@local_building_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_port = modifier@local_building_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_port = modifier@local_building_attractiveness_factor }
                #
                #Airport
                    add_to_variable = { building_input_factor@token:building_airport = modifier@local_building_input_factor }
                    add_to_variable = { building_output_factor@token:building_airport = modifier@local_building_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_airport = modifier@local_building_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_airport = modifier@local_building_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_airport = modifier@local_building_attractiveness_factor }
                #

                #Consumer_goods_factory
                    add_to_variable = { building_input_factor@token:building_consumer_goods_factory = modifier@local_building_input_factor }
                    add_to_variable = { building_output_factor@token:building_consumer_goods_factory = modifier@local_building_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_consumer_goods_factory = modifier@local_building_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_consumer_goods_factory = modifier@local_building_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_consumer_goods_factory = modifier@local_building_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_consumer_goods_factory = modifier@local_building_industrial_capacity_use_factor }
                #
                #Luxury_goods_factory
                    add_to_variable = { building_input_factor@token:building_luxury_goods_factory = modifier@local_building_input_factor }
                    add_to_variable = { building_output_factor@token:building_luxury_goods_factory = modifier@local_building_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_luxury_goods_factory = modifier@local_building_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_luxury_goods_factory = modifier@local_building_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_luxury_goods_factory = modifier@local_building_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_luxury_goods_factory = modifier@local_building_industrial_capacity_use_factor }
                #
                #Industrial_goods_factory
                    add_to_variable = { building_input_factor@token:building_industrial_goods_factory = modifier@local_building_input_factor }
                    add_to_variable = { building_output_factor@token:building_industrial_goods_factory = modifier@local_building_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_industrial_goods_factory = modifier@local_building_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_industrial_goods_factory = modifier@local_building_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_industrial_goods_factory = modifier@local_building_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_industrial_goods_factory = modifier@local_building_industrial_capacity_use_factor }
                #
                #Services_building
                    add_to_variable = { building_input_factor@token:building_services_building = modifier@local_building_input_factor }
                    add_to_variable = { building_output_factor@token:building_services_building = modifier@local_building_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_services_building = modifier@local_building_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_services_building = modifier@local_building_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_services_building = modifier@local_building_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_services_building = modifier@local_building_industrial_capacity_use_factor }
                #
                #Power_plant
                    add_to_variable = { building_input_factor@token:building_power_plant = modifier@local_building_input_factor }
                    add_to_variable = { building_output_factor@token:building_power_plant = modifier@local_building_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_power_plant = modifier@local_building_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_power_plant = modifier@local_building_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_power_plant = modifier@local_building_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_power_plant = modifier@local_building_industrial_capacity_use_factor }
                #

                #Commercial_farm
                    add_to_variable = { building_input_factor@token:building_commercial_farm = modifier@local_building_input_factor }
                    add_to_variable = { building_output_factor@token:building_commercial_farm = modifier@local_building_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_commercial_farm = modifier@local_building_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_commercial_farm = modifier@local_building_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_commercial_farm = modifier@local_building_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_commercial_farm = modifier@local_building_industrial_capacity_use_factor }
                #
                #Food_plantation
                    add_to_variable = { building_input_factor@token:building_food_plantation = modifier@local_building_input_factor }
                    add_to_variable = { building_output_factor@token:building_food_plantation = modifier@local_building_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_food_plantation = modifier@local_building_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_food_plantation = modifier@local_building_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_food_plantation = modifier@local_building_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_food_plantation = modifier@local_building_industrial_capacity_use_factor }
                #
                #Material_plantation
                    add_to_variable = { building_input_factor@token:building_material_plantation = modifier@local_building_input_factor }
                    add_to_variable = { building_output_factor@token:building_material_plantation = modifier@local_building_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_material_plantation = modifier@local_building_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_material_plantation = modifier@local_building_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_material_plantation = modifier@local_building_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_material_plantation = modifier@local_building_industrial_capacity_use_factor }
                #
                #Luxuries_plantation
                    add_to_variable = { building_input_factor@token:building_luxuries_plantation = modifier@local_building_input_factor }
                    add_to_variable = { building_output_factor@token:building_luxuries_plantation = modifier@local_building_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_luxuries_plantation = modifier@local_building_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_luxuries_plantation = modifier@local_building_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_luxuries_plantation = modifier@local_building_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_luxuries_plantation = modifier@local_building_industrial_capacity_use_factor }
                #
                #Lumber_mill
                    add_to_variable = { building_input_factor@token:building_lumber_mill = modifier@local_building_input_factor }
                    add_to_variable = { building_output_factor@token:building_lumber_mill = modifier@local_building_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_lumber_mill = modifier@local_building_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_lumber_mill = modifier@local_building_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_lumber_mill = modifier@local_building_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_lumber_mill = modifier@local_building_industrial_capacity_use_factor }
                #
                #Metals_mine
                    add_to_variable = { building_input_factor@token:building_metals_mine = modifier@local_building_input_factor }
                    add_to_variable = { building_output_factor@token:building_metals_mine = modifier@local_building_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_metals_mine = modifier@local_building_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_metals_mine = modifier@local_building_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_metals_mine = modifier@local_building_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_metals_mine = modifier@local_building_industrial_capacity_use_factor }
                #
                #Coal_mine
                    add_to_variable = { building_input_factor@token:building_coal_mine = modifier@local_building_input_factor }
                    add_to_variable = { building_output_factor@token:building_coal_mine = modifier@local_building_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_coal_mine = modifier@local_building_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_coal_mine = modifier@local_building_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_coal_mine = modifier@local_building_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_coal_mine = modifier@local_building_industrial_capacity_use_factor }
                #
                #Oil_well
                    add_to_variable = { building_input_factor@token:building_oil_well = modifier@local_building_input_factor }
                    add_to_variable = { building_output_factor@token:building_oil_well = modifier@local_building_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_oil_well = modifier@local_building_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_oil_well = modifier@local_building_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_oil_well = modifier@local_building_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_oil_well = modifier@local_building_industrial_capacity_use_factor }
                #
                #Valuables_extractor
                    add_to_variable = { building_input_factor@token:building_valuables_extractor = modifier@local_building_input_factor }
                    add_to_variable = { building_output_factor@token:building_valuables_extractor = modifier@local_building_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_valuables_extractor = modifier@local_building_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_valuables_extractor = modifier@local_building_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_valuables_extractor = modifier@local_building_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_valuables_extractor = modifier@local_building_industrial_capacity_use_factor }
                #
            #
            #Factories
                #Military_industry
                    add_to_variable = { building_input_factor@token:building_military_industry = modifier@local_building_factory_input_factor }
                    add_to_variable = { building_output_factor@token:building_military_industry = modifier@local_building_factory_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_military_industry = modifier@local_building_factory_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_military_industry = modifier@local_building_factory_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_military_industry = modifier@local_building_factory_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_military_industry = modifier@local_building_factory_industrial_capacity_use_factor }
                #
                #Civilian_industry
                    add_to_variable = { building_input_factor@token:building_civilian_industry = modifier@local_building_factory_input_factor }
                    add_to_variable = { building_output_factor@token:building_civilian_industry = modifier@local_building_factory_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_civilian_industry = modifier@local_building_factory_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_civilian_industry = modifier@local_building_factory_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_civilian_industry = modifier@local_building_factory_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_civilian_industry = modifier@local_building_factory_industrial_capacity_use_factor }
                #
                #Naval_industry
                    add_to_variable = { building_input_factor@token:building_naval_industry = modifier@local_building_factory_input_factor }
                    add_to_variable = { building_output_factor@token:building_naval_industry = modifier@local_building_factory_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_naval_industry = modifier@local_building_factory_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_naval_industry = modifier@local_building_factory_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_naval_industry = modifier@local_building_factory_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_naval_industry = modifier@local_building_factory_industrial_capacity_use_factor }
                #

                #Consumer_goods_factory
                    add_to_variable = { building_input_factor@token:building_consumer_goods_factory = modifier@local_building_factory_input_factor }
                    add_to_variable = { building_output_factor@token:building_consumer_goods_factory = modifier@local_building_factory_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_consumer_goods_factory = modifier@local_building_factory_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_consumer_goods_factory = modifier@local_building_factory_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_consumer_goods_factory = modifier@local_building_factory_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_consumer_goods_factory = modifier@local_building_factory_industrial_capacity_use_factor }
                #
                #Luxury_goods_factory
                    add_to_variable = { building_input_factor@token:building_luxury_goods_factory = modifier@local_building_factory_input_factor }
                    add_to_variable = { building_output_factor@token:building_luxury_goods_factory = modifier@local_building_factory_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_luxury_goods_factory = modifier@local_building_factory_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_luxury_goods_factory = modifier@local_building_factory_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_luxury_goods_factory = modifier@local_building_factory_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_luxury_goods_factory = modifier@local_building_factory_industrial_capacity_use_factor }
                #
                #Industrial_goods_factory
                    add_to_variable = { building_input_factor@token:building_industrial_goods_factory = modifier@local_building_factory_input_factor }
                    add_to_variable = { building_output_factor@token:building_industrial_goods_factory = modifier@local_building_factory_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_industrial_goods_factory = modifier@local_building_factory_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_industrial_goods_factory = modifier@local_building_factory_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_industrial_goods_factory = modifier@local_building_factory_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_industrial_goods_factory = modifier@local_building_factory_industrial_capacity_use_factor }
                #
            #
            #Agriculture
                #Commercial_farm
                    add_to_variable = { building_input_factor@token:building_commercial_farm = modifier@local_building_agriculture_input_factor }
                    add_to_variable = { building_output_factor@token:building_commercial_farm = modifier@local_building_agriculture_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_commercial_farm = modifier@local_building_agriculture_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_commercial_farm = modifier@local_building_agriculture_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_commercial_farm = modifier@local_building_agriculture_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_commercial_farm = modifier@local_building_agriculture_industrial_capacity_use_factor }
                #
                #Food_plantation
                    add_to_variable = { building_input_factor@token:building_food_plantation = modifier@local_building_agriculture_input_factor }
                    add_to_variable = { building_output_factor@token:building_food_plantation = modifier@local_building_agriculture_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_food_plantation = modifier@local_building_agriculture_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_food_plantation = modifier@local_building_agriculture_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_food_plantation = modifier@local_building_agriculture_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_food_plantation = modifier@local_building_agriculture_industrial_capacity_use_factor }
                #
                #Material_plantation
                    add_to_variable = { building_input_factor@token:building_material_plantation = modifier@local_building_agriculture_input_factor }
                    add_to_variable = { building_output_factor@token:building_material_plantation = modifier@local_building_agriculture_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_material_plantation = modifier@local_building_agriculture_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_material_plantation = modifier@local_building_agriculture_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_material_plantation = modifier@local_building_agriculture_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_material_plantation = modifier@local_building_agriculture_industrial_capacity_use_factor }
                #
                #Luxuries_plantation
                    add_to_variable = { building_input_factor@token:building_luxuries_plantation = modifier@local_building_agriculture_input_factor }
                    add_to_variable = { building_output_factor@token:building_luxuries_plantation = modifier@local_building_agriculture_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_luxuries_plantation = modifier@local_building_agriculture_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_luxuries_plantation = modifier@local_building_agriculture_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_luxuries_plantation = modifier@local_building_agriculture_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_luxuries_plantation = modifier@local_building_agriculture_industrial_capacity_use_factor }
                #
            #
            #Plantation
                #Food_plantation
                    add_to_variable = { building_input_factor@token:building_food_plantation = modifier@local_building_plantation_input_factor }
                    add_to_variable = { building_output_factor@token:building_food_plantation = modifier@local_building_plantation_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_food_plantation = modifier@local_building_plantation_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_food_plantation = modifier@local_building_plantation_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_food_plantation = modifier@local_building_plantation_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_food_plantation = modifier@local_building_plantation_industrial_capacity_use_factor }
                #
                #Material_plantation
                    add_to_variable = { building_input_factor@token:building_material_plantation = modifier@local_building_plantation_input_factor }
                    add_to_variable = { building_output_factor@token:building_material_plantation = modifier@local_building_plantation_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_material_plantation = modifier@local_building_plantation_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_material_plantation = modifier@local_building_plantation_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_material_plantation = modifier@local_building_plantation_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_material_plantation = modifier@local_building_plantation_industrial_capacity_use_factor }
                #
                #Luxuries_plantation
                    add_to_variable = { building_input_factor@token:building_luxuries_plantation = modifier@local_building_plantation_input_factor }
                    add_to_variable = { building_output_factor@token:building_luxuries_plantation = modifier@local_building_plantation_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_luxuries_plantation = modifier@local_building_plantation_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_luxuries_plantation = modifier@local_building_plantation_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_luxuries_plantation = modifier@local_building_plantation_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_luxuries_plantation = modifier@local_building_plantation_industrial_capacity_use_factor }
                #
            #
            #Resource
                #Lumber_mill
                    add_to_variable = { building_input_factor@token:building_lumber_mill = modifier@local_building_resource_input_factor }
                    add_to_variable = { building_output_factor@token:building_lumber_mill = modifier@local_building_resource_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_lumber_mill = modifier@local_building_resource_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_lumber_mill = modifier@local_building_resource_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_lumber_mill = modifier@local_building_resource_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_lumber_mill = modifier@local_building_resource_industrial_capacity_use_factor }
                #
                #Metals_mine
                    add_to_variable = { building_input_factor@token:building_metals_mine = modifier@local_building_resource_input_factor }
                    add_to_variable = { building_output_factor@token:building_metals_mine = modifier@local_building_resource_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_metals_mine = modifier@local_building_resource_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_metals_mine = modifier@local_building_resource_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_metals_mine = modifier@local_building_resource_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_metals_mine = modifier@local_building_resource_industrial_capacity_use_factor }
                #
                #Coal_mine
                    add_to_variable = { building_input_factor@token:building_coal_mine = modifier@local_building_resource_input_factor }
                    add_to_variable = { building_output_factor@token:building_coal_mine = modifier@local_building_resource_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_coal_mine = modifier@local_building_resource_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_coal_mine = modifier@local_building_resource_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_coal_mine = modifier@local_building_resource_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_coal_mine = modifier@local_building_resource_industrial_capacity_use_factor }
                #
                #Oil_well
                    add_to_variable = { building_input_factor@token:building_oil_well = modifier@local_building_resource_input_factor }
                    add_to_variable = { building_output_factor@token:building_oil_well = modifier@local_building_resource_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_oil_well = modifier@local_building_resource_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_oil_well = modifier@local_building_resource_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_oil_well = modifier@local_building_resource_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_oil_well = modifier@local_building_resource_industrial_capacity_use_factor }
                #
                #Valuables_extractor
                    add_to_variable = { building_input_factor@token:building_valuables_extractor = modifier@local_building_resource_input_factor }
                    add_to_variable = { building_output_factor@token:building_valuables_extractor = modifier@local_building_resource_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_valuables_extractor = modifier@local_building_resource_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_valuables_extractor = modifier@local_building_resource_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_valuables_extractor = modifier@local_building_resource_attractiveness_factor }
                    add_to_variable = { building_industrial_capacity_use_factor@token:building_valuables_extractor = modifier@local_building_resource_industrial_capacity_use_factor }
                #
            #
            #Transport
                #Infrastructure
                    add_to_variable = { building_input_factor@token:building_infrastructure = modifier@local_building_transport_input_factor }
                    add_to_variable = { building_output_factor@token:building_infrastructure = modifier@local_building_transport_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_infrastructure = modifier@local_building_transport_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_infrastructure = modifier@local_building_transport_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_infrastructure = modifier@local_building_transport_attractiveness_factor }
                #
                #Railway
                    add_to_variable = { building_input_factor@token:building_railway = modifier@local_building_transport_input_factor }
                    add_to_variable = { building_output_factor@token:building_railway = modifier@local_building_transport_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_railway = modifier@local_building_transport_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_railway = modifier@local_building_transport_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_railway = modifier@local_building_transport_attractiveness_factor }
                #
                #Port
                    add_to_variable = { building_input_factor@token:building_port = modifier@local_building_transport_input_factor }
                    add_to_variable = { building_output_factor@token:building_port = modifier@local_building_transport_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_port = modifier@local_building_transport_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_port = modifier@local_building_transport_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_port = modifier@local_building_transport_attractiveness_factor }
                #
                #Airport
                    add_to_variable = { building_input_factor@token:building_airport = modifier@local_building_transport_input_factor }
                    add_to_variable = { building_output_factor@token:building_airport = modifier@local_building_transport_output_factor }
                    add_to_variable = { building_throughput_factor@token:building_airport = modifier@local_building_transport_throughput_factor }
                    add_to_variable = { building_attractiveness_modifier@token:building_airport = modifier@local_building_transport_attractiveness_modifier }
                    add_to_variable = { building_attractiveness_factor@token:building_airport = modifier@local_building_transport_attractiveness_factor }
                #
            #
            #Subsistence Agriculture
                #Subsistence Farm
                    add_to_variable = { building_size_factor@token:building_subsistence_farm = modifier@local_building_subsistence_agriculture_size_factor }
                    add_to_variable = { building_output_factor@token:building_subsistence_farm = modifier@local_building_subsistence_agriculture_output_factor }
                #
                #Rice Paddy
                    add_to_variable = { building_size_factor@token:building_rice_paddy = modifier@local_building_subsistence_agriculture_size_factor }
                    add_to_variable = { building_output_factor@token:building_rice_paddy = modifier@local_building_subsistence_agriculture_output_factor }
                #
            #
        #

        #Economies of Scale
            #For all but subsistence farms
			for_each_loop = {
				array = buildings
				value = modifier_token
                if = {
                    limit = {
                        NOT = { check_variable = { modifier_token = token:building_subsistence_farm } }
                        NOT = { check_variable = { modifier_token = token:building_rice_paddy } }
                    }

                    set_temp_variable = { mod_temp = size@var:modifier_token }
                    multiply_temp_variable = { mod_temp = global.buildings_economy_of_scale_factor }
                    add_to_variable = { building_throughput_factor@var:modifier_token = mod_temp }
                }
			}

        #
    }
#

#Building Definitions                   Prod.
	# I    Basic (Pre-Industrial)       $ 3.0
	# II   Advanced (1800s-1820s)       $ 5.0
	# III  Industrialized (1830s-50s)   $ 8.0
	# IV   Mechanized (1860s-80s)       $ 12.0
	# V    Electrified (1890s-1910s)    $ 18.0
	# VI   Motorized (1920s-40s)        $ 25.0
	# VII  Modernized (1950s-60s)       $ 30.0
	# VIII Roboticized (1970s-80s)      $ 45.0
	# IX   Computerized (1990s-2000s)   $ 65.0
	# X    Digitalized (2010s-2020s)    $ 100.0
	# XI   Automatized (2030s-2040s)    $ 150.0
	# XII  Futurized (2050s)            $ 200.0

    # CHECK https://docs.google.com/spreadsheets/d/1h52wMISDjqaTtpo3ZZeapZBDS5ajSPJ_IwyS2SiuSmQ/edit?usp=sharing FOR SPREADSHEET FOR ABOVE BUILDINGS

    # 00: $0.68 per K - Starvation
    # 10: $1.73 per K - Pre-Industrial
    # 20: $3.88 per K - 1800
    # 30: $6.74 per K - 1850s
    # 40: $14.1 per K - 1900s
    # 50: $29.0 per K - 1950s
    # 60: $56.2 per K - 1990s
    # 70: $108.8 per K - 2020s
    # 80: $217.4 per K - 2050s
    # 90: $430.0 per K - 2080s
    # 100: $854.6 per K - 2100s

    # Tech Unlocks:
    # 1 is always unlocked, 0 is never unlocked, token:technology for which tech it is unlocked at

    #Infrastructure
        #Rural
        define_infrastructure = {
            set_variable = { global.building_output_resource_1@token:building_infrastructure = token:resource_services }

            #Basic
                set_variable = { global.building_basic_tech_unlock@token:building_infrastructure = 1 }

                set_variable = { global.building_basic_construction_amount@token:building_infrastructure = 18 }
                set_variable = { global.building_basic_construction_speed@token:building_infrastructure = 0.5 }

                set_variable = { global.building_basic_upgrade_amount@token:building_infrastructure = 6 }
                set_variable = { global.building_basic_upgrade_speed@token:building_infrastructure = 1 }

                #Production
                set_variable = { global.building_basic_output_1@token:building_infrastructure = 2.0 }
                set_variable = { global.building_basic_output_industrial_capacity@token:building_infrastructure = 2 }
                set_variable = { global.building_basic_output_shipping_capacity@token:building_infrastructure = 2 }

                set_variable = { global.building_basic_input_resource_1@token:building_infrastructure = token:resource_raw_materials }
                set_variable = { global.building_basic_input_amount_1@token:building_infrastructure = 3.0 }

                set_variable = { global.building_basic_peasants_employment@token:building_infrastructure = 0.0 } #1x
                set_variable = { global.building_basic_laborers_employment@token:building_infrastructure = 2.47 } #2x
                set_variable = { global.building_basic_workers_employment@token:building_infrastructure = 0 } #5x
                set_variable = { global.building_basic_professionals_employment@token:building_infrastructure = 0 } #10x
                set_variable = { global.building_basic_specialists_employment@token:building_infrastructure = 0 } #20x
                set_variable = { global.building_basic_aristocrats_employment@token:building_infrastructure = 0.03 } #30x
                set_variable = { global.building_basic_capitalists_employment@token:building_infrastructure = 0.0 } #50x
            #
            #Advanced
                set_variable = { global.building_advanced_tech_unlock@token:building_infrastructure = token:mass_transit_early }

                #Production
                set_variable = { global.building_advanced_output_1@token:building_infrastructure = 4.5 }
                set_variable = { global.building_advanced_output_industrial_capacity@token:building_infrastructure = 2.5 }
                set_variable = { global.building_advanced_output_shipping_capacity@token:building_infrastructure = 2.5 }

                set_variable = { global.building_advanced_construction_amount@token:building_infrastructure = 36 }
                set_variable = { global.building_advanced_construction_speed@token:building_infrastructure = 1 }

                set_variable = { global.building_advanced_upgrade_amount@token:building_infrastructure = 9 }
                set_variable = { global.building_advanced_upgrade_speed@token:building_infrastructure = 1.5 }

                set_variable = { global.building_advanced_input_resource_1@token:building_infrastructure = token:resource_raw_materials }
                set_variable = { global.building_advanced_input_amount_1@token:building_infrastructure = 8 }

                set_variable = { global.building_advanced_peasants_employment@token:building_infrastructure = 0.0 } #1x
                set_variable = { global.building_advanced_laborers_employment@token:building_infrastructure = 2.24 } #2x
                set_variable = { global.building_advanced_workers_employment@token:building_infrastructure = 0.25 } #5x
                set_variable = { global.building_advanced_professionals_employment@token:building_infrastructure = 0 } #10x
                set_variable = { global.building_advanced_specialists_employment@token:building_infrastructure = 0 } #20x
                set_variable = { global.building_advanced_aristocrats_employment@token:building_infrastructure = 0.03 } #30x
                set_variable = { global.building_advanced_capitalists_employment@token:building_infrastructure = 0.0 } #50x
            #
            #Industrialized
                set_variable = { global.building_industrialized_tech_unlock@token:building_infrastructure = token:tech_humanities_roadworks }

                #Production
                set_variable = { global.building_industrialized_output_1@token:building_infrastructure = 7.5 }
                set_variable = { global.building_industrialized_output_industrial_capacity@token:building_infrastructure = 3.0 }
                set_variable = { global.building_industrialized_output_shipping_capacity@token:building_infrastructure = 3.0 }

                set_variable = { global.building_industrialized_construction_amount@token:building_infrastructure = 72 }
                set_variable = { global.building_industrialized_construction_speed@token:building_infrastructure = 2 }

                set_variable = { global.building_industrialized_upgrade_amount@token:building_infrastructure = 12 }
                set_variable = { global.building_industrialized_upgrade_speed@token:building_infrastructure = 2 }

                set_variable = { global.building_industrialized_input_resource_1@token:building_infrastructure = token:resource_raw_materials }
                set_variable = { global.building_industrialized_input_amount_1@token:building_infrastructure = 14.0 }

                set_variable = { global.building_industrialized_input_resource_2@token:building_infrastructure = token:resource_energy_materials }
                set_variable = { global.building_industrialized_input_amount_2@token:building_infrastructure = 1.5 }

                set_variable = { global.building_industrialized_peasants_employment@token:building_infrastructure = 0.0 } #1x
                set_variable = { global.building_industrialized_laborers_employment@token:building_infrastructure = 1.72 } #2x
                set_variable = { global.building_industrialized_workers_employment@token:building_infrastructure = 0.5 } #5x
                set_variable = { global.building_industrialized_professionals_employment@token:building_infrastructure = 0 } #10x
                set_variable = { global.building_industrialized_specialists_employment@token:building_infrastructure = 0 } #20x
                set_variable = { global.building_industrialized_aristocrats_employment@token:building_infrastructure = 0.03 } #30x
                set_variable = { global.building_industrialized_capitalists_employment@token:building_infrastructure = 0.0 } #50x
            #
            #Mechanized
                set_variable = { global.building_mechanized_tech_unlock@token:building_infrastructure = token:tech_humanities_asphalt_roads }

                #Production
                set_variable = { global.building_mechanized_output_1@token:building_infrastructure = 8.5 }
                set_variable = { global.building_mechanized_output_industrial_capacity@token:building_infrastructure = 4.0 }
                set_variable = { global.building_mechanized_output_shipping_capacity@token:building_infrastructure = 4.0 }

                set_variable = { global.building_mechanized_construction_amount@token:building_infrastructure = 90 }
                set_variable = { global.building_mechanized_construction_speed@token:building_infrastructure = 2.5 }

                set_variable = { global.building_mechanized_upgrade_amount@token:building_infrastructure = 15 }
                set_variable = { global.building_mechanized_upgrade_speed@token:building_infrastructure = 2.5 }

                set_variable = { global.building_mechanized_input_resource_1@token:building_infrastructure = token:resource_raw_materials }
                set_variable = { global.building_mechanized_input_amount_1@token:building_infrastructure = 17.0 }

                set_variable = { global.building_mechanized_input_resource_2@token:building_infrastructure = token:resource_energy_materials }
                set_variable = { global.building_mechanized_input_amount_2@token:building_infrastructure = 3.0 }

                set_variable = { global.building_mechanized_peasants_employment@token:building_infrastructure = 0.0 } #1x
                set_variable = { global.building_mechanized_laborers_employment@token:building_infrastructure = 1.22 } #2x
                set_variable = { global.building_mechanized_workers_employment@token:building_infrastructure = 0.75 } #5x
                set_variable = { global.building_mechanized_professionals_employment@token:building_infrastructure = 0 } #10x
                set_variable = { global.building_mechanized_specialists_employment@token:building_infrastructure = 0 } #20x
                set_variable = { global.building_mechanized_aristocrats_employment@token:building_infrastructure = 0.02 } #30x
                set_variable = { global.building_mechanized_capitalists_employment@token:building_infrastructure = 0.01 } #50x
            #
            #Electrified
                set_variable = { global.building_electrified_tech_unlock@token:building_infrastructure = token:tarmac_roads }

                #Productivity: $4.3 /K
                set_variable = { global.building_electrified_output_1@token:building_infrastructure = 10 }
                set_variable = { global.building_electrified_output_industrial_capacity@token:building_infrastructure = 6.0 }
                set_variable = { global.building_electrified_output_shipping_capacity@token:building_infrastructure = 6.0 }

                set_variable = { global.building_electrified_construction_amount@token:building_infrastructure = 126 }
                set_variable = { global.building_electrified_construction_speed@token:building_infrastructure = 3.5 }

                set_variable = { global.building_electrified_upgrade_amount@token:building_infrastructure = 18 }
                set_variable = { global.building_electrified_upgrade_speed@token:building_infrastructure = 3 }

                set_variable = { global.building_electrified_input_resource_1@token:building_infrastructure = token:resource_industrial_goods }
                set_variable = { global.building_electrified_input_amount_1@token:building_infrastructure = 1.0 }

                set_variable = { global.building_electrified_input_resource_2@token:building_infrastructure = token:resource_raw_materials }
                set_variable = { global.building_electrified_input_amount_2@token:building_infrastructure = 25.0 }

                set_variable = { global.building_electrified_input_resource_3@token:building_infrastructure = token:resource_electricity }
                set_variable = { global.building_electrified_input_amount_3@token:building_infrastructure = 1.0 }

                set_variable = { global.building_electrified_peasants_employment@token:building_infrastructure = 0.0 } #1x
                set_variable = { global.building_electrified_laborers_employment@token:building_infrastructure = 0.72 } #2x
                set_variable = { global.building_electrified_workers_employment@token:building_infrastructure = 1.0 } #5x
                set_variable = { global.building_electrified_professionals_employment@token:building_infrastructure = 0.0 } #10x
                set_variable = { global.building_electrified_specialists_employment@token:building_infrastructure = 0 } #20x
                set_variable = { global.building_electrified_aristocrats_employment@token:building_infrastructure = 0.01 } #30x
                set_variable = { global.building_electrified_capitalists_employment@token:building_infrastructure = 0.02 } #50x
            #
            #Motorized
                set_variable = { global.building_motorized_tech_unlock@token:building_infrastructure = token:mass_highspeed_highways }

                #Productivity: $6.3 /K
                set_variable = { global.building_motorized_output_1@token:building_infrastructure = 9 }
                set_variable = { global.building_motorized_output_industrial_capacity@token:building_infrastructure = 8.0 }
                set_variable = { global.building_motorized_output_shipping_capacity@token:building_infrastructure = 8.0 }

                set_variable = { global.building_motorized_construction_amount@token:building_infrastructure = 180 }
                set_variable = { global.building_motorized_construction_speed@token:building_infrastructure = 5.0 }

                set_variable = { global.building_motorized_upgrade_amount@token:building_infrastructure = 24 }
                set_variable = { global.building_motorized_upgrade_speed@token:building_infrastructure = 4 }

                set_variable = { global.building_motorized_input_resource_1@token:building_infrastructure = token:resource_industrial_goods }
                set_variable = { global.building_motorized_input_amount_1@token:building_infrastructure = 2.0 }

                set_variable = { global.building_motorized_input_resource_2@token:building_infrastructure = token:resource_raw_materials }
                set_variable = { global.building_motorized_input_amount_2@token:building_infrastructure = 25.0 }

                set_variable = { global.building_motorized_input_resource_3@token:building_infrastructure = token:resource_electricity }
                set_variable = { global.building_motorized_input_amount_3@token:building_infrastructure = 3.0 }

                set_variable = { global.building_motorized_peasants_employment@token:building_infrastructure = 0.0 } #1x
                set_variable = { global.building_motorized_laborers_employment@token:building_infrastructure = 0.22 } #2x
                set_variable = { global.building_motorized_workers_employment@token:building_infrastructure = 1.25 } #5x
                set_variable = { global.building_motorized_professionals_employment@token:building_infrastructure = 0.25 } #10x
                set_variable = { global.building_motorized_specialists_employment@token:building_infrastructure = 0 } #20x
                set_variable = { global.building_motorized_aristocrats_employment@token:building_infrastructure = 0.0 } #30x
                set_variable = { global.building_motorized_capitalists_employment@token:building_infrastructure = 0.03 } #50x
            #
            #Modernized
                set_variable = { global.building_modernized_tech_unlock@token:building_infrastructure = token:modern_roundabouts }

                #Productivity: $8.3 /K
                set_variable = { global.building_modernized_output_1@token:building_infrastructure = 10 }
                set_variable = { global.building_modernized_output_industrial_capacity@token:building_infrastructure = 10.0 }
                set_variable = { global.building_modernized_output_shipping_capacity@token:building_infrastructure = 10.0 }

                set_variable = { global.building_modernized_construction_amount@token:building_infrastructure = 198 }
                set_variable = { global.building_modernized_construction_speed@token:building_infrastructure = 5.5 }

                set_variable = { global.building_modernized_upgrade_amount@token:building_infrastructure = 36 }
                set_variable = { global.building_modernized_upgrade_speed@token:building_infrastructure = 6 }

                set_variable = { global.building_modernized_input_resource_1@token:building_infrastructure = token:resource_industrial_goods }
                set_variable = { global.building_modernized_input_amount_1@token:building_infrastructure = 3.0 }

                set_variable = { global.building_modernized_input_resource_2@token:building_infrastructure = token:resource_raw_materials }
                set_variable = { global.building_modernized_input_amount_2@token:building_infrastructure = 34.0 }

                set_variable = { global.building_modernized_input_resource_3@token:building_infrastructure = token:resource_electricity }
                set_variable = { global.building_modernized_input_amount_3@token:building_infrastructure = 5.0 }

                set_variable = { global.building_modernized_peasants_employment@token:building_infrastructure = 0.0 } #1x
                set_variable = { global.building_modernized_laborers_employment@token:building_infrastructure = 0.0 } #2x
                set_variable = { global.building_modernized_workers_employment@token:building_infrastructure = 0.97 } #5x
                set_variable = { global.building_modernized_professionals_employment@token:building_infrastructure = 0.5 } #10x
                set_variable = { global.building_modernized_specialists_employment@token:building_infrastructure = 0 } #20x
                set_variable = { global.building_modernized_aristocrats_employment@token:building_infrastructure = 0.0 } #30x
                set_variable = { global.building_modernized_capitalists_employment@token:building_infrastructure = 0.03 } #50x
            #
            #Roboticized
                set_variable = { global.building_roboticized_tech_unlock@token:building_infrastructure = token:combined_transportation_networks }

                #Productivity: $11.2 /K
                set_variable = { global.building_roboticized_output_1@token:building_infrastructure = 11.5 }
                set_variable = { global.building_roboticized_output_industrial_capacity@token:building_infrastructure = 11.0 }
                set_variable = { global.building_roboticized_output_shipping_capacity@token:building_infrastructure = 11.0 }

                set_variable = { global.building_roboticized_construction_amount@token:building_infrastructure = 252 }
                set_variable = { global.building_roboticized_construction_speed@token:building_infrastructure = 7 }

                set_variable = { global.building_roboticized_upgrade_amount@token:building_infrastructure = 48 }
                set_variable = { global.building_roboticized_upgrade_speed@token:building_infrastructure = 8 }

                set_variable = { global.building_roboticized_input_resource_1@token:building_infrastructure = token:resource_industrial_goods }
                set_variable = { global.building_roboticized_input_amount_1@token:building_infrastructure = 3.0 }

                set_variable = { global.building_roboticized_input_resource_2@token:building_infrastructure = token:resource_raw_materials }
                set_variable = { global.building_roboticized_input_amount_2@token:building_infrastructure = 40.0 }

                set_variable = { global.building_roboticized_input_resource_3@token:building_infrastructure = token:resource_electricity }
                set_variable = { global.building_roboticized_input_amount_3@token:building_infrastructure = 9.0 }

                set_variable = { global.building_roboticized_peasants_employment@token:building_infrastructure = 0.0 } #1x
                set_variable = { global.building_roboticized_laborers_employment@token:building_infrastructure = 0.0 } #2x
                set_variable = { global.building_roboticized_workers_employment@token:building_infrastructure = 0.72 } #5x
                set_variable = { global.building_roboticized_professionals_employment@token:building_infrastructure = 0.5 } #10x
                set_variable = { global.building_roboticized_specialists_employment@token:building_infrastructure = 0.0 } #20x
                set_variable = { global.building_roboticized_aristocrats_employment@token:building_infrastructure = 0.0 } #30x
                set_variable = { global.building_roboticized_capitalists_employment@token:building_infrastructure = 0.03 } #50x
            #
            #Computerized
                set_variable = { global.building_computerized_tech_unlock@token:building_infrastructure = token:centralized_traffic_controls }

                #Productivity: $13.0 /K
                set_variable = { global.building_computerized_output_1@token:building_infrastructure = 14 }
                set_variable = { global.building_computerized_output_industrial_capacity@token:building_infrastructure = 13.0 }
                set_variable = { global.building_computerized_output_shipping_capacity@token:building_infrastructure = 13.0 }

                set_variable = { global.building_computerized_construction_amount@token:building_infrastructure = 324 }
                set_variable = { global.building_computerized_construction_speed@token:building_infrastructure = 9 }

                set_variable = { global.building_computerized_upgrade_amount@token:building_infrastructure = 60 }
                set_variable = { global.building_computerized_upgrade_speed@token:building_infrastructure = 10 }

                set_variable = { global.building_computerized_input_resource_1@token:building_infrastructure = token:resource_industrial_goods }
                set_variable = { global.building_computerized_input_amount_1@token:building_infrastructure = 5.0 }

                set_variable = { global.building_computerized_input_resource_2@token:building_infrastructure = token:resource_raw_materials }
                set_variable = { global.building_computerized_input_amount_2@token:building_infrastructure = 50.0 }

                set_variable = { global.building_computerized_input_resource_3@token:building_infrastructure = token:resource_electricity }
                set_variable = { global.building_computerized_input_amount_3@token:building_infrastructure = 16.0 }

                set_variable = { global.building_computerized_peasants_employment@token:building_infrastructure = 0.0 } #1x
                set_variable = { global.building_computerized_laborers_employment@token:building_infrastructure = 0.0 } #2x
                set_variable = { global.building_computerized_workers_employment@token:building_infrastructure = 0.22 } #5x
                set_variable = { global.building_computerized_professionals_employment@token:building_infrastructure = 0.5 } #10x
                set_variable = { global.building_computerized_specialists_employment@token:building_infrastructure = 0.25 } #20x
                set_variable = { global.building_computerized_aristocrats_employment@token:building_infrastructure = 0.0 } #30x
                set_variable = { global.building_computerized_capitalists_employment@token:building_infrastructure = 0.03 } #50x
            #
            #Digitalized
                set_variable = { global.building_digitalized_tech_unlock@token:building_infrastructure = token:mass_transportation_networks }

                #Productivity: $16.5 /K
                set_variable = { global.building_digitalized_output_1@token:building_infrastructure = 19 }
                set_variable = { global.building_digitalized_output_industrial_capacity@token:building_infrastructure = 19.0 }
                set_variable = { global.building_digitalized_output_shipping_capacity@token:building_infrastructure = 19.0 }

                set_variable = { global.building_digitalized_construction_amount@token:building_infrastructure = 504 }
                set_variable = { global.building_digitalized_construction_speed@token:building_infrastructure = 14 }

                set_variable = { global.building_digitalized_upgrade_amount@token:building_infrastructure = 90 }
                set_variable = { global.building_digitalized_upgrade_speed@token:building_infrastructure = 15 }

                set_variable = { global.building_digitalized_input_resource_1@token:building_infrastructure = token:resource_industrial_goods }
                set_variable = { global.building_digitalized_input_amount_1@token:building_infrastructure = 4.0 }

                set_variable = { global.building_digitalized_input_resource_2@token:building_infrastructure = token:resource_raw_materials }
                set_variable = { global.building_digitalized_input_amount_2@token:building_infrastructure = 80.0 }

                set_variable = { global.building_digitalized_input_resource_3@token:building_infrastructure = token:resource_electricity }
                set_variable = { global.building_digitalized_input_amount_3@token:building_infrastructure = 30.0 }

                set_variable = { global.building_digitalized_peasants_employment@token:building_infrastructure = 0.0 } #1x
                set_variable = { global.building_digitalized_laborers_employment@token:building_infrastructure = 0.0 } #2x
                set_variable = { global.building_digitalized_workers_employment@token:building_infrastructure = 0.0 } #5x
                set_variable = { global.building_digitalized_professionals_employment@token:building_infrastructure = 0.72 } #10x
                set_variable = { global.building_digitalized_specialists_employment@token:building_infrastructure = 0.25 } #20x
                set_variable = { global.building_digitalized_aristocrats_employment@token:building_infrastructure = 0.0 } #30x
                set_variable = { global.building_digitalized_capitalists_employment@token:building_infrastructure = 0.03 } #50x
            #
            #Automatized
                set_variable = { global.building_automatized_tech_unlock@token:building_infrastructure = token:early_automated_transportation }

                #Productivity: $20.0 /K
                set_variable = { global.building_automatized_output_1@token:building_infrastructure = 25 }
                set_variable = { global.building_automatized_output_industrial_capacity@token:building_infrastructure = 20.0 }
                set_variable = { global.building_automatized_output_shipping_capacity@token:building_infrastructure = 20.0 }

                set_variable = { global.building_automatized_construction_amount@token:building_infrastructure = 684 }
                set_variable = { global.building_automatized_construction_speed@token:building_infrastructure = 19 }

                set_variable = { global.building_automatized_upgrade_amount@token:building_infrastructure = 120 }
                set_variable = { global.building_automatized_upgrade_speed@token:building_infrastructure = 20 }

                set_variable = { global.building_automatized_input_resource_1@token:building_infrastructure = token:resource_industrial_goods }
                set_variable = { global.building_automatized_input_amount_1@token:building_infrastructure = 5.0 }

                set_variable = { global.building_automatized_input_resource_2@token:building_infrastructure = token:resource_raw_materials }
                set_variable = { global.building_automatized_input_amount_2@token:building_infrastructure = 110.0 }

                set_variable = { global.building_automatized_input_resource_3@token:building_infrastructure = token:resource_electricity }
                set_variable = { global.building_automatized_input_amount_3@token:building_infrastructure = 45.0 }

                set_variable = { global.building_automatized_peasants_employment@token:building_infrastructure = 0.0 } #1x
                set_variable = { global.building_automatized_laborers_employment@token:building_infrastructure = 0.0 } #2x
                set_variable = { global.building_automatized_workers_employment@token:building_infrastructure = 0.0 } #5x
                set_variable = { global.building_automatized_professionals_employment@token:building_infrastructure = 0.22 } #10x
                set_variable = { global.building_automatized_specialists_employment@token:building_infrastructure = 0.5 } #20x
                set_variable = { global.building_automatized_aristocrats_employment@token:building_infrastructure = 0.0 } #30x
                set_variable = { global.building_automatized_capitalists_employment@token:building_infrastructure = 0.03 } #50x
            #
            #Futurized
                set_variable = { global.building_futurized_tech_unlock@token:building_infrastructure = token:fully_automated_transportation }

                #Productivity: $27.0 /K
                set_variable = { global.building_futurized_output_1@token:building_infrastructure = 20 }
                set_variable = { global.building_futurized_output_industrial_capacity@token:building_infrastructure = 20.0 }
                set_variable = { global.building_futurized_output_shipping_capacity@token:building_infrastructure = 20.0 }

                set_variable = { global.building_futurized_construction_amount@token:building_infrastructure = 720 }
                set_variable = { global.building_futurized_construction_speed@token:building_infrastructure = 20 }

                set_variable = { global.building_futurized_input_resource_1@token:building_infrastructure = token:resource_industrial_goods }
                set_variable = { global.building_futurized_input_amount_1@token:building_infrastructure = 10.0 }

                set_variable = { global.building_futurized_input_resource_2@token:building_infrastructure = token:resource_raw_materials }
                set_variable = { global.building_futurized_input_amount_2@token:building_infrastructure = 80.0 }

                set_variable = { global.building_futurized_input_resource_3@token:building_infrastructure = token:resource_electricity }
                set_variable = { global.building_futurized_input_amount_3@token:building_infrastructure = 40.0 }

                set_variable = { global.building_futurized_peasants_employment@token:building_infrastructure = 0.0 } #1x
                set_variable = { global.building_futurized_laborers_employment@token:building_infrastructure = 0.0 } #2x
                set_variable = { global.building_futurized_workers_employment@token:building_infrastructure = 0.0 } #5x
                set_variable = { global.building_futurized_professionals_employment@token:building_infrastructure = 0.0 } #10x
                set_variable = { global.building_futurized_specialists_employment@token:building_infrastructure = 0.47 } #20x
                set_variable = { global.building_futurized_aristocrats_employment@token:building_infrastructure = 0.0 } #30x
                set_variable = { global.building_futurized_capitalists_employment@token:building_infrastructure = 0.03 } #50x
            #
        }
        define_railway = {
            set_variable = { global.building_output_resource_1@token:building_railway = token:resource_services }

            #Industrialized
                set_variable = { global.building_industrialized_tech_unlock@token:building_railway = token:steam_locomotive }

                #Productivity: $2.9 /K
                set_variable = { global.building_industrialized_output_1@token:building_railway = 0.5 }
                set_variable = { global.building_industrialized_output_industrial_capacity@token:building_railway = 10.0 }
                set_variable = { global.building_industrialized_output_shipping_capacity@token:building_railway = 10.0 }

                set_variable = { global.building_industrialized_construction_amount@token:building_railway = 72 }
                set_variable = { global.building_industrialized_construction_speed@token:building_railway = 2 }

                set_variable = { global.building_industrialized_upgrade_amount@token:building_railway = 12 }
                set_variable = { global.building_industrialized_upgrade_speed@token:building_railway = 2 }

                set_variable = { global.building_industrialized_input_resource_1@token:building_railway = token:resource_industrial_goods }
                set_variable = { global.building_industrialized_input_amount_1@token:building_railway = 3.0 }

                set_variable = { global.building_industrialized_input_resource_2@token:building_railway = token:resource_raw_materials }
                set_variable = { global.building_industrialized_input_amount_2@token:building_railway = 4.5 }

                set_variable = { global.building_industrialized_input_resource_3@token:building_railway = token:resource_energy_materials }
                set_variable = { global.building_industrialized_input_amount_3@token:building_railway = 2.0 }

                set_variable = { global.building_industrialized_peasants_employment@token:building_railway = 0.0 } #1x
                set_variable = { global.building_industrialized_laborers_employment@token:building_railway = 1.72 } #2x
                set_variable = { global.building_industrialized_workers_employment@token:building_railway = 0.5 } #5x
                set_variable = { global.building_industrialized_professionals_employment@token:building_railway = 0 } #10x
                set_variable = { global.building_industrialized_specialists_employment@token:building_railway = 0 } #20x
                set_variable = { global.building_industrialized_aristocrats_employment@token:building_railway = 0.0 } #30x
                set_variable = { global.building_industrialized_capitalists_employment@token:building_railway = 0.03 } #50x
            #
            #Mechanized
                set_variable = { global.building_mechanized_tech_unlock@token:building_railway = token:steam_locomotive_3 }

                #Productivity: $3.6 /K
                set_variable = { global.building_mechanized_output_1@token:building_railway = 1.5 }
                set_variable = { global.building_mechanized_output_industrial_capacity@token:building_railway = 11.0 }
                set_variable = { global.building_mechanized_output_shipping_capacity@token:building_railway = 15.0 }

                set_variable = { global.building_mechanized_construction_amount@token:building_railway = 90 }
                set_variable = { global.building_mechanized_construction_speed@token:building_railway = 2.5 }

                set_variable = { global.building_mechanized_upgrade_amount@token:building_railway = 15 }
                set_variable = { global.building_mechanized_upgrade_speed@token:building_railway = 2.5 }

                set_variable = { global.building_mechanized_input_resource_1@token:building_railway = token:resource_industrial_goods }
                set_variable = { global.building_mechanized_input_amount_1@token:building_railway = 3 }

                set_variable = { global.building_mechanized_input_resource_2@token:building_railway = token:resource_raw_materials }
                set_variable = { global.building_mechanized_input_amount_2@token:building_railway = 6.0 }

                set_variable = { global.building_mechanized_input_resource_3@token:building_railway = token:resource_energy_materials }
                set_variable = { global.building_mechanized_input_amount_3@token:building_railway = 4.5 }

                set_variable = { global.building_mechanized_peasants_employment@token:building_railway = 0.0 } #1x
                set_variable = { global.building_mechanized_laborers_employment@token:building_railway = 1.22 } #2x
                set_variable = { global.building_mechanized_workers_employment@token:building_railway = 0.75 } #5x
                set_variable = { global.building_mechanized_professionals_employment@token:building_railway = 0 } #10x
                set_variable = { global.building_mechanized_specialists_employment@token:building_railway = 0 } #20x
                set_variable = { global.building_mechanized_aristocrats_employment@token:building_railway = 0.0 } #30x
                set_variable = { global.building_mechanized_capitalists_employment@token:building_railway = 0.03 } #50x
            #
            #Electrified
                set_variable = { global.building_electrified_tech_unlock@token:building_railway = token:diesel_locomotive_1 }

                #Productivity: $4.7 /K
                set_variable = { global.building_electrified_output_1@token:building_railway = 2.0 }
                set_variable = { global.building_electrified_output_industrial_capacity@token:building_railway = 14.0 }
                set_variable = { global.building_electrified_output_shipping_capacity@token:building_railway = 20.0 }

                set_variable = { global.building_electrified_construction_amount@token:building_railway = 126 }
                set_variable = { global.building_electrified_construction_speed@token:building_railway = 3.5 }

                set_variable = { global.building_electrified_upgrade_amount@token:building_railway = 18 }
                set_variable = { global.building_electrified_upgrade_speed@token:building_railway = 3 }

                set_variable = { global.building_electrified_input_resource_1@token:building_railway = token:resource_industrial_goods }
                set_variable = { global.building_electrified_input_amount_1@token:building_railway = 5.0 }

                set_variable = { global.building_electrified_input_resource_2@token:building_railway = token:resource_raw_materials }
                set_variable = { global.building_electrified_input_amount_2@token:building_railway = 9.0 }

                set_variable = { global.building_electrified_input_resource_3@token:building_railway = token:resource_energy_materials }
                set_variable = { global.building_electrified_input_amount_3@token:building_railway = 7.0 }

                set_variable = { global.building_electrified_peasants_employment@token:building_railway = 0.0 } #1x
                set_variable = { global.building_electrified_laborers_employment@token:building_railway = 0.72 } #2x
                set_variable = { global.building_electrified_workers_employment@token:building_railway = 1.0 } #5x
                set_variable = { global.building_electrified_professionals_employment@token:building_railway = 0.0 } #10x
                set_variable = { global.building_electrified_specialists_employment@token:building_railway = 0 } #20x
                set_variable = { global.building_electrified_aristocrats_employment@token:building_railway = 0.0 } #30x
                set_variable = { global.building_electrified_capitalists_employment@token:building_railway = 0.03 } #50x
            #
            #Motorized
                set_variable = { global.building_motorized_tech_unlock@token:building_railway = token:diesel_locomotive_4 }

                #Productivity: $7.1 /K
                set_variable = { global.building_motorized_output_1@token:building_railway = 3 }
                set_variable = { global.building_motorized_output_industrial_capacity@token:building_railway = 14.0 }
                set_variable = { global.building_motorized_output_shipping_capacity@token:building_railway = 30.0 }

                set_variable = { global.building_motorized_construction_amount@token:building_railway = 96 }
                set_variable = { global.building_motorized_construction_speed@token:building_railway = 8 }

                set_variable = { global.building_motorized_upgrade_amount@token:building_railway = 180 }
                set_variable = { global.building_motorized_upgrade_speed@token:building_railway = 5 }

                set_variable = { global.building_motorized_input_resource_1@token:building_railway = token:resource_industrial_goods }
                set_variable = { global.building_motorized_input_amount_1@token:building_railway = 7.0 }

                set_variable = { global.building_motorized_input_resource_2@token:building_railway = token:resource_raw_materials }
                set_variable = { global.building_motorized_input_amount_2@token:building_railway = 10.0 }

                set_variable = { global.building_motorized_input_resource_3@token:building_railway = token:resource_energy_materials }
                set_variable = { global.building_motorized_input_amount_3@token:building_railway = 8.0 }

                set_variable = { global.building_motorized_peasants_employment@token:building_railway = 0.0 } #1x
                set_variable = { global.building_motorized_laborers_employment@token:building_railway = 0.22 } #2x
                set_variable = { global.building_motorized_workers_employment@token:building_railway = 1.25 } #5x
                set_variable = { global.building_motorized_professionals_employment@token:building_railway = 0.25 } #10x
                set_variable = { global.building_motorized_specialists_employment@token:building_railway = 0 } #20x
                set_variable = { global.building_motorized_aristocrats_employment@token:building_railway = 0.0 } #30x
                set_variable = { global.building_motorized_capitalists_employment@token:building_railway = 0.03 } #50x
            #
            #Modernized
                set_variable = { global.building_modernized_tech_unlock@token:building_railway = token:full_electric_locomotives }

                #Productivity: $11.1 /K
                set_variable = { global.building_modernized_output_1@token:building_railway = 5 }
                set_variable = { global.building_modernized_output_industrial_capacity@token:building_railway = 15.0 }
                set_variable = { global.building_modernized_output_shipping_capacity@token:building_railway = 40.0 }

                set_variable = { global.building_modernized_construction_amount@token:building_railway = 198 }
                set_variable = { global.building_modernized_construction_speed@token:building_railway = 5.5 }

                set_variable = { global.building_modernized_upgrade_amount@token:building_railway = 36 }
                set_variable = { global.building_modernized_upgrade_speed@token:building_railway = 6 }

                set_variable = { global.building_modernized_input_resource_1@token:building_railway = token:resource_industrial_goods }
                set_variable = { global.building_modernized_input_amount_1@token:building_railway = 8.0 }

                set_variable = { global.building_modernized_input_resource_2@token:building_railway = token:resource_raw_materials }
                set_variable = { global.building_modernized_input_amount_2@token:building_railway = 12.0 }

                set_variable = { global.building_modernized_input_resource_3@token:building_railway = token:resource_energy_materials }
                set_variable = { global.building_modernized_input_amount_3@token:building_railway = 9.0 }

                set_variable = { global.building_modernized_input_resource_4@token:building_railway = token:resource_electricity }
                set_variable = { global.building_modernized_input_amount_4@token:building_railway = 3.0 }

                set_variable = { global.building_modernized_peasants_employment@token:building_railway = 0.0 } #1x
                set_variable = { global.building_modernized_laborers_employment@token:building_railway = 0.0 } #2x
                set_variable = { global.building_modernized_workers_employment@token:building_railway = 0.97 } #5x
                set_variable = { global.building_modernized_professionals_employment@token:building_railway = 0.5 } #10x
                set_variable = { global.building_modernized_specialists_employment@token:building_railway = 0 } #20x
                set_variable = { global.building_modernized_aristocrats_employment@token:building_railway = 0.0 } #30x
                set_variable = { global.building_modernized_capitalists_employment@token:building_railway = 0.03 } #50x
            #
            #Roboticized
                set_variable = { global.building_roboticized_tech_unlock@token:building_railway = token:high_speed_rail }

                #Productivity: $14.4 /K
                set_variable = { global.building_roboticized_output_1@token:building_railway = 6.5 }
                set_variable = { global.building_roboticized_output_industrial_capacity@token:building_railway = 16.0 }
                set_variable = { global.building_roboticized_output_shipping_capacity@token:building_railway = 44.0 }

                set_variable = { global.building_roboticized_construction_amount@token:building_railway = 252 }
                set_variable = { global.building_roboticized_construction_speed@token:building_railway = 7 }

                set_variable = { global.building_roboticized_upgrade_amount@token:building_railway = 48 }
                set_variable = { global.building_roboticized_upgrade_speed@token:building_railway = 8 }

                set_variable = { global.building_roboticized_input_resource_1@token:building_railway = token:resource_industrial_goods }
                set_variable = { global.building_roboticized_input_amount_1@token:building_railway = 9.0 }

                set_variable = { global.building_roboticized_input_resource_2@token:building_railway = token:resource_raw_materials }
                set_variable = { global.building_roboticized_input_amount_2@token:building_railway = 16.0 }

                set_variable = { global.building_roboticized_input_resource_3@token:building_railway = token:resource_energy_materials }
                set_variable = { global.building_roboticized_input_amount_3@token:building_railway = 10.0 }

                set_variable = { global.building_roboticized_input_resource_4@token:building_railway = token:resource_electricity }
                set_variable = { global.building_roboticized_input_amount_4@token:building_railway = 5.0 }

                set_variable = { global.building_roboticized_peasants_employment@token:building_railway = 0.0 } #1x
                set_variable = { global.building_roboticized_laborers_employment@token:building_railway = 0.0 } #2x
                set_variable = { global.building_roboticized_workers_employment@token:building_railway = 0.72 } #5x
                set_variable = { global.building_roboticized_professionals_employment@token:building_railway = 0.5 } #10x
                set_variable = { global.building_roboticized_specialists_employment@token:building_railway = 0.0 } #20x
                set_variable = { global.building_roboticized_aristocrats_employment@token:building_railway = 0.0 } #30x
                set_variable = { global.building_roboticized_capitalists_employment@token:building_railway = 0.03 } #50x
            #
            #Computerized
                set_variable = { global.building_computerized_tech_unlock@token:building_railway = token:centralized_traffic_controls }

                #Productivity: $16.5 /K
                set_variable = { global.building_computerized_output_1@token:building_railway = 7 }
                set_variable = { global.building_computerized_output_industrial_capacity@token:building_railway = 20.0 }
                set_variable = { global.building_computerized_output_shipping_capacity@token:building_railway = 48.0 }

                set_variable = { global.building_computerized_construction_amount@token:building_railway = 324 }
                set_variable = { global.building_computerized_construction_speed@token:building_railway = 9 }

                set_variable = { global.building_computerized_upgrade_amount@token:building_railway = 60 }
                set_variable = { global.building_computerized_upgrade_speed@token:building_railway = 10 }

                set_variable = { global.building_computerized_input_resource_1@token:building_railway = token:resource_industrial_goods }
                set_variable = { global.building_computerized_input_amount_1@token:building_railway = 12.0 }

                set_variable = { global.building_computerized_input_resource_2@token:building_railway = token:resource_raw_materials }
                set_variable = { global.building_computerized_input_amount_2@token:building_railway = 22.0 }

                set_variable = { global.building_computerized_input_resource_3@token:building_railway = token:resource_energy_materials }
                set_variable = { global.building_computerized_input_amount_3@token:building_railway = 12.0 }

                set_variable = { global.building_computerized_input_resource_4@token:building_railway = token:resource_electricity }
                set_variable = { global.building_computerized_input_amount_4@token:building_railway = 11.0 }

                set_variable = { global.building_computerized_peasants_employment@token:building_railway = 0.0 } #1x
                set_variable = { global.building_computerized_laborers_employment@token:building_railway = 0.0 } #2x
                set_variable = { global.building_computerized_workers_employment@token:building_railway = 0.22 } #5x
                set_variable = { global.building_computerized_professionals_employment@token:building_railway = 0.5 } #10x
                set_variable = { global.building_computerized_specialists_employment@token:building_railway = 0.25 } #20x
                set_variable = { global.building_computerized_aristocrats_employment@token:building_railway = 0.0 } #30x
                set_variable = { global.building_computerized_capitalists_employment@token:building_railway = 0.03 } #50x
            #
            #Digitalized
                set_variable = { global.building_digitalized_tech_unlock@token:building_railway = token:mass_transportation_networks }

                #Productivity: $17.0 /K
                set_variable = { global.building_digitalized_output_1@token:building_railway = 12 }
                set_variable = { global.building_digitalized_output_industrial_capacity@token:building_railway = 25.0 }
                set_variable = { global.building_digitalized_output_shipping_capacity@token:building_railway = 52.0 }

                set_variable = { global.building_digitalized_construction_amount@token:building_railway = 504 }
                set_variable = { global.building_digitalized_construction_speed@token:building_railway = 14 }

                set_variable = { global.building_digitalized_upgrade_amount@token:building_railway = 90 }
                set_variable = { global.building_digitalized_upgrade_speed@token:building_railway = 15 }

                set_variable = { global.building_digitalized_input_resource_1@token:building_railway = token:resource_industrial_goods }
                set_variable = { global.building_digitalized_input_amount_1@token:building_railway = 20.0 }

                set_variable = { global.building_digitalized_input_resource_2@token:building_railway = token:resource_raw_materials }
                set_variable = { global.building_digitalized_input_amount_2@token:building_railway = 30.0 }

                set_variable = { global.building_digitalized_input_resource_3@token:building_railway = token:resource_energy_materials }
                set_variable = { global.building_digitalized_input_amount_3@token:building_railway = 15.0 }

                set_variable = { global.building_digitalized_input_resource_4@token:building_railway = token:resource_electricity }
                set_variable = { global.building_digitalized_input_amount_4@token:building_railway = 17.0 }

                set_variable = { global.building_digitalized_peasants_employment@token:building_railway = 0.0 } #1x
                set_variable = { global.building_digitalized_laborers_employment@token:building_railway = 0.0 } #2x
                set_variable = { global.building_digitalized_workers_employment@token:building_railway = 0.0 } #5x
                set_variable = { global.building_digitalized_professionals_employment@token:building_railway = 0.72 } #10x
                set_variable = { global.building_digitalized_specialists_employment@token:building_railway = 0.25 } #20x
                set_variable = { global.building_digitalized_aristocrats_employment@token:building_railway = 0.0 } #30x
                set_variable = { global.building_digitalized_capitalists_employment@token:building_railway = 0.03 } #50x
            #
            #Automatized
                set_variable = { global.building_automatized_tech_unlock@token:building_railway = token:early_automated_transportation }

                #Productivity: $20.0 /K
                set_variable = { global.building_automatized_output_1@token:building_railway = 15 }
                set_variable = { global.building_automatized_output_industrial_capacity@token:building_railway = 30.0 }
                set_variable = { global.building_automatized_output_shipping_capacity@token:building_railway = 55.0 }

                set_variable = { global.building_automatized_construction_amount@token:building_railway = 684 }
                set_variable = { global.building_automatized_construction_speed@token:building_railway = 19 }

                set_variable = { global.building_automatized_upgrade_amount@token:building_railway = 120 }
                set_variable = { global.building_automatized_upgrade_speed@token:building_railway = 20 }

                set_variable = { global.building_automatized_input_resource_1@token:building_railway = token:resource_industrial_goods }
                set_variable = { global.building_automatized_input_amount_1@token:building_railway = 30.0 }

                set_variable = { global.building_automatized_input_resource_2@token:building_railway = token:resource_raw_materials }
                set_variable = { global.building_automatized_input_amount_2@token:building_railway = 40.0 }

                set_variable = { global.building_automatized_input_resource_3@token:building_railway = token:resource_energy_materials }
                set_variable = { global.building_automatized_input_amount_3@token:building_railway = 10.0 }

                set_variable = { global.building_automatized_input_resource_4@token:building_railway = token:resource_electricity }
                set_variable = { global.building_automatized_input_amount_4@token:building_railway = 30.0 }

                set_variable = { global.building_automatized_peasants_employment@token:building_railway = 0.0 } #1x
                set_variable = { global.building_automatized_laborers_employment@token:building_railway = 0.0 } #2x
                set_variable = { global.building_automatized_workers_employment@token:building_railway = 0.0 } #5x
                set_variable = { global.building_automatized_professionals_employment@token:building_railway = 0.22 } #10x
                set_variable = { global.building_automatized_specialists_employment@token:building_railway = 0.5 } #20x
                set_variable = { global.building_automatized_aristocrats_employment@token:building_railway = 0.0 } #30x
                set_variable = { global.building_automatized_capitalists_employment@token:building_railway = 0.03 } #50x
            #
            #Futurized
                set_variable = { global.building_futurized_tech_unlock@token:building_railway = token:fully_automated_transportation }

                #Productivity: $27.0 /K
                set_variable = { global.building_futurized_output_1@token:building_railway = 10 }
                set_variable = { global.building_futurized_output_industrial_capacity@token:building_railway = 30.0 }
                set_variable = { global.building_futurized_output_shipping_capacity@token:building_railway = 60.0 }

                set_variable = { global.building_futurized_construction_amount@token:building_railway = 720 }
                set_variable = { global.building_futurized_construction_speed@token:building_railway = 20 }

                set_variable = { global.building_futurized_input_resource_1@token:building_railway = token:resource_industrial_goods }
                set_variable = { global.building_futurized_input_amount_1@token:building_railway = 30.0 }

                set_variable = { global.building_futurized_input_resource_2@token:building_railway = token:resource_raw_materials }
                set_variable = { global.building_futurized_input_amount_2@token:building_railway = 30.0 }

                set_variable = { global.building_futurized_input_resource_3@token:building_railway = token:resource_electricity }
                set_variable = { global.building_futurized_input_amount_3@token:building_railway = 30.0 }

                set_variable = { global.building_futurized_peasants_employment@token:building_railway = 0.0 } #1x
                set_variable = { global.building_futurized_laborers_employment@token:building_railway = 0.0 } #2x
                set_variable = { global.building_futurized_workers_employment@token:building_railway = 0.0 } #5x
                set_variable = { global.building_futurized_professionals_employment@token:building_railway = 0.22 } #10x
                set_variable = { global.building_futurized_specialists_employment@token:building_railway = 0.5 } #20x
                set_variable = { global.building_futurized_aristocrats_employment@token:building_railway = 0.0 } #30x
                set_variable = { global.building_futurized_capitalists_employment@token:building_railway = 0.03 } #50x
            #
        }
        #Urban
        define_port = {
            set_variable = { global.building_output_resource_1@token:building_port = token:resource_services }
            set_variable = { global.building_coastal@token:building_port = 1 }

            #Basic
                set_variable = { global.building_basic_tech_unlock@token:building_port = 1 }

                set_variable = { global.building_basic_construction_amount@token:building_port = 18 }
                set_variable = { global.building_basic_construction_speed@token:building_port = 0.5 }

                set_variable = { global.building_basic_upgrade_amount@token:building_port = 6 }
                set_variable = { global.building_basic_upgrade_speed@token:building_port = 1 }

                #Productivity: $1.2 /K
                set_variable = { global.building_basic_output_1@token:building_port = 4.0 }
                set_variable = { global.building_basic_output_shipping_capacity@token:building_port = 50 }

                set_variable = { global.building_basic_input_resource_1@token:building_port = token:resource_industrial_goods }
                set_variable = { global.building_basic_input_amount_1@token:building_port = 1.0 }

                set_variable = { global.building_basic_peasants_employment@token:building_port = 0.0 } #1x
                set_variable = { global.building_basic_laborers_employment@token:building_port = 2.47 } #2x
                set_variable = { global.building_basic_workers_employment@token:building_port = 0 } #5x
                set_variable = { global.building_basic_professionals_employment@token:building_port = 0 } #10x
                set_variable = { global.building_basic_specialists_employment@token:building_port = 0 } #20x
                set_variable = { global.building_basic_aristocrats_employment@token:building_port = 0.03 } #30x
                set_variable = { global.building_basic_capitalists_employment@token:building_port = 0.0 } #50x
            #
            #Advanced
                set_variable = { global.building_advanced_tech_unlock@token:building_port = token:mass_transit_early }

                #Productivity: $1.8 /K
                set_variable = { global.building_advanced_output_1@token:building_port = 7.0 }
                set_variable = { global.building_advanced_output_shipping_capacity@token:building_port = 60 }

                set_variable = { global.building_advanced_construction_amount@token:building_port = 36 }
                set_variable = { global.building_advanced_construction_speed@token:building_port = 1 }

                set_variable = { global.building_advanced_upgrade_amount@token:building_port = 9 }
                set_variable = { global.building_advanced_upgrade_speed@token:building_port = 1.5 }

                set_variable = { global.building_advanced_input_resource_1@token:building_port = token:resource_industrial_goods }
                set_variable = { global.building_advanced_input_amount_1@token:building_port = 2.5 }

                set_variable = { global.building_advanced_peasants_employment@token:building_port = 0.0 } #1x
                set_variable = { global.building_advanced_laborers_employment@token:building_port = 2.24 } #2x
                set_variable = { global.building_advanced_workers_employment@token:building_port = 0.25 } #5x
                set_variable = { global.building_advanced_professionals_employment@token:building_port = 0 } #10x
                set_variable = { global.building_advanced_specialists_employment@token:building_port = 0 } #20x
                set_variable = { global.building_advanced_aristocrats_employment@token:building_port = 0.03 } #30x
                set_variable = { global.building_advanced_capitalists_employment@token:building_port = 0.0 } #50x
            #
            #Industrialized
                set_variable = { global.building_industrialized_tech_unlock@token:building_port = token:tech_humanities_roadworks }

                #Productivity: $2.44 /K
                set_variable = { global.building_industrialized_output_1@token:building_port = 10.5 }
                set_variable = { global.building_industrialized_output_shipping_capacity@token:building_port = 70 }

                set_variable = { global.building_industrialized_construction_amount@token:building_port = 72 }
                set_variable = { global.building_industrialized_construction_speed@token:building_port = 2 }

                set_variable = { global.building_industrialized_upgrade_amount@token:building_port = 12 }
                set_variable = { global.building_industrialized_upgrade_speed@token:building_port = 2 }

                set_variable = { global.building_industrialized_input_resource_1@token:building_port = token:resource_industrial_goods }
                set_variable = { global.building_industrialized_input_amount_1@token:building_port = 4.5 }

                set_variable = { global.building_industrialized_input_resource_2@token:building_port = token:resource_energy_materials }
                set_variable = { global.building_industrialized_input_amount_2@token:building_port = 2.0 }

                set_variable = { global.building_industrialized_peasants_employment@token:building_port = 0.0 } #1x
                set_variable = { global.building_industrialized_laborers_employment@token:building_port = 1.72 } #2x
                set_variable = { global.building_industrialized_workers_employment@token:building_port = 0.5 } #5x
                set_variable = { global.building_industrialized_professionals_employment@token:building_port = 0 } #10x
                set_variable = { global.building_industrialized_specialists_employment@token:building_port = 0 } #20x
                set_variable = { global.building_industrialized_aristocrats_employment@token:building_port = 0.03 } #30x
                set_variable = { global.building_industrialized_capitalists_employment@token:building_port = 0.0 } #50x
            #
            #Mechanized
                set_variable = { global.building_mechanized_tech_unlock@token:building_port = token:tech_humanities_asphalt_roads }

                #Productivity: $3.25 /K
                set_variable = { global.building_mechanized_output_1@token:building_port = 12.5 }
                set_variable = { global.building_mechanized_output_shipping_capacity@token:building_port = 80 }

                set_variable = { global.building_mechanized_construction_amount@token:building_port = 90 }
                set_variable = { global.building_mechanized_construction_speed@token:building_port = 2.5 }

                set_variable = { global.building_mechanized_upgrade_amount@token:building_port = 15 }
                set_variable = { global.building_mechanized_upgrade_speed@token:building_port = 2.5 }

                set_variable = { global.building_mechanized_input_resource_1@token:building_port = token:resource_industrial_goods }
                set_variable = { global.building_mechanized_input_amount_1@token:building_port = 5.5 }

                set_variable = { global.building_mechanized_input_resource_2@token:building_port = token:resource_energy_materials }
                set_variable = { global.building_mechanized_input_amount_2@token:building_port = 3.0 }

                set_variable = { global.building_mechanized_peasants_employment@token:building_port = 0.0 } #1x
                set_variable = { global.building_mechanized_laborers_employment@token:building_port = 1.22 } #2x
                set_variable = { global.building_mechanized_workers_employment@token:building_port = 0.75 } #5x
                set_variable = { global.building_mechanized_professionals_employment@token:building_port = 0 } #10x
                set_variable = { global.building_mechanized_specialists_employment@token:building_port = 0 } #20x
                set_variable = { global.building_mechanized_aristocrats_employment@token:building_port = 0.02 } #30x
                set_variable = { global.building_mechanized_capitalists_employment@token:building_port = 0.01 } #50x
            #
            #Electrified
                set_variable = { global.building_electrified_tech_unlock@token:building_port = token:tarmac_roads }

                #Productivity: $4.3 /K
                set_variable = { global.building_electrified_output_1@token:building_port = 16 }
                set_variable = { global.building_electrified_output_shipping_capacity@token:building_port = 100 }

                set_variable = { global.building_electrified_construction_amount@token:building_port = 126 }
                set_variable = { global.building_electrified_construction_speed@token:building_port = 3.5 }

                set_variable = { global.building_electrified_upgrade_amount@token:building_port = 18 }
                set_variable = { global.building_electrified_upgrade_speed@token:building_port = 3 }

                set_variable = { global.building_electrified_input_resource_1@token:building_port = token:resource_industrial_goods }
                set_variable = { global.building_electrified_input_amount_1@token:building_port = 8.5 }

                set_variable = { global.building_electrified_input_resource_2@token:building_port = token:resource_electricity }
                set_variable = { global.building_electrified_input_amount_2@token:building_port = 4.0 }

                set_variable = { global.building_electrified_peasants_employment@token:building_port = 0.0 } #1x
                set_variable = { global.building_electrified_laborers_employment@token:building_port = 0.72 } #2x
                set_variable = { global.building_electrified_workers_employment@token:building_port = 1.0 } #5x
                set_variable = { global.building_electrified_professionals_employment@token:building_port = 0.0 } #10x
                set_variable = { global.building_electrified_specialists_employment@token:building_port = 0 } #20x
                set_variable = { global.building_electrified_aristocrats_employment@token:building_port = 0.01 } #30x
                set_variable = { global.building_electrified_capitalists_employment@token:building_port = 0.02 } #50x
            #
            #Motorized
                set_variable = { global.building_motorized_tech_unlock@token:building_port = token:mass_highspeed_highways }

                #Productivity: $6.3 /K
                set_variable = { global.building_motorized_output_1@token:building_port = 17 }
                set_variable = { global.building_motorized_output_shipping_capacity@token:building_port = 125 }

                set_variable = { global.building_motorized_construction_amount@token:building_port = 180 }
                set_variable = { global.building_motorized_construction_speed@token:building_port = 5 }

                set_variable = { global.building_motorized_upgrade_amount@token:building_port = 24 }
                set_variable = { global.building_motorized_upgrade_speed@token:building_port = 4 }

                set_variable = { global.building_motorized_input_resource_1@token:building_port = token:resource_industrial_goods }
                set_variable = { global.building_motorized_input_amount_1@token:building_port = 11.0 }

                set_variable = { global.building_motorized_input_resource_2@token:building_port = token:resource_electricity }
                set_variable = { global.building_motorized_input_amount_2@token:building_port = 6.0 }

                set_variable = { global.building_motorized_peasants_employment@token:building_port = 0.0 } #1x
                set_variable = { global.building_motorized_laborers_employment@token:building_port = 0.22 } #2x
                set_variable = { global.building_motorized_workers_employment@token:building_port = 1.25 } #5x
                set_variable = { global.building_motorized_professionals_employment@token:building_port = 0.25 } #10x
                set_variable = { global.building_motorized_specialists_employment@token:building_port = 0 } #20x
                set_variable = { global.building_motorized_aristocrats_employment@token:building_port = 0.0 } #30x
                set_variable = { global.building_motorized_capitalists_employment@token:building_port = 0.03 } #50x
            #
            #Modernized
                set_variable = { global.building_modernized_tech_unlock@token:building_port = token:modern_roundabouts }

                #Productivity: $8.3 /K
                set_variable = { global.building_modernized_output_1@token:building_port = 20 }
                set_variable = { global.building_modernized_output_shipping_capacity@token:building_port = 150 }

                set_variable = { global.building_modernized_construction_amount@token:building_port = 198 }
                set_variable = { global.building_modernized_construction_speed@token:building_port = 5.5 }

                set_variable = { global.building_modernized_upgrade_amount@token:building_port = 36 }
                set_variable = { global.building_modernized_upgrade_speed@token:building_port = 6 }

                set_variable = { global.building_modernized_input_resource_1@token:building_port = token:resource_industrial_goods }
                set_variable = { global.building_modernized_input_amount_1@token:building_port = 13.0 }

                set_variable = { global.building_modernized_input_resource_2@token:building_port = token:resource_electricity }
                set_variable = { global.building_modernized_input_amount_2@token:building_port = 9.0 }

                set_variable = { global.building_modernized_peasants_employment@token:building_port = 0.0 } #1x
                set_variable = { global.building_modernized_laborers_employment@token:building_port = 0.0 } #2x
                set_variable = { global.building_modernized_workers_employment@token:building_port = 0.97 } #5x
                set_variable = { global.building_modernized_professionals_employment@token:building_port = 0.5 } #10x
                set_variable = { global.building_modernized_specialists_employment@token:building_port = 0 } #20x
                set_variable = { global.building_modernized_aristocrats_employment@token:building_port = 0.0 } #30x
                set_variable = { global.building_modernized_capitalists_employment@token:building_port = 0.03 } #50x
            #
            #Roboticized
                set_variable = { global.building_roboticized_tech_unlock@token:building_port = token:combined_transportation_networks }

                #Productivity: $11.2 /K
                set_variable = { global.building_roboticized_output_1@token:building_port = 22.5 }
                set_variable = { global.building_roboticized_output_shipping_capacity@token:building_port = 175 }

                set_variable = { global.building_roboticized_construction_amount@token:building_port = 252 }
                set_variable = { global.building_roboticized_construction_speed@token:building_port = 7 }

                set_variable = { global.building_roboticized_upgrade_amount@token:building_port = 48 }
                set_variable = { global.building_roboticized_upgrade_speed@token:building_port = 8 }

                set_variable = { global.building_roboticized_input_resource_1@token:building_port = token:resource_industrial_goods }
                set_variable = { global.building_roboticized_input_amount_1@token:building_port = 15.0 }

                set_variable = { global.building_roboticized_input_resource_2@token:building_port = token:resource_electricity }
                set_variable = { global.building_roboticized_input_amount_2@token:building_port = 12.0 }

                set_variable = { global.building_roboticized_peasants_employment@token:building_port = 0.0 } #1x
                set_variable = { global.building_roboticized_laborers_employment@token:building_port = 0.0 } #2x
                set_variable = { global.building_roboticized_workers_employment@token:building_port = 0.72 } #5x
                set_variable = { global.building_roboticized_professionals_employment@token:building_port = 0.5 } #10x
                set_variable = { global.building_roboticized_specialists_employment@token:building_port = 0.0 } #20x
                set_variable = { global.building_roboticized_aristocrats_employment@token:building_port = 0.0 } #30x
                set_variable = { global.building_roboticized_capitalists_employment@token:building_port = 0.03 } #50x
            #
            #Computerized
                set_variable = { global.building_computerized_tech_unlock@token:building_port = token:centralized_traffic_controls }

                #Productivity: $13.0 /K
                set_variable = { global.building_computerized_output_1@token:building_port = 27 }
                set_variable = { global.building_computerized_output_shipping_capacity@token:building_port = 200 }

                set_variable = { global.building_computerized_construction_amount@token:building_port = 324 }
                set_variable = { global.building_computerized_construction_speed@token:building_port = 9 }

                set_variable = { global.building_computerized_upgrade_amount@token:building_port = 60 }
                set_variable = { global.building_computerized_upgrade_speed@token:building_port = 10 }

                set_variable = { global.building_computerized_input_resource_1@token:building_port = token:resource_industrial_goods }
                set_variable = { global.building_computerized_input_amount_1@token:building_port = 20.0 }

                set_variable = { global.building_computerized_input_resource_2@token:building_port = token:resource_electricity }
                set_variable = { global.building_computerized_input_amount_2@token:building_port = 21.0 }

                set_variable = { global.building_computerized_peasants_employment@token:building_port = 0.0 } #1x
                set_variable = { global.building_computerized_laborers_employment@token:building_port = 0.0 } #2x
                set_variable = { global.building_computerized_workers_employment@token:building_port = 0.22 } #5x
                set_variable = { global.building_computerized_professionals_employment@token:building_port = 0.5 } #10x
                set_variable = { global.building_computerized_specialists_employment@token:building_port = 0.25 } #20x
                set_variable = { global.building_computerized_aristocrats_employment@token:building_port = 0.0 } #30x
                set_variable = { global.building_computerized_capitalists_employment@token:building_port = 0.03 } #50x
            #
            #Digitalized
                set_variable = { global.building_digitalized_tech_unlock@token:building_port = token:mass_transportation_networks }

                #Productivity: $16.5 /K
                set_variable = { global.building_digitalized_output_1@token:building_port = 38 }
                set_variable = { global.building_digitalized_output_shipping_capacity@token:building_port = 250 }

                set_variable = { global.building_digitalized_construction_amount@token:building_port = 504 }
                set_variable = { global.building_digitalized_construction_speed@token:building_port = 14 }

                set_variable = { global.building_digitalized_upgrade_amount@token:building_port = 90 }
                set_variable = { global.building_digitalized_upgrade_speed@token:building_port = 15 }

                set_variable = { global.building_digitalized_input_resource_1@token:building_port = token:resource_industrial_goods }
                set_variable = { global.building_digitalized_input_amount_1@token:building_port = 30 }

                set_variable = { global.building_digitalized_input_resource_2@token:building_port = token:resource_electricity }
                set_variable = { global.building_digitalized_input_amount_2@token:building_port = 32.0 }

                set_variable = { global.building_digitalized_peasants_employment@token:building_port = 0.0 } #1x
                set_variable = { global.building_digitalized_laborers_employment@token:building_port = 0.0 } #2x
                set_variable = { global.building_digitalized_workers_employment@token:building_port = 0.0 } #5x
                set_variable = { global.building_digitalized_professionals_employment@token:building_port = 0.72 } #10x
                set_variable = { global.building_digitalized_specialists_employment@token:building_port = 0.25 } #20x
                set_variable = { global.building_digitalized_aristocrats_employment@token:building_port = 0.0 } #30x
                set_variable = { global.building_digitalized_capitalists_employment@token:building_port = 0.03 } #50x
            #
            #Automatized
                set_variable = { global.building_automatized_tech_unlock@token:building_port = token:early_automated_transportation }

                #Productivity: $20.0 /K
                set_variable = { global.building_automatized_output_1@token:building_port = 45 }
                set_variable = { global.building_automatized_output_shipping_capacity@token:building_port = 300 }

                set_variable = { global.building_automatized_construction_amount@token:building_port = 684 }
                set_variable = { global.building_automatized_construction_speed@token:building_port = 19 }

                set_variable = { global.building_automatized_upgrade_amount@token:building_port = 120 }
                set_variable = { global.building_automatized_upgrade_speed@token:building_port = 20 }

                set_variable = { global.building_automatized_input_resource_1@token:building_port = token:resource_industrial_goods }
                set_variable = { global.building_automatized_input_amount_1@token:building_port = 40.0 }

                set_variable = { global.building_automatized_input_resource_2@token:building_port = token:resource_electricity }
                set_variable = { global.building_automatized_input_amount_2@token:building_port = 50.0 }

                set_variable = { global.building_automatized_peasants_employment@token:building_port = 0.0 } #1x
                set_variable = { global.building_automatized_laborers_employment@token:building_port = 0.0 } #2x
                set_variable = { global.building_automatized_workers_employment@token:building_port = 0.0 } #5x
                set_variable = { global.building_automatized_professionals_employment@token:building_port = 0.22 } #10x
                set_variable = { global.building_automatized_specialists_employment@token:building_port = 0.5 } #20x
                set_variable = { global.building_automatized_aristocrats_employment@token:building_port = 0.0 } #30x
                set_variable = { global.building_automatized_capitalists_employment@token:building_port = 0.03 } #50x
            #
            #Futurized
                set_variable = { global.building_futurized_tech_unlock@token:building_port = token:fully_automated_transportation }

                #Productivity: $27.0 /K
                set_variable = { global.building_futurized_output_1@token:building_port = 40 }
                set_variable = { global.building_futurized_output_shipping_capacity@token:building_port = 400 }

                set_variable = { global.building_futurized_construction_amount@token:building_port = 720 }
                set_variable = { global.building_futurized_construction_speed@token:building_port = 20 }

                set_variable = { global.building_futurized_input_resource_1@token:building_port = token:resource_industrial_goods }
                set_variable = { global.building_futurized_input_amount_1@token:building_port = 35.0 }

                set_variable = { global.building_futurized_input_resource_2@token:building_port = token:resource_electricity }
                set_variable = { global.building_futurized_input_amount_2@token:building_port = 46.0 }

                set_variable = { global.building_futurized_peasants_employment@token:building_port = 0.0 } #1x
                set_variable = { global.building_futurized_laborers_employment@token:building_port = 0.0 } #2x
                set_variable = { global.building_futurized_workers_employment@token:building_port = 0.0 } #5x
                set_variable = { global.building_futurized_professionals_employment@token:building_port = 0.0 } #10x
                set_variable = { global.building_futurized_specialists_employment@token:building_port = 0.47 } #20x
                set_variable = { global.building_futurized_aristocrats_employment@token:building_port = 0.0 } #30x
                set_variable = { global.building_futurized_capitalists_employment@token:building_port = 0.03 } #50x
            #
        }
        define_airport = {
            set_variable = { global.building_output_resource_1@token:building_airport = token:resource_services }

            #Motorized
                set_variable = { global.building_motorized_tech_unlock@token:building_airport = token:full_metal_construcion }

                #Productivity: $7.1 /K
                set_variable = { global.building_motorized_output_1@token:building_airport = 17 }
                set_variable = { global.building_motorized_output_shipping_capacity@token:building_airport = 1.0 }

                set_variable = { global.building_motorized_construction_amount@token:building_airport = 96 }
                set_variable = { global.building_motorized_construction_speed@token:building_airport = 8 }

                set_variable = { global.building_motorized_upgrade_amount@token:building_airport = 96 }
                set_variable = { global.building_motorized_upgrade_speed@token:building_airport = 8 }

                set_variable = { global.building_motorized_input_resource_1@token:building_airport = token:resource_luxury_goods }
                set_variable = { global.building_motorized_input_amount_1@token:building_airport = 4 }

                set_variable = { global.building_motorized_input_resource_2@token:building_airport = token:resource_raw_materials }
                set_variable = { global.building_motorized_input_amount_2@token:building_airport = 10.0 }

                set_variable = { global.building_motorized_input_resource_3@token:building_airport = token:resource_energy_materials }
                set_variable = { global.building_motorized_input_amount_3@token:building_airport = 13.0 }

                set_variable = { global.building_motorized_peasants_employment@token:building_airport = 0.0 } #1x
                set_variable = { global.building_motorized_laborers_employment@token:building_airport = 0.22 } #2x
                set_variable = { global.building_motorized_workers_employment@token:building_airport = 1.25 } #5x
                set_variable = { global.building_motorized_professionals_employment@token:building_airport = 0.25 } #10x
                set_variable = { global.building_motorized_specialists_employment@token:building_airport = 0 } #20x
                set_variable = { global.building_motorized_aristocrats_employment@token:building_airport = 0.0 } #30x
                set_variable = { global.building_motorized_capitalists_employment@token:building_airport = 0.03 } #50x
            #
            #Modernized
                set_variable = { global.building_modernized_tech_unlock@token:building_airport = token:jet_aircraft_prototypes }

                #Productivity: $11.1 /K
                set_variable = { global.building_modernized_output_1@token:building_airport = 20 }
                set_variable = { global.building_modernized_output_shipping_capacity@token:building_airport = 2.0 }

                set_variable = { global.building_modernized_construction_amount@token:building_airport = 198 }
                set_variable = { global.building_modernized_construction_speed@token:building_airport = 5.5 }

                set_variable = { global.building_modernized_upgrade_amount@token:building_airport = 36 }
                set_variable = { global.building_modernized_upgrade_speed@token:building_airport = 6 }

                set_variable = { global.building_modernized_input_resource_1@token:building_airport = token:resource_luxury_goods }
                set_variable = { global.building_modernized_input_amount_1@token:building_airport = 5.0 }

                set_variable = { global.building_modernized_input_resource_2@token:building_airport = token:resource_raw_materials }
                set_variable = { global.building_modernized_input_amount_2@token:building_airport = 11.0 }

                set_variable = { global.building_modernized_input_resource_3@token:building_airport = token:resource_energy_materials }
                set_variable = { global.building_modernized_input_amount_3@token:building_airport = 14.0 }

                set_variable = { global.building_modernized_input_resource_4@token:building_airport = token:resource_electricity }
                set_variable = { global.building_modernized_input_amount_4@token:building_airport = 2.5 }

                set_variable = { global.building_modernized_peasants_employment@token:building_airport = 0.0 } #1x
                set_variable = { global.building_modernized_laborers_employment@token:building_airport = 0.0 } #2x
                set_variable = { global.building_modernized_workers_employment@token:building_airport = 0.97 } #5x
                set_variable = { global.building_modernized_professionals_employment@token:building_airport = 0.5 } #10x
                set_variable = { global.building_modernized_specialists_employment@token:building_airport = 0 } #20x
                set_variable = { global.building_modernized_aristocrats_employment@token:building_airport = 0.0 } #30x
                set_variable = { global.building_modernized_capitalists_employment@token:building_airport = 0.03 } #50x
            #
            #Roboticized
                set_variable = { global.building_roboticized_tech_unlock@token:building_airport = token:high_bypass_jet_engines }

                #Productivity: $14.4 /K
                set_variable = { global.building_roboticized_output_1@token:building_airport = 22.5 }
                set_variable = { global.building_roboticized_output_shipping_capacity@token:building_airport = 3.0 }

                set_variable = { global.building_roboticized_construction_amount@token:building_airport = 252 }
                set_variable = { global.building_roboticized_construction_speed@token:building_airport = 7 }

                set_variable = { global.building_roboticized_upgrade_amount@token:building_airport = 48 }
                set_variable = { global.building_roboticized_upgrade_speed@token:building_airport = 8 }

                set_variable = { global.building_roboticized_input_resource_1@token:building_airport = token:resource_luxury_goods }
                set_variable = { global.building_roboticized_input_amount_1@token:building_airport = 6.0 }

                set_variable = { global.building_roboticized_input_resource_2@token:building_airport = token:resource_raw_materials }
                set_variable = { global.building_roboticized_input_amount_2@token:building_airport = 13.0 }

                set_variable = { global.building_roboticized_input_resource_3@token:building_airport = token:resource_energy_materials }
                set_variable = { global.building_roboticized_input_amount_3@token:building_airport = 16.0 }

                set_variable = { global.building_roboticized_input_resource_4@token:building_airport = token:resource_electricity }
                set_variable = { global.building_roboticized_input_amount_4@token:building_airport = 5.0 }

                set_variable = { global.building_roboticized_peasants_employment@token:building_airport = 0.0 } #1x
                set_variable = { global.building_roboticized_laborers_employment@token:building_airport = 0.0 } #2x
                set_variable = { global.building_roboticized_workers_employment@token:building_airport = 0.72 } #5x
                set_variable = { global.building_roboticized_professionals_employment@token:building_airport = 0.5 } #10x
                set_variable = { global.building_roboticized_specialists_employment@token:building_airport = 0.0 } #20x
                set_variable = { global.building_roboticized_aristocrats_employment@token:building_airport = 0.0 } #30x
                set_variable = { global.building_roboticized_capitalists_employment@token:building_airport = 0.03 } #50x
            #
            #Computerized
                set_variable = { global.building_computerized_tech_unlock@token:building_airport = token:autopilot_integration }

                #Productivity: $16.5 /K
                set_variable = { global.building_computerized_output_1@token:building_airport = 27 }
                set_variable = { global.building_computerized_output_shipping_capacity@token:building_airport = 4.0 }

                set_variable = { global.building_computerized_construction_amount@token:building_airport = 324 }
                set_variable = { global.building_computerized_construction_speed@token:building_airport = 9 }

                set_variable = { global.building_computerized_upgrade_amount@token:building_airport = 60 }
                set_variable = { global.building_computerized_upgrade_speed@token:building_airport = 10 }

                set_variable = { global.building_computerized_input_resource_1@token:building_airport = token:resource_luxury_goods }
                set_variable = { global.building_computerized_input_amount_1@token:building_airport = 8.0 }

                set_variable = { global.building_computerized_input_resource_2@token:building_airport = token:resource_raw_materials }
                set_variable = { global.building_computerized_input_amount_2@token:building_airport = 14.0 }

                set_variable = { global.building_computerized_input_resource_3@token:building_airport = token:resource_energy_materials }
                set_variable = { global.building_computerized_input_amount_3@token:building_airport = 22.0 }

                set_variable = { global.building_computerized_input_resource_4@token:building_airport = token:resource_electricity }
                set_variable = { global.building_computerized_input_amount_4@token:building_airport = 12.0 }

                set_variable = { global.building_computerized_peasants_employment@token:building_airport = 0.0 } #1x
                set_variable = { global.building_computerized_laborers_employment@token:building_airport = 0.0 } #2x
                set_variable = { global.building_computerized_workers_employment@token:building_airport = 0.22 } #5x
                set_variable = { global.building_computerized_professionals_employment@token:building_airport = 0.5 } #10x
                set_variable = { global.building_computerized_specialists_employment@token:building_airport = 0.25 } #20x
                set_variable = { global.building_computerized_aristocrats_employment@token:building_airport = 0.0 } #30x
                set_variable = { global.building_computerized_capitalists_employment@token:building_airport = 0.03 } #50x
            #
            #Digitalized
                set_variable = { global.building_digitalized_tech_unlock@token:building_airport = token:smart_skin_fuselage }

                #Productivity: $17.0 /K
                set_variable = { global.building_digitalized_output_1@token:building_airport = 38 }
                set_variable = { global.building_digitalized_output_shipping_capacity@token:building_airport = 5.0 }

                set_variable = { global.building_digitalized_construction_amount@token:building_airport = 504 }
                set_variable = { global.building_digitalized_construction_speed@token:building_airport = 14 }

                set_variable = { global.building_digitalized_upgrade_amount@token:building_airport = 90 }
                set_variable = { global.building_digitalized_upgrade_speed@token:building_airport = 15 }

                set_variable = { global.building_digitalized_input_resource_1@token:building_airport = token:resource_luxury_goods }
                set_variable = { global.building_digitalized_input_amount_1@token:building_airport = 14.0 }

                set_variable = { global.building_digitalized_input_resource_2@token:building_airport = token:resource_raw_materials }
                set_variable = { global.building_digitalized_input_amount_2@token:building_airport = 20.0 }

                set_variable = { global.building_digitalized_input_resource_3@token:building_airport = token:resource_energy_materials }
                set_variable = { global.building_digitalized_input_amount_3@token:building_airport = 26.0 }

                set_variable = { global.building_digitalized_input_resource_4@token:building_airport = token:resource_electricity }
                set_variable = { global.building_digitalized_input_amount_4@token:building_airport = 20.0 }

                set_variable = { global.building_digitalized_peasants_employment@token:building_airport = 0.0 } #1x
                set_variable = { global.building_digitalized_laborers_employment@token:building_airport = 0.0 } #2x
                set_variable = { global.building_digitalized_workers_employment@token:building_airport = 0.0 } #5x
                set_variable = { global.building_digitalized_professionals_employment@token:building_airport = 0.72 } #10x
                set_variable = { global.building_digitalized_specialists_employment@token:building_airport = 0.25 } #20x
                set_variable = { global.building_digitalized_aristocrats_employment@token:building_airport = 0.0 } #30x
                set_variable = { global.building_digitalized_capitalists_employment@token:building_airport = 0.03 } #50x
            #
            #Automatized
                set_variable = { global.building_automatized_tech_unlock@token:building_airport = token:air_to_space_engines }

                #Productivity: $20.0 /K
                set_variable = { global.building_automatized_output_1@token:building_airport = 45 }
                set_variable = { global.building_automatized_output_shipping_capacity@token:building_airport = 10.0 }

                set_variable = { global.building_automatized_construction_amount@token:building_airport = 684 }
                set_variable = { global.building_automatized_construction_speed@token:building_airport = 19 }

                set_variable = { global.building_automatized_upgrade_amount@token:building_airport = 120 }
                set_variable = { global.building_automatized_upgrade_speed@token:building_airport = 20 }

                set_variable = { global.building_automatized_input_resource_1@token:building_airport = token:resource_luxury_goods }
                set_variable = { global.building_automatized_input_amount_1@token:building_airport = 20.0 }

                set_variable = { global.building_automatized_input_resource_2@token:building_airport = token:resource_raw_materials }
                set_variable = { global.building_automatized_input_amount_2@token:building_airport = 25.0 }

                set_variable = { global.building_automatized_input_resource_3@token:building_airport = token:resource_energy_materials }
                set_variable = { global.building_automatized_input_amount_3@token:building_airport = 35.0 }

                set_variable = { global.building_automatized_input_resource_4@token:building_airport = token:resource_electricity }
                set_variable = { global.building_automatized_input_amount_4@token:building_airport = 30.0 }

                set_variable = { global.building_automatized_peasants_employment@token:building_airport = 0.0 } #1x
                set_variable = { global.building_automatized_laborers_employment@token:building_airport = 0.0 } #2x
                set_variable = { global.building_automatized_workers_employment@token:building_airport = 0.0 } #5x
                set_variable = { global.building_automatized_professionals_employment@token:building_airport = 0.22 } #10x
                set_variable = { global.building_automatized_specialists_employment@token:building_airport = 0.5 } #20x
                set_variable = { global.building_automatized_aristocrats_employment@token:building_airport = 0.0 } #30x
                set_variable = { global.building_automatized_capitalists_employment@token:building_airport = 0.03 } #50x
            #
            #Futurized
                set_variable = { global.building_futurized_tech_unlock@token:building_airport = token:plasma_phased_shields }

                #Productivity: $27.0 /K
                set_variable = { global.building_futurized_output_1@token:building_airport = 40 }
                set_variable = { global.building_futurized_output_shipping_capacity@token:building_airport = 20.0 }

                set_variable = { global.building_futurized_construction_amount@token:building_airport = 720 }
                set_variable = { global.building_futurized_construction_speed@token:building_airport = 20 }

                set_variable = { global.building_futurized_input_resource_1@token:building_airport = token:resource_luxury_goods }
                set_variable = { global.building_futurized_input_amount_1@token:building_airport = 20.0 }

                set_variable = { global.building_futurized_input_resource_2@token:building_airport = token:resource_raw_materials }
                set_variable = { global.building_futurized_input_amount_2@token:building_airport = 25.0 }

                set_variable = { global.building_futurized_input_resource_3@token:building_airport = token:resource_energy_materials }
                set_variable = { global.building_futurized_input_amount_3@token:building_airport = 15.0 }

                set_variable = { global.building_futurized_input_resource_4@token:building_airport = token:resource_electricity }
                set_variable = { global.building_futurized_input_amount_4@token:building_airport = 30.0 }

                set_variable = { global.building_futurized_peasants_employment@token:building_airport = 0.0 } #1x
                set_variable = { global.building_futurized_laborers_employment@token:building_airport = 0.0 } #2x
                set_variable = { global.building_futurized_workers_employment@token:building_airport = 0.0 } #5x
                set_variable = { global.building_futurized_professionals_employment@token:building_airport = 0.0 } #10x
                set_variable = { global.building_futurized_specialists_employment@token:building_airport = 0.47 } #20x
                set_variable = { global.building_futurized_aristocrats_employment@token:building_airport = 0.0 } #30x
                set_variable = { global.building_futurized_capitalists_employment@token:building_airport = 0.03 } #50x
            #
        }

    #

    #Urban Buildings
        define_military_industry = {
            set_variable = { global.building_output_resource_1@token:building_military_industry = token:resource_consumer_goods }
            set_variable = { global.building_output_resource_2@token:building_military_industry = token:resource_luxury_goods }

            set_variable = { global.building_industrial_capacity_use@token:building_military_industry = 2 }

            #Basic
                set_variable = { global.building_basic_tech_unlock@token:building_military_industry = 1 }

                set_variable = { global.building_basic_construction_amount@token:building_military_industry = 216 }
                set_variable = { global.building_basic_construction_speed@token:building_military_industry = 6 }

                set_variable = { global.building_basic_upgrade_amount@token:building_military_industry = 6 }
                set_variable = { global.building_basic_upgrade_speed@token:building_military_industry = 1 }

                #Productivity: $1.7 /K
                set_variable = { global.building_basic_output_1@token:building_military_industry = 20 }
                set_variable = { global.building_basic_output_2@token:building_military_industry = 4.25 }

                set_variable = { global.building_basic_input_resource_1@token:building_military_industry = token:resource_industrial_goods }
                set_variable = { global.building_basic_input_amount_1@token:building_military_industry = 1.0 }

                set_variable = { global.building_basic_input_resource_2@token:building_military_industry = token:resource_raw_materials }
                set_variable = { global.building_basic_input_amount_2@token:building_military_industry = 14.0 }

                set_variable = { global.building_basic_peasants_employment@token:building_military_industry = 0.0 } #1x
                set_variable = { global.building_basic_laborers_employment@token:building_military_industry = 9.9 } #2x
                set_variable = { global.building_basic_workers_employment@token:building_military_industry = 0.0 } #5x
                set_variable = { global.building_basic_professionals_employment@token:building_military_industry = 0 } #10x
                set_variable = { global.building_basic_specialists_employment@token:building_military_industry = 0 } #20x
                set_variable = { global.building_basic_aristocrats_employment@token:building_military_industry = 0.05 } #30x
                set_variable = { global.building_basic_capitalists_employment@token:building_military_industry = 0.05 } #50x
            #
            #Advanced
                set_variable = { global.building_advanced_tech_unlock@token:building_military_industry = token:manufactories }

                #Productivity: $2.2 /K
                set_variable = { global.building_advanced_output_1@token:building_military_industry = 28 }
                set_variable = { global.building_advanced_output_2@token:building_military_industry = 6 }

                set_variable = { global.building_advanced_construction_amount@token:building_military_industry = 360 }
                set_variable = { global.building_advanced_construction_speed@token:building_military_industry = 10 }

                set_variable = { global.building_advanced_upgrade_amount@token:building_military_industry = 9 }
                set_variable = { global.building_advanced_upgrade_speed@token:building_military_industry = 1.5 }

                set_variable = { global.building_advanced_input_resource_1@token:building_military_industry = token:resource_industrial_goods }
                set_variable = { global.building_advanced_input_amount_1@token:building_military_industry = 2.0 }

                set_variable = { global.building_advanced_input_resource_2@token:building_military_industry = token:resource_raw_materials }
                set_variable = { global.building_advanced_input_amount_2@token:building_military_industry = 29.0 }

                set_variable = { global.building_advanced_peasants_employment@token:building_military_industry = 0.0 } #1x
                set_variable = { global.building_advanced_laborers_employment@token:building_military_industry = 7.4 } #2x
                set_variable = { global.building_advanced_workers_employment@token:building_military_industry = 2.5 } #5x
                set_variable = { global.building_advanced_professionals_employment@token:building_military_industry = 0 } #10x
                set_variable = { global.building_advanced_specialists_employment@token:building_military_industry = 0 } #20x
                set_variable = { global.building_advanced_aristocrats_employment@token:building_military_industry = 0.05 } #30x
                set_variable = { global.building_advanced_capitalists_employment@token:building_military_industry = 0.05 } #50x
            #
            #Industrialized
                set_variable = { global.building_industrialized_tech_unlock@token:building_military_industry = token:corliss_steam_engine }

                #Productivity: $3.0 /K
                set_variable = { global.building_industrialized_output_1@token:building_military_industry = 46 }
                set_variable = { global.building_industrialized_output_2@token:building_military_industry = 10 }

                set_variable = { global.building_industrialized_construction_amount@token:building_military_industry = 648 }
                set_variable = { global.building_industrialized_construction_speed@token:building_military_industry = 18 }

                set_variable = { global.building_industrialized_upgrade_amount@token:building_military_industry = 12 }
                set_variable = { global.building_industrialized_upgrade_speed@token:building_military_industry = 2 }

                set_variable = { global.building_industrialized_input_resource_1@token:building_military_industry = token:resource_industrial_goods }
                set_variable = { global.building_industrialized_input_amount_1@token:building_military_industry = 6.0 }

                set_variable = { global.building_industrialized_input_resource_2@token:building_military_industry = token:resource_raw_materials }
                set_variable = { global.building_industrialized_input_amount_2@token:building_military_industry = 50.0 }

                set_variable = { global.building_industrialized_input_resource_3@token:building_military_industry = token:resource_energy_materials }
                set_variable = { global.building_industrialized_input_amount_3@token:building_military_industry = 9.0 }

                set_variable = { global.building_industrialized_peasants_employment@token:building_military_industry = 0.0 } #1x
                set_variable = { global.building_industrialized_laborers_employment@token:building_military_industry = 6.4 } #2x
                set_variable = { global.building_industrialized_workers_employment@token:building_military_industry = 2.5 } #5x
                set_variable = { global.building_industrialized_professionals_employment@token:building_military_industry = 0 } #10x
                set_variable = { global.building_industrialized_specialists_employment@token:building_military_industry = 0 } #20x
                set_variable = { global.building_industrialized_aristocrats_employment@token:building_military_industry = 0 } #30x
                set_variable = { global.building_industrialized_capitalists_employment@token:building_military_industry = 0.1 } #50x
            #
            #Mechanized
                set_variable = { global.building_mechanized_tech_unlock@token:building_military_industry = token:mechanical_production_2 }

                #Productivity: $4.0 /K
                set_variable = { global.building_mechanized_output_1@token:building_military_industry = 50 }
                set_variable = { global.building_mechanized_output_2@token:building_military_industry = 11 }

                set_variable = { global.building_mechanized_construction_amount@token:building_military_industry = 792 }
                set_variable = { global.building_mechanized_construction_speed@token:building_military_industry = 22 }

                set_variable = { global.building_mechanized_upgrade_amount@token:building_military_industry = 15 }
                set_variable = { global.building_mechanized_upgrade_speed@token:building_military_industry = 2.5 }

                set_variable = { global.building_mechanized_input_resource_1@token:building_military_industry = token:resource_industrial_goods }
                set_variable = { global.building_mechanized_input_amount_1@token:building_military_industry = 8.0 }

                set_variable = { global.building_mechanized_input_resource_2@token:building_military_industry = token:resource_raw_materials }
                set_variable = { global.building_mechanized_input_amount_2@token:building_military_industry = 52.0 }

                set_variable = { global.building_mechanized_input_resource_3@token:building_military_industry = token:resource_energy_materials }
                set_variable = { global.building_mechanized_input_amount_3@token:building_military_industry = 15.0 }

                set_variable = { global.building_mechanized_peasants_employment@token:building_military_industry = 0.0 } #1x
                set_variable = { global.building_mechanized_laborers_employment@token:building_military_industry = 3.9 } #2x
                set_variable = { global.building_mechanized_workers_employment@token:building_military_industry = 3.5 } #5x
                set_variable = { global.building_mechanized_professionals_employment@token:building_military_industry = 0 } #10x
                set_variable = { global.building_mechanized_specialists_employment@token:building_military_industry = 0 } #20x
                set_variable = { global.building_mechanized_aristocrats_employment@token:building_military_industry = 0.0 } #30x
                set_variable = { global.building_mechanized_capitalists_employment@token:building_military_industry = 0.1 } #50x
            #
            #Electrified
                set_variable = { global.building_electrified_tech_unlock@token:building_military_industry = token:better_incandescent_lightbulb }

                #Productivity: $5.5 /K
                set_variable = { global.building_electrified_output_1@token:building_military_industry = 59 }
                set_variable = { global.building_electrified_output_2@token:building_military_industry = 13 }

                set_variable = { global.building_electrified_construction_amount@token:building_military_industry = 1080 }
                set_variable = { global.building_electrified_construction_speed@token:building_military_industry = 30 }

                set_variable = { global.building_electrified_upgrade_amount@token:building_military_industry = 18 }
                set_variable = { global.building_electrified_upgrade_speed@token:building_military_industry = 3 }

                set_variable = { global.building_electrified_input_resource_1@token:building_military_industry = token:resource_industrial_goods }
                set_variable = { global.building_electrified_input_amount_1@token:building_military_industry = 12.0 }

                set_variable = { global.building_electrified_input_resource_2@token:building_military_industry = token:resource_raw_materials }
                set_variable = { global.building_electrified_input_amount_2@token:building_military_industry = 67.0 }

                set_variable = { global.building_electrified_input_resource_3@token:building_military_industry = token:resource_energy_materials }
                set_variable = { global.building_electrified_input_amount_3@token:building_military_industry = 15.0 }

                set_variable = { global.building_electrified_input_resource_4@token:building_military_industry = token:resource_electricity }
                set_variable = { global.building_electrified_input_amount_4@token:building_military_industry = 10.0 }

                set_variable = { global.building_electrified_peasants_employment@token:building_military_industry = 0.0 } #1x
                set_variable = { global.building_electrified_laborers_employment@token:building_military_industry = 1.4 } #2x
                set_variable = { global.building_electrified_workers_employment@token:building_military_industry = 4.5 } #5x
                set_variable = { global.building_electrified_professionals_employment@token:building_military_industry = 0.5 } #10x
                set_variable = { global.building_electrified_specialists_employment@token:building_military_industry = 0 } #20x
                set_variable = { global.building_electrified_aristocrats_employment@token:building_military_industry = 0.0 } #30x
                set_variable = { global.building_electrified_capitalists_employment@token:building_military_industry = 0.1 } #50x
            #
            #Motorized
                set_variable = { global.building_motorized_tech_unlock@token:building_military_industry = token:factory_industry_6 }

                #Productivity: $7.2 /K
                set_variable = { global.building_motorized_output_1@token:building_military_industry = 60 }
                set_variable = { global.building_motorized_output_2@token:building_military_industry = 15 }

                set_variable = { global.building_motorized_construction_amount@token:building_military_industry = 1296 }
                set_variable = { global.building_motorized_construction_speed@token:building_military_industry = 36 }

                set_variable = { global.building_motorized_upgrade_amount@token:building_military_industry = 24 }
                set_variable = { global.building_motorized_upgrade_speed@token:building_military_industry = 4 }

                set_variable = { global.building_motorized_input_resource_1@token:building_military_industry = token:resource_industrial_goods }
                set_variable = { global.building_motorized_input_amount_1@token:building_military_industry = 14.0 }

                set_variable = { global.building_motorized_input_resource_2@token:building_military_industry = token:resource_raw_materials }
                set_variable = { global.building_motorized_input_amount_2@token:building_military_industry = 75.0 }

                set_variable = { global.building_motorized_input_resource_3@token:building_military_industry = token:resource_electricity }
                set_variable = { global.building_motorized_input_amount_3@token:building_military_industry = 30.0 }

                set_variable = { global.building_motorized_peasants_employment@token:building_military_industry = 0.0 } #1x
                set_variable = { global.building_motorized_laborers_employment@token:building_military_industry = 0.0 } #2x
                set_variable = { global.building_motorized_workers_employment@token:building_military_industry = 3.9 } #5x
                set_variable = { global.building_motorized_professionals_employment@token:building_military_industry = 2.0 } #10x
                set_variable = { global.building_motorized_specialists_employment@token:building_military_industry = 0 } #20x
                set_variable = { global.building_motorized_aristocrats_employment@token:building_military_industry = 0.0 } #30x
                set_variable = { global.building_motorized_capitalists_employment@token:building_military_industry = 0.1 } #50x
            #
            #Modernized
                set_variable = { global.building_modernized_tech_unlock@token:building_military_industry = token:modern_powered_assembly_lines }

                #Productivity: $9.8 /K
                set_variable = { global.building_modernized_output_1@token:building_military_industry = 73 }
                set_variable = { global.building_modernized_output_2@token:building_military_industry = 20 }

                set_variable = { global.building_modernized_construction_amount@token:building_military_industry = 1656 }
                set_variable = { global.building_modernized_construction_speed@token:building_military_industry = 46 }

                set_variable = { global.building_modernized_upgrade_amount@token:building_military_industry = 36 }
                set_variable = { global.building_modernized_upgrade_speed@token:building_military_industry = 6 }

                set_variable = { global.building_modernized_input_resource_1@token:building_military_industry = token:resource_industrial_goods }
                set_variable = { global.building_modernized_input_amount_1@token:building_military_industry = 18.0 }

                set_variable = { global.building_modernized_input_resource_2@token:building_military_industry = token:resource_raw_materials }
                set_variable = { global.building_modernized_input_amount_2@token:building_military_industry = 102.0 }

                set_variable = { global.building_modernized_input_resource_3@token:building_military_industry = token:resource_electricity }
                set_variable = { global.building_modernized_input_amount_3@token:building_military_industry = 40.0 }

                set_variable = { global.building_modernized_peasants_employment@token:building_military_industry = 0.0 } #1x
                set_variable = { global.building_modernized_laborers_employment@token:building_military_industry = 0.0 } #2x
                set_variable = { global.building_modernized_workers_employment@token:building_military_industry = 2.4 } #5x
                set_variable = { global.building_modernized_professionals_employment@token:building_military_industry = 2.5 } #10x
                set_variable = { global.building_modernized_specialists_employment@token:building_military_industry = 0 } #20x
                set_variable = { global.building_modernized_aristocrats_employment@token:building_military_industry = 0.0 } #30x
                set_variable = { global.building_modernized_capitalists_employment@token:building_military_industry = 0.1 } #50x
            #
            #Roboticized
                set_variable = { global.building_roboticized_tech_unlock@token:building_military_industry = token:scara_systems }

                #Productivity: $12.4 /K
                set_variable = { global.building_roboticized_output_1@token:building_military_industry = 80 }
                set_variable = { global.building_roboticized_output_2@token:building_military_industry = 22 }

                set_variable = { global.building_roboticized_construction_amount@token:building_military_industry = 2232 }
                set_variable = { global.building_roboticized_construction_speed@token:building_military_industry = 62 }

                set_variable = { global.building_roboticized_upgrade_amount@token:building_military_industry = 48 }
                set_variable = { global.building_roboticized_upgrade_speed@token:building_military_industry = 8 }

                set_variable = { global.building_roboticized_input_resource_1@token:building_military_industry = token:resource_industrial_goods }
                set_variable = { global.building_roboticized_input_amount_1@token:building_military_industry = 25.0 }

                set_variable = { global.building_roboticized_input_resource_2@token:building_military_industry = token:resource_raw_materials }
                set_variable = { global.building_roboticized_input_amount_2@token:building_military_industry = 120.0 }

                set_variable = { global.building_roboticized_input_resource_3@token:building_military_industry = token:resource_electricity }
                set_variable = { global.building_roboticized_input_amount_3@token:building_military_industry = 60.0 }

                set_variable = { global.building_roboticized_peasants_employment@token:building_military_industry = 0.0 } #1x
                set_variable = { global.building_roboticized_laborers_employment@token:building_military_industry = 0.0 } #2x
                set_variable = { global.building_roboticized_workers_employment@token:building_military_industry = 0.9 } #5x
                set_variable = { global.building_roboticized_professionals_employment@token:building_military_industry = 3.0 } #10x
                set_variable = { global.building_roboticized_specialists_employment@token:building_military_industry = 0.5 } #20x
                set_variable = { global.building_roboticized_aristocrats_employment@token:building_military_industry = 0.0 } #30x
                set_variable = { global.building_roboticized_capitalists_employment@token:building_military_industry = 0.1 } #50x
            #
            #Computerized
                set_variable = { global.building_computerized_tech_unlock@token:building_military_industry = token:advanced_industrial_robotics }

                #Productivity: $16.5 /K
                set_variable = { global.building_computerized_output_1@token:building_military_industry = 90 }
                set_variable = { global.building_computerized_output_2@token:building_military_industry = 28 }

                set_variable = { global.building_computerized_construction_amount@token:building_military_industry = 2880 }
                set_variable = { global.building_computerized_construction_speed@token:building_military_industry = 80 }

                set_variable = { global.building_computerized_upgrade_amount@token:building_military_industry = 60 }
                set_variable = { global.building_computerized_upgrade_speed@token:building_military_industry = 10 }

                set_variable = { global.building_computerized_input_resource_1@token:building_military_industry = token:resource_industrial_goods }
                set_variable = { global.building_computerized_input_amount_1@token:building_military_industry = 36.0 }

                set_variable = { global.building_computerized_input_resource_2@token:building_military_industry = token:resource_raw_materials }
                set_variable = { global.building_computerized_input_amount_2@token:building_military_industry = 160.0 }

                set_variable = { global.building_computerized_input_resource_3@token:building_military_industry = token:resource_electricity }
                set_variable = { global.building_computerized_input_amount_3@token:building_military_industry = 80.0 }

                set_variable = { global.building_computerized_peasants_employment@token:building_military_industry = 0.0 } #1x
                set_variable = { global.building_computerized_laborers_employment@token:building_military_industry = 0.0 } #2x
                set_variable = { global.building_computerized_workers_employment@token:building_military_industry = 0.0 } #5x
                set_variable = { global.building_computerized_professionals_employment@token:building_military_industry = 2.4 } #10x
                set_variable = { global.building_computerized_specialists_employment@token:building_military_industry = 1.0 } #20x
                set_variable = { global.building_computerized_aristocrats_employment@token:building_military_industry = 0.0 } #30x
                set_variable = { global.building_computerized_capitalists_employment@token:building_military_industry = 0.1 } #50x
            #
            #Digitalized
                set_variable = { global.building_digitalized_tech_unlock@token:building_military_industry = token:industrial_3d_printing }

                #Productivity: $20.0 /K
                set_variable = { global.building_digitalized_output_1@token:building_military_industry = 127 }
                set_variable = { global.building_digitalized_output_2@token:building_military_industry = 40 }

                set_variable = { global.building_digitalized_construction_amount@token:building_military_industry = 4536 }
                set_variable = { global.building_digitalized_construction_speed@token:building_military_industry = 126 }

                set_variable = { global.building_digitalized_upgrade_amount@token:building_military_industry = 90 }
                set_variable = { global.building_digitalized_upgrade_speed@token:building_military_industry = 15 }

                set_variable = { global.building_digitalized_input_resource_1@token:building_military_industry = token:resource_industrial_goods }
                set_variable = { global.building_digitalized_input_amount_1@token:building_military_industry = 50.0 }

                set_variable = { global.building_digitalized_input_resource_2@token:building_military_industry = token:resource_raw_materials }
                set_variable = { global.building_digitalized_input_amount_2@token:building_military_industry = 200.0 }

                set_variable = { global.building_digitalized_input_resource_3@token:building_military_industry = token:resource_electricity }
                set_variable = { global.building_digitalized_input_amount_3@token:building_military_industry = 110.0 }

                set_variable = { global.building_digitalized_peasants_employment@token:building_military_industry = 0.0 } #1x
                set_variable = { global.building_digitalized_laborers_employment@token:building_military_industry = 0.0 } #2x
                set_variable = { global.building_digitalized_workers_employment@token:building_military_industry = 0.0 } #5x
                set_variable = { global.building_digitalized_professionals_employment@token:building_military_industry = 1.9 } #10x
                set_variable = { global.building_digitalized_specialists_employment@token:building_military_industry = 1.5 } #20x
                set_variable = { global.building_digitalized_aristocrats_employment@token:building_military_industry = 0.0 } #30x
                set_variable = { global.building_digitalized_capitalists_employment@token:building_military_industry = 0.1 } #50x
            #
            #Automatized
                set_variable = { global.building_automatized_tech_unlock@token:building_military_industry = token:mass_scale_industrial_3d_printing }

                #Productivity: $28.0 /K
                set_variable = { global.building_automatized_output_1@token:building_military_industry = 135 }
                set_variable = { global.building_automatized_output_2@token:building_military_industry = 43 }

                set_variable = { global.building_automatized_construction_amount@token:building_military_industry = 5256 }
                set_variable = { global.building_automatized_construction_speed@token:building_military_industry = 146 }

                set_variable = { global.building_automatized_upgrade_amount@token:building_military_industry = 120 }
                set_variable = { global.building_automatized_upgrade_speed@token:building_military_industry = 20 }

                set_variable = { global.building_automatized_input_resource_1@token:building_military_industry = token:resource_industrial_goods }
                set_variable = { global.building_automatized_input_amount_1@token:building_military_industry = 80.0 }

                set_variable = { global.building_automatized_input_resource_2@token:building_military_industry = token:resource_raw_materials }
                set_variable = { global.building_automatized_input_amount_2@token:building_military_industry = 240.0 }

                set_variable = { global.building_automatized_input_resource_3@token:building_military_industry = token:resource_electricity }
                set_variable = { global.building_automatized_input_amount_3@token:building_military_industry = 180.0 }

                set_variable = { global.building_automatized_peasants_employment@token:building_military_industry = 0.0 } #1x
                set_variable = { global.building_automatized_laborers_employment@token:building_military_industry = 0.0 } #2x
                set_variable = { global.building_automatized_workers_employment@token:building_military_industry = 0.0 } #5x
                set_variable = { global.building_automatized_professionals_employment@token:building_military_industry = 0.4 } #10x
                set_variable = { global.building_automatized_specialists_employment@token:building_military_industry = 2.0 } #20x
                set_variable = { global.building_automatized_aristocrats_employment@token:building_military_industry = 0.0 } #30x
                set_variable = { global.building_automatized_capitalists_employment@token:building_military_industry = 0.1 } #50x
            #
            #Futurized
                set_variable = { global.building_futurized_tech_unlock@token:building_military_industry = token:automated_industrial_3d_printing }

                #Productivity: $32.0 /K
                set_variable = { global.building_futurized_output_1@token:building_military_industry = 150 }
                set_variable = { global.building_futurized_output_2@token:building_military_industry = 50 }

                set_variable = { global.building_futurized_construction_amount@token:building_military_industry = 5976 }
                set_variable = { global.building_futurized_construction_speed@token:building_military_industry = 166 }

                set_variable = { global.building_futurized_input_resource_1@token:building_military_industry = token:resource_industrial_goods }
                set_variable = { global.building_futurized_input_amount_1@token:building_military_industry = 90.0 }

                set_variable = { global.building_futurized_input_resource_2@token:building_military_industry = token:resource_raw_materials }
                set_variable = { global.building_futurized_input_amount_2@token:building_military_industry = 270.0 }

                set_variable = { global.building_futurized_input_resource_3@token:building_military_industry = token:resource_electricity }
                set_variable = { global.building_futurized_input_amount_3@token:building_military_industry = 220.0 }

                set_variable = { global.building_futurized_peasants_employment@token:building_military_industry = 0.0 } #1x
                set_variable = { global.building_futurized_laborers_employment@token:building_military_industry = 0.0 } #2x
                set_variable = { global.building_futurized_workers_employment@token:building_military_industry = 0.0 } #5x
                set_variable = { global.building_futurized_professionals_employment@token:building_military_industry = 0.0 } #10x
                set_variable = { global.building_futurized_specialists_employment@token:building_military_industry = 1.9 } #20x
                set_variable = { global.building_futurized_aristocrats_employment@token:building_military_industry = 0.0 } #30x
                set_variable = { global.building_futurized_capitalists_employment@token:building_military_industry = 0.1 } #50x
            #
        }
        define_civilian_industry = {
            set_variable = { global.building_output_resource_1@token:building_civilian_industry = token:resource_consumer_goods }
            set_variable = { global.building_output_resource_2@token:building_civilian_industry = token:resource_industrial_goods }

            set_variable = { global.building_industrial_capacity_use@token:building_civilian_industry = 2 }

            #Basic
                set_variable = { global.building_basic_tech_unlock@token:building_civilian_industry = 1 }

                set_variable = { global.building_basic_construction_amount@token:building_civilian_industry = 216 }
                set_variable = { global.building_basic_construction_speed@token:building_civilian_industry = 6 }

                set_variable = { global.building_basic_upgrade_amount@token:building_civilian_industry = 6 }
                set_variable = { global.building_basic_upgrade_speed@token:building_civilian_industry = 1 }

                #Productivity: $1.7 /K
                set_variable = { global.building_basic_output_1@token:building_civilian_industry = 20 }
                set_variable = { global.building_basic_output_2@token:building_civilian_industry = 5.5 }

                set_variable = { global.building_basic_input_resource_1@token:building_civilian_industry = token:resource_industrial_goods }
                set_variable = { global.building_basic_input_amount_1@token:building_civilian_industry = 1.0 }

                set_variable = { global.building_basic_input_resource_2@token:building_civilian_industry = token:resource_raw_materials }
                set_variable = { global.building_basic_input_amount_2@token:building_civilian_industry = 14.0 }

                set_variable = { global.building_basic_peasants_employment@token:building_civilian_industry = 0.0 } #1x
                set_variable = { global.building_basic_laborers_employment@token:building_civilian_industry = 9.9 } #2x
                set_variable = { global.building_basic_workers_employment@token:building_civilian_industry = 0.0 } #5x
                set_variable = { global.building_basic_professionals_employment@token:building_civilian_industry = 0 } #10x
                set_variable = { global.building_basic_specialists_employment@token:building_civilian_industry = 0 } #20x
                set_variable = { global.building_basic_aristocrats_employment@token:building_civilian_industry = 0.05 } #30x
                set_variable = { global.building_basic_capitalists_employment@token:building_civilian_industry = 0.05 } #50x
            #
            #Advanced
                set_variable = { global.building_advanced_tech_unlock@token:building_civilian_industry = token:manufactories }

                #Productivity: $2.2 /K
                set_variable = { global.building_advanced_output_1@token:building_civilian_industry = 28 }
                set_variable = { global.building_advanced_output_2@token:building_civilian_industry = 9 }

                set_variable = { global.building_advanced_construction_amount@token:building_civilian_industry = 360 }
                set_variable = { global.building_advanced_construction_speed@token:building_civilian_industry = 10 }

                set_variable = { global.building_advanced_upgrade_amount@token:building_civilian_industry = 9 }
                set_variable = { global.building_advanced_upgrade_speed@token:building_civilian_industry = 1.5 }

                set_variable = { global.building_advanced_input_resource_1@token:building_civilian_industry = token:resource_industrial_goods }
                set_variable = { global.building_advanced_input_amount_1@token:building_civilian_industry = 2.0 }

                set_variable = { global.building_advanced_input_resource_2@token:building_civilian_industry = token:resource_raw_materials }
                set_variable = { global.building_advanced_input_amount_2@token:building_civilian_industry = 29.0 }

                set_variable = { global.building_advanced_peasants_employment@token:building_civilian_industry = 0.0 } #1x
                set_variable = { global.building_advanced_laborers_employment@token:building_civilian_industry = 7.4 } #2x
                set_variable = { global.building_advanced_workers_employment@token:building_civilian_industry = 2.5 } #5x
                set_variable = { global.building_advanced_professionals_employment@token:building_civilian_industry = 0 } #10x
                set_variable = { global.building_advanced_specialists_employment@token:building_civilian_industry = 0 } #20x
                set_variable = { global.building_advanced_aristocrats_employment@token:building_civilian_industry = 0.05 } #30x
                set_variable = { global.building_advanced_capitalists_employment@token:building_civilian_industry = 0.05 } #50x
            #
            #Industrialized
                set_variable = { global.building_industrialized_tech_unlock@token:building_civilian_industry = token:corliss_steam_engine }

                #Productivity: $3.0 /K
                set_variable = { global.building_industrialized_output_1@token:building_civilian_industry = 46 }
                set_variable = { global.building_industrialized_output_2@token:building_civilian_industry = 13.5 }

                set_variable = { global.building_industrialized_construction_amount@token:building_civilian_industry = 648 }
                set_variable = { global.building_industrialized_construction_speed@token:building_civilian_industry = 18 }

                set_variable = { global.building_industrialized_upgrade_amount@token:building_civilian_industry = 12 }
                set_variable = { global.building_industrialized_upgrade_speed@token:building_civilian_industry = 2 }

                set_variable = { global.building_industrialized_input_resource_1@token:building_civilian_industry = token:resource_industrial_goods }
                set_variable = { global.building_industrialized_input_amount_1@token:building_civilian_industry = 6.0 }

                set_variable = { global.building_industrialized_input_resource_2@token:building_civilian_industry = token:resource_raw_materials }
                set_variable = { global.building_industrialized_input_amount_2@token:building_civilian_industry = 50.0 }

                set_variable = { global.building_industrialized_input_resource_3@token:building_civilian_industry = token:resource_energy_materials }
                set_variable = { global.building_industrialized_input_amount_3@token:building_civilian_industry = 9.0 }

                set_variable = { global.building_industrialized_peasants_employment@token:building_civilian_industry = 0.0 } #1x
                set_variable = { global.building_industrialized_laborers_employment@token:building_civilian_industry = 6.4 } #2x
                set_variable = { global.building_industrialized_workers_employment@token:building_civilian_industry = 2.5 } #5x
                set_variable = { global.building_industrialized_professionals_employment@token:building_civilian_industry = 0 } #10x
                set_variable = { global.building_industrialized_specialists_employment@token:building_civilian_industry = 0 } #20x
                set_variable = { global.building_industrialized_aristocrats_employment@token:building_civilian_industry = 0 } #30x
                set_variable = { global.building_industrialized_capitalists_employment@token:building_civilian_industry = 0.1 } #50x
            #
            #Mechanized
                set_variable = { global.building_mechanized_tech_unlock@token:building_civilian_industry = token:mechanical_production_2 }

                #Productivity: $4.0 /K
                set_variable = { global.building_mechanized_output_1@token:building_civilian_industry = 40 }
                set_variable = { global.building_mechanized_output_2@token:building_civilian_industry = 14.5 }

                set_variable = { global.building_mechanized_construction_amount@token:building_civilian_industry = 792 }
                set_variable = { global.building_mechanized_construction_speed@token:building_civilian_industry = 22 }

                set_variable = { global.building_mechanized_upgrade_amount@token:building_civilian_industry = 15 }
                set_variable = { global.building_mechanized_upgrade_speed@token:building_civilian_industry = 2.5 }

                set_variable = { global.building_mechanized_input_resource_1@token:building_civilian_industry = token:resource_industrial_goods }
                set_variable = { global.building_mechanized_input_amount_1@token:building_civilian_industry = 8.0 }

                set_variable = { global.building_mechanized_input_resource_2@token:building_civilian_industry = token:resource_raw_materials }
                set_variable = { global.building_mechanized_input_amount_2@token:building_civilian_industry = 52.0 }

                set_variable = { global.building_mechanized_input_resource_3@token:building_civilian_industry = token:resource_energy_materials }
                set_variable = { global.building_mechanized_input_amount_3@token:building_civilian_industry = 15.0 }

                set_variable = { global.building_mechanized_peasants_employment@token:building_civilian_industry = 0.0 } #1x
                set_variable = { global.building_mechanized_laborers_employment@token:building_civilian_industry = 3.9 } #2x
                set_variable = { global.building_mechanized_workers_employment@token:building_civilian_industry = 3.5 } #5x
                set_variable = { global.building_mechanized_professionals_employment@token:building_civilian_industry = 0 } #10x
                set_variable = { global.building_mechanized_specialists_employment@token:building_civilian_industry = 0 } #20x
                set_variable = { global.building_mechanized_aristocrats_employment@token:building_civilian_industry = 0.0 } #30x
                set_variable = { global.building_mechanized_capitalists_employment@token:building_civilian_industry = 0.1 } #50x
            #
            #Electrified
                set_variable = { global.building_electrified_tech_unlock@token:building_civilian_industry = token:better_incandescent_lightbulb }

                #Productivity: $5.5 /K
                set_variable = { global.building_electrified_output_1@token:building_civilian_industry = 50 }
                set_variable = { global.building_electrified_output_2@token:building_civilian_industry = 17.5 }

                set_variable = { global.building_electrified_construction_amount@token:building_civilian_industry = 1080 }
                set_variable = { global.building_electrified_construction_speed@token:building_civilian_industry = 30 }

                set_variable = { global.building_electrified_upgrade_amount@token:building_civilian_industry = 18 }
                set_variable = { global.building_electrified_upgrade_speed@token:building_civilian_industry = 3 }

                set_variable = { global.building_electrified_input_resource_1@token:building_civilian_industry = token:resource_industrial_goods }
                set_variable = { global.building_electrified_input_amount_1@token:building_civilian_industry = 12.0 }

                set_variable = { global.building_electrified_input_resource_2@token:building_civilian_industry = token:resource_raw_materials }
                set_variable = { global.building_electrified_input_amount_2@token:building_civilian_industry = 67.0 }

                set_variable = { global.building_electrified_input_resource_3@token:building_civilian_industry = token:resource_energy_materials }
                set_variable = { global.building_electrified_input_amount_3@token:building_civilian_industry = 15.0 }

                set_variable = { global.building_electrified_input_resource_4@token:building_civilian_industry = token:resource_electricity }
                set_variable = { global.building_electrified_input_amount_4@token:building_civilian_industry = 10.0 }

                set_variable = { global.building_electrified_peasants_employment@token:building_civilian_industry = 0.0 } #1x
                set_variable = { global.building_electrified_laborers_employment@token:building_civilian_industry = 1.4 } #2x
                set_variable = { global.building_electrified_workers_employment@token:building_civilian_industry = 4.5 } #5x
                set_variable = { global.building_electrified_professionals_employment@token:building_civilian_industry = 0.5 } #10x
                set_variable = { global.building_electrified_specialists_employment@token:building_civilian_industry = 0 } #20x
                set_variable = { global.building_electrified_aristocrats_employment@token:building_civilian_industry = 0.0 } #30x
                set_variable = { global.building_electrified_capitalists_employment@token:building_civilian_industry = 0.1 } #50x
            #
            #Motorized
                set_variable = { global.building_motorized_tech_unlock@token:building_civilian_industry = token:factory_industry_6 }

                #Productivity: $7.2 /K
                set_variable = { global.building_motorized_output_1@token:building_civilian_industry = 60 }
                set_variable = { global.building_motorized_output_2@token:building_civilian_industry = 20 }

                set_variable = { global.building_motorized_construction_amount@token:building_civilian_industry = 1296 }
                set_variable = { global.building_motorized_construction_speed@token:building_civilian_industry = 36 }

                set_variable = { global.building_motorized_upgrade_amount@token:building_civilian_industry = 24 }
                set_variable = { global.building_motorized_upgrade_speed@token:building_civilian_industry = 4 }

                set_variable = { global.building_motorized_input_resource_1@token:building_civilian_industry = token:resource_industrial_goods }
                set_variable = { global.building_motorized_input_amount_1@token:building_civilian_industry = 14.0 }

                set_variable = { global.building_motorized_input_resource_2@token:building_civilian_industry = token:resource_raw_materials }
                set_variable = { global.building_motorized_input_amount_2@token:building_civilian_industry = 75.0 }

                set_variable = { global.building_motorized_input_resource_3@token:building_civilian_industry = token:resource_electricity }
                set_variable = { global.building_motorized_input_amount_3@token:building_civilian_industry = 30.0 }

                set_variable = { global.building_motorized_peasants_employment@token:building_civilian_industry = 0.0 } #1x
                set_variable = { global.building_motorized_laborers_employment@token:building_civilian_industry = 0.0 } #2x
                set_variable = { global.building_motorized_workers_employment@token:building_civilian_industry = 3.9 } #5x
                set_variable = { global.building_motorized_professionals_employment@token:building_civilian_industry = 2.0 } #10x
                set_variable = { global.building_motorized_specialists_employment@token:building_civilian_industry = 0 } #20x
                set_variable = { global.building_motorized_aristocrats_employment@token:building_civilian_industry = 0.0 } #30x
                set_variable = { global.building_motorized_capitalists_employment@token:building_civilian_industry = 0.1 } #50x
            #
            #Modernized
                set_variable = { global.building_modernized_tech_unlock@token:building_civilian_industry = token:modern_powered_assembly_lines }

                #Productivity: $9.8 /K
                set_variable = { global.building_modernized_output_1@token:building_civilian_industry = 70 }
                set_variable = { global.building_modernized_output_2@token:building_civilian_industry = 27 }

                set_variable = { global.building_modernized_construction_amount@token:building_civilian_industry = 1656 }
                set_variable = { global.building_modernized_construction_speed@token:building_civilian_industry = 46 }

                set_variable = { global.building_modernized_upgrade_amount@token:building_civilian_industry = 36 }
                set_variable = { global.building_modernized_upgrade_speed@token:building_civilian_industry = 6 }

                set_variable = { global.building_modernized_input_resource_1@token:building_civilian_industry = token:resource_industrial_goods }
                set_variable = { global.building_modernized_input_amount_1@token:building_civilian_industry = 18.0 }

                set_variable = { global.building_modernized_input_resource_2@token:building_civilian_industry = token:resource_raw_materials }
                set_variable = { global.building_modernized_input_amount_2@token:building_civilian_industry = 102.0 }

                set_variable = { global.building_modernized_input_resource_3@token:building_civilian_industry = token:resource_electricity }
                set_variable = { global.building_modernized_input_amount_3@token:building_civilian_industry = 40.0 }

                set_variable = { global.building_modernized_peasants_employment@token:building_civilian_industry = 0.0 } #1x
                set_variable = { global.building_modernized_laborers_employment@token:building_civilian_industry = 0.0 } #2x
                set_variable = { global.building_modernized_workers_employment@token:building_civilian_industry = 2.4 } #5x
                set_variable = { global.building_modernized_professionals_employment@token:building_civilian_industry = 2.5 } #10x
                set_variable = { global.building_modernized_specialists_employment@token:building_civilian_industry = 0 } #20x
                set_variable = { global.building_modernized_aristocrats_employment@token:building_civilian_industry = 0.0 } #30x
                set_variable = { global.building_modernized_capitalists_employment@token:building_civilian_industry = 0.1 } #50x
            #
            #Roboticized
                set_variable = { global.building_roboticized_tech_unlock@token:building_civilian_industry = token:scara_systems }

                #Productivity: $12.4 /K
                set_variable = { global.building_roboticized_output_1@token:building_civilian_industry = 80 }
                set_variable = { global.building_roboticized_output_2@token:building_civilian_industry = 29 }

                set_variable = { global.building_roboticized_construction_amount@token:building_civilian_industry = 2232 }
                set_variable = { global.building_roboticized_construction_speed@token:building_civilian_industry = 62 }

                set_variable = { global.building_roboticized_upgrade_amount@token:building_civilian_industry = 48 }
                set_variable = { global.building_roboticized_upgrade_speed@token:building_civilian_industry = 8 }

                set_variable = { global.building_roboticized_input_resource_1@token:building_civilian_industry = token:resource_industrial_goods }
                set_variable = { global.building_roboticized_input_amount_1@token:building_civilian_industry = 25.0 }

                set_variable = { global.building_roboticized_input_resource_2@token:building_civilian_industry = token:resource_raw_materials }
                set_variable = { global.building_roboticized_input_amount_2@token:building_civilian_industry = 120.0 }

                set_variable = { global.building_roboticized_input_resource_3@token:building_civilian_industry = token:resource_electricity }
                set_variable = { global.building_roboticized_input_amount_3@token:building_civilian_industry = 60.0 }

                set_variable = { global.building_roboticized_peasants_employment@token:building_civilian_industry = 0.0 } #1x
                set_variable = { global.building_roboticized_laborers_employment@token:building_civilian_industry = 0.0 } #2x
                set_variable = { global.building_roboticized_workers_employment@token:building_civilian_industry = 0.9 } #5x
                set_variable = { global.building_roboticized_professionals_employment@token:building_civilian_industry = 3.0 } #10x
                set_variable = { global.building_roboticized_specialists_employment@token:building_civilian_industry = 0.5 } #20x
                set_variable = { global.building_roboticized_aristocrats_employment@token:building_civilian_industry = 0.0 } #30x
                set_variable = { global.building_roboticized_capitalists_employment@token:building_civilian_industry = 0.1 } #50x
            #
            #Computerized
                set_variable = { global.building_computerized_tech_unlock@token:building_civilian_industry = token:advanced_industrial_robotics }

                #Productivity: $16.5 /K
                set_variable = { global.building_computerized_output_1@token:building_civilian_industry = 90 }
                set_variable = { global.building_computerized_output_2@token:building_civilian_industry = 37 }

                set_variable = { global.building_computerized_construction_amount@token:building_civilian_industry = 2880 }
                set_variable = { global.building_computerized_construction_speed@token:building_civilian_industry = 80 }

                set_variable = { global.building_computerized_upgrade_amount@token:building_civilian_industry = 60 }
                set_variable = { global.building_computerized_upgrade_speed@token:building_civilian_industry = 10 }

                set_variable = { global.building_computerized_input_resource_1@token:building_civilian_industry = token:resource_industrial_goods }
                set_variable = { global.building_computerized_input_amount_1@token:building_civilian_industry = 36.0 }

                set_variable = { global.building_computerized_input_resource_2@token:building_civilian_industry = token:resource_raw_materials }
                set_variable = { global.building_computerized_input_amount_2@token:building_civilian_industry = 160.0 }

                set_variable = { global.building_computerized_input_resource_3@token:building_civilian_industry = token:resource_electricity }
                set_variable = { global.building_computerized_input_amount_3@token:building_civilian_industry = 80.0 }

                set_variable = { global.building_computerized_peasants_employment@token:building_civilian_industry = 0.0 } #1x
                set_variable = { global.building_computerized_laborers_employment@token:building_civilian_industry = 0.0 } #2x
                set_variable = { global.building_computerized_workers_employment@token:building_civilian_industry = 0.0 } #5x
                set_variable = { global.building_computerized_professionals_employment@token:building_civilian_industry = 2.4 } #10x
                set_variable = { global.building_computerized_specialists_employment@token:building_civilian_industry = 1.0 } #20x
                set_variable = { global.building_computerized_aristocrats_employment@token:building_civilian_industry = 0.0 } #30x
                set_variable = { global.building_computerized_capitalists_employment@token:building_civilian_industry = 0.1 } #50x
            #
            #Digitalized
                set_variable = { global.building_digitalized_tech_unlock@token:building_civilian_industry = token:industrial_3d_printing }

                #Productivity: $20.0 /K
                set_variable = { global.building_digitalized_output_1@token:building_civilian_industry = 127 }
                set_variable = { global.building_digitalized_output_2@token:building_civilian_industry = 53 }

                set_variable = { global.building_digitalized_construction_amount@token:building_civilian_industry = 4536 }
                set_variable = { global.building_digitalized_construction_speed@token:building_civilian_industry = 126 }

                set_variable = { global.building_digitalized_upgrade_amount@token:building_civilian_industry = 90 }
                set_variable = { global.building_digitalized_upgrade_speed@token:building_civilian_industry = 15 }

                set_variable = { global.building_digitalized_input_resource_1@token:building_civilian_industry = token:resource_industrial_goods }
                set_variable = { global.building_digitalized_input_amount_1@token:building_civilian_industry = 50.0 }

                set_variable = { global.building_digitalized_input_resource_2@token:building_civilian_industry = token:resource_raw_materials }
                set_variable = { global.building_digitalized_input_amount_2@token:building_civilian_industry = 200.0 }

                set_variable = { global.building_digitalized_input_resource_3@token:building_civilian_industry = token:resource_electricity }
                set_variable = { global.building_digitalized_input_amount_3@token:building_civilian_industry = 110.0 }

                set_variable = { global.building_digitalized_peasants_employment@token:building_civilian_industry = 0.0 } #1x
                set_variable = { global.building_digitalized_laborers_employment@token:building_civilian_industry = 0.0 } #2x
                set_variable = { global.building_digitalized_workers_employment@token:building_civilian_industry = 0.0 } #5x
                set_variable = { global.building_digitalized_professionals_employment@token:building_civilian_industry = 1.9 } #10x
                set_variable = { global.building_digitalized_specialists_employment@token:building_civilian_industry = 1.5 } #20x
                set_variable = { global.building_digitalized_aristocrats_employment@token:building_civilian_industry = 0.0 } #30x
                set_variable = { global.building_digitalized_capitalists_employment@token:building_civilian_industry = 0.1 } #50x
            #
            #Automatized
                set_variable = { global.building_automatized_tech_unlock@token:building_civilian_industry = token:mass_scale_industrial_3d_printing }

                #Productivity: $28.0 /K
                set_variable = { global.building_automatized_output_1@token:building_civilian_industry = 135 }
                set_variable = { global.building_automatized_output_2@token:building_civilian_industry = 57 }

                set_variable = { global.building_automatized_construction_amount@token:building_civilian_industry = 5256 }
                set_variable = { global.building_automatized_construction_speed@token:building_civilian_industry = 146 }

                set_variable = { global.building_automatized_upgrade_amount@token:building_civilian_industry = 120 }
                set_variable = { global.building_automatized_upgrade_speed@token:building_civilian_industry = 20 }

                set_variable = { global.building_automatized_input_resource_1@token:building_civilian_industry = token:resource_industrial_goods }
                set_variable = { global.building_automatized_input_amount_1@token:building_civilian_industry = 80.0 }

                set_variable = { global.building_automatized_input_resource_2@token:building_civilian_industry = token:resource_raw_materials }
                set_variable = { global.building_automatized_input_amount_2@token:building_civilian_industry = 240.0 }

                set_variable = { global.building_automatized_input_resource_3@token:building_civilian_industry = token:resource_electricity }
                set_variable = { global.building_automatized_input_amount_3@token:building_civilian_industry = 180.0 }

                set_variable = { global.building_automatized_peasants_employment@token:building_civilian_industry = 0.0 } #1x
                set_variable = { global.building_automatized_laborers_employment@token:building_civilian_industry = 0.0 } #2x
                set_variable = { global.building_automatized_workers_employment@token:building_civilian_industry = 0.0 } #5x
                set_variable = { global.building_automatized_professionals_employment@token:building_civilian_industry = 0.4 } #10x
                set_variable = { global.building_automatized_specialists_employment@token:building_civilian_industry = 2.0 } #20x
                set_variable = { global.building_automatized_aristocrats_employment@token:building_civilian_industry = 0.0 } #30x
                set_variable = { global.building_automatized_capitalists_employment@token:building_civilian_industry = 0.1 } #50x
            #
            #Futurized
                set_variable = { global.building_futurized_tech_unlock@token:building_civilian_industry = token:automated_industrial_3d_printing }

                #Productivity: $32.0 /K
                set_variable = { global.building_futurized_output_1@token:building_civilian_industry = 150 }
                set_variable = { global.building_futurized_output_2@token:building_civilian_industry = 67 }

                set_variable = { global.building_futurized_construction_amount@token:building_civilian_industry = 5976 }
                set_variable = { global.building_futurized_construction_speed@token:building_civilian_industry = 166 }

                set_variable = { global.building_futurized_input_resource_1@token:building_civilian_industry = token:resource_industrial_goods }
                set_variable = { global.building_futurized_input_amount_1@token:building_civilian_industry = 90.0 }

                set_variable = { global.building_futurized_input_resource_2@token:building_civilian_industry = token:resource_raw_materials }
                set_variable = { global.building_futurized_input_amount_2@token:building_civilian_industry = 270.0 }

                set_variable = { global.building_futurized_input_resource_3@token:building_civilian_industry = token:resource_electricity }
                set_variable = { global.building_futurized_input_amount_3@token:building_civilian_industry = 220.0 }

                set_variable = { global.building_futurized_peasants_employment@token:building_civilian_industry = 0.0 } #1x
                set_variable = { global.building_futurized_laborers_employment@token:building_civilian_industry = 0.0 } #2x
                set_variable = { global.building_futurized_workers_employment@token:building_civilian_industry = 0.0 } #5x
                set_variable = { global.building_futurized_professionals_employment@token:building_civilian_industry = 0.0 } #10x
                set_variable = { global.building_futurized_specialists_employment@token:building_civilian_industry = 1.9 } #20x
                set_variable = { global.building_futurized_aristocrats_employment@token:building_civilian_industry = 0.0 } #30x
                set_variable = { global.building_futurized_capitalists_employment@token:building_civilian_industry = 0.1 } #50x
            #
        }
        define_naval_industry = {
            set_variable = { global.building_output_resource_1@token:building_naval_industry = token:resource_services }
            set_variable = { global.building_coastal@token:building_naval_industry = 1 }

            #Basic
                set_variable = { global.building_basic_tech_unlock@token:building_naval_industry = 1 }

                set_variable = { global.building_basic_construction_amount@token:building_naval_industry = 216 }
                set_variable = { global.building_basic_construction_speed@token:building_naval_industry = 6 }

                set_variable = { global.building_basic_upgrade_amount@token:building_naval_industry = 6 }
                set_variable = { global.building_basic_upgrade_speed@token:building_naval_industry = 1 }

                #Productivity: $1.2 /K
                set_variable = { global.building_basic_output_1@token:building_naval_industry = 11.5 }
                set_variable = { global.building_basic_output_shipping_capacity@token:building_naval_industry = 100 }

                set_variable = { global.building_basic_input_resource_1@token:building_naval_industry = token:resource_industrial_goods }
                set_variable = { global.building_basic_input_amount_1@token:building_naval_industry = 3 }

                set_variable = { global.building_basic_peasants_employment@token:building_naval_industry = 0.0 } #1x
                set_variable = { global.building_basic_laborers_employment@token:building_naval_industry = 4.45 } #2x
                set_variable = { global.building_basic_workers_employment@token:building_naval_industry = 0 } #5x
                set_variable = { global.building_basic_professionals_employment@token:building_naval_industry = 0 } #10x
                set_variable = { global.building_basic_specialists_employment@token:building_naval_industry = 0 } #20x
                set_variable = { global.building_basic_aristocrats_employment@token:building_naval_industry = 0.05 } #30x
                set_variable = { global.building_basic_capitalists_employment@token:building_naval_industry = 0.0 } #50x
            #
            #Advanced
                set_variable = { global.building_advanced_tech_unlock@token:building_naval_industry = token:mass_transit_early }

                #Productivity: $1.8 /K
                set_variable = { global.building_advanced_output_1@token:building_naval_industry = 17.0 }
                set_variable = { global.building_advanced_output_shipping_capacity@token:building_naval_industry = 120 }

                set_variable = { global.building_advanced_construction_amount@token:building_naval_industry = 360 }
                set_variable = { global.building_advanced_construction_speed@token:building_naval_industry = 10 }

                set_variable = { global.building_advanced_upgrade_amount@token:building_naval_industry = 9 }
                set_variable = { global.building_advanced_upgrade_speed@token:building_naval_industry = 1.5 }

                set_variable = { global.building_advanced_input_resource_1@token:building_naval_industry = token:resource_industrial_goods }
                set_variable = { global.building_advanced_input_amount_1@token:building_naval_industry = 6.0 }

                set_variable = { global.building_advanced_peasants_employment@token:building_naval_industry = 0.0 } #1x
                set_variable = { global.building_advanced_laborers_employment@token:building_naval_industry = 4.45 } #2x
                set_variable = { global.building_advanced_workers_employment@token:building_naval_industry = 0.5 } #5x
                set_variable = { global.building_advanced_professionals_employment@token:building_naval_industry = 0 } #10x
                set_variable = { global.building_advanced_specialists_employment@token:building_naval_industry = 0 } #20x
                set_variable = { global.building_advanced_aristocrats_employment@token:building_naval_industry = 0.05 } #30x
                set_variable = { global.building_advanced_capitalists_employment@token:building_naval_industry = 0.0 } #50x
            #
            #Industrialized
                set_variable = { global.building_industrialized_tech_unlock@token:building_naval_industry = token:tech_humanities_roadworks }

                #Productivity: $2.44 /K
                set_variable = { global.building_industrialized_output_1@token:building_naval_industry = 26.5 }
                set_variable = { global.building_industrialized_output_shipping_capacity@token:building_naval_industry = 140 }

                set_variable = { global.building_industrialized_construction_amount@token:building_naval_industry = 648 }
                set_variable = { global.building_industrialized_construction_speed@token:building_naval_industry = 18 }

                set_variable = { global.building_industrialized_upgrade_amount@token:building_naval_industry = 12 }
                set_variable = { global.building_industrialized_upgrade_speed@token:building_naval_industry = 2 }

                set_variable = { global.building_industrialized_input_resource_1@token:building_naval_industry = token:resource_industrial_goods }
                set_variable = { global.building_industrialized_input_amount_1@token:building_naval_industry = 11.0 }

                set_variable = { global.building_industrialized_input_resource_2@token:building_naval_industry = token:resource_energy_materials }
                set_variable = { global.building_industrialized_input_amount_2@token:building_naval_industry = 6.0 }

                set_variable = { global.building_industrialized_peasants_employment@token:building_naval_industry = 0.0 } #1x
                set_variable = { global.building_industrialized_laborers_employment@token:building_naval_industry = 3.45 } #2x
                set_variable = { global.building_industrialized_workers_employment@token:building_naval_industry = 1.0 } #5x
                set_variable = { global.building_industrialized_professionals_employment@token:building_naval_industry = 0 } #10x
                set_variable = { global.building_industrialized_specialists_employment@token:building_naval_industry = 0 } #20x
                set_variable = { global.building_industrialized_aristocrats_employment@token:building_naval_industry = 0.05 } #30x
                set_variable = { global.building_industrialized_capitalists_employment@token:building_naval_industry = 0.0 } #50x
            #
            #Mechanized
                set_variable = { global.building_mechanized_tech_unlock@token:building_naval_industry = token:tech_humanities_asphalt_roads }

                #Productivity: $3.25 /K
                set_variable = { global.building_mechanized_output_1@token:building_naval_industry = 31.0 }
                set_variable = { global.building_mechanized_output_shipping_capacity@token:building_naval_industry = 160 }

                set_variable = { global.building_mechanized_construction_amount@token:building_naval_industry = 792 }
                set_variable = { global.building_mechanized_construction_speed@token:building_naval_industry = 22 }

                set_variable = { global.building_mechanized_upgrade_amount@token:building_naval_industry = 15 }
                set_variable = { global.building_mechanized_upgrade_speed@token:building_naval_industry = 2.5 }

                set_variable = { global.building_mechanized_input_resource_1@token:building_naval_industry = token:resource_industrial_goods }
                set_variable = { global.building_mechanized_input_amount_1@token:building_naval_industry = 13.0 }

                set_variable = { global.building_mechanized_input_resource_2@token:building_naval_industry = token:resource_energy_materials }
                set_variable = { global.building_mechanized_input_amount_2@token:building_naval_industry = 9.0 }

                set_variable = { global.building_mechanized_peasants_employment@token:building_naval_industry = 0.0 } #1x
                set_variable = { global.building_mechanized_laborers_employment@token:building_naval_industry = 2.45 } #2x
                set_variable = { global.building_mechanized_workers_employment@token:building_naval_industry = 1.5 } #5x
                set_variable = { global.building_mechanized_professionals_employment@token:building_naval_industry = 0 } #10x
                set_variable = { global.building_mechanized_specialists_employment@token:building_naval_industry = 0 } #20x
                set_variable = { global.building_mechanized_aristocrats_employment@token:building_naval_industry = 0.04 } #30x
                set_variable = { global.building_mechanized_capitalists_employment@token:building_naval_industry = 0.01 } #50x
            #
            #Electrified
                set_variable = { global.building_electrified_tech_unlock@token:building_naval_industry = token:tarmac_roads }

                #Productivity: $4.3 /K
                set_variable = { global.building_electrified_output_1@token:building_naval_industry = 37 }
                set_variable = { global.building_electrified_output_shipping_capacity@token:building_naval_industry = 200 }

                set_variable = { global.building_electrified_construction_amount@token:building_naval_industry = 1080 }
                set_variable = { global.building_electrified_construction_speed@token:building_naval_industry = 30 }

                set_variable = { global.building_electrified_upgrade_amount@token:building_naval_industry = 18 }
                set_variable = { global.building_electrified_upgrade_speed@token:building_naval_industry = 3 }

                set_variable = { global.building_electrified_input_resource_1@token:building_naval_industry = token:resource_industrial_goods }
                set_variable = { global.building_electrified_input_amount_1@token:building_naval_industry = 19.0 }

                set_variable = { global.building_electrified_input_resource_2@token:building_naval_industry = token:resource_electricity }
                set_variable = { global.building_electrified_input_amount_2@token:building_naval_industry = 12.0 }

                set_variable = { global.building_electrified_peasants_employment@token:building_naval_industry = 0.0 } #1x
                set_variable = { global.building_electrified_laborers_employment@token:building_naval_industry = 1.45 } #2x
                set_variable = { global.building_electrified_workers_employment@token:building_naval_industry = 2.0 } #5x
                set_variable = { global.building_electrified_professionals_employment@token:building_naval_industry = 0.0 } #10x
                set_variable = { global.building_electrified_specialists_employment@token:building_naval_industry = 0 } #20x
                set_variable = { global.building_electrified_aristocrats_employment@token:building_naval_industry = 0.02 } #30x
                set_variable = { global.building_electrified_capitalists_employment@token:building_naval_industry = 0.03 } #50x
            #
            #Motorized
                set_variable = { global.building_motorized_tech_unlock@token:building_naval_industry = token:mass_highspeed_highways }

                #Productivity: $6.3 /K
                set_variable = { global.building_motorized_output_1@token:building_naval_industry = 42 }
                set_variable = { global.building_motorized_output_shipping_capacity@token:building_naval_industry = 250 }

                set_variable = { global.building_motorized_construction_amount@token:building_naval_industry = 1296 }
                set_variable = { global.building_motorized_construction_speed@token:building_naval_industry = 36 }

                set_variable = { global.building_motorized_upgrade_amount@token:building_naval_industry = 24 }
                set_variable = { global.building_motorized_upgrade_speed@token:building_naval_industry = 4 }

                set_variable = { global.building_motorized_input_resource_1@token:building_naval_industry = token:resource_industrial_goods }
                set_variable = { global.building_motorized_input_amount_1@token:building_naval_industry = 23.0 }

                set_variable = { global.building_motorized_input_resource_2@token:building_naval_industry = token:resource_electricity }
                set_variable = { global.building_motorized_input_amount_2@token:building_naval_industry = 16.0 }

                set_variable = { global.building_motorized_peasants_employment@token:building_naval_industry = 0.0 } #1x
                set_variable = { global.building_motorized_laborers_employment@token:building_naval_industry = 0.45 } #2x
                set_variable = { global.building_motorized_workers_employment@token:building_naval_industry = 2.5 } #5x
                set_variable = { global.building_motorized_professionals_employment@token:building_naval_industry = 0.5 } #10x
                set_variable = { global.building_motorized_specialists_employment@token:building_naval_industry = 0 } #20x
                set_variable = { global.building_motorized_aristocrats_employment@token:building_naval_industry = 0.0 } #30x
                set_variable = { global.building_motorized_capitalists_employment@token:building_naval_industry = 0.05 } #50x
            #
            #Modernized
                set_variable = { global.building_modernized_tech_unlock@token:building_naval_industry = token:modern_roundabouts }

                #Productivity: $8.3 /K
                set_variable = { global.building_modernized_output_1@token:building_naval_industry = 50 }
                set_variable = { global.building_modernized_output_shipping_capacity@token:building_naval_industry = 300 }

                set_variable = { global.building_modernized_construction_amount@token:building_naval_industry = 1656 }
                set_variable = { global.building_modernized_construction_speed@token:building_naval_industry = 46 }

                set_variable = { global.building_modernized_upgrade_amount@token:building_naval_industry = 36 }
                set_variable = { global.building_modernized_upgrade_speed@token:building_naval_industry = 6 }

                set_variable = { global.building_modernized_input_resource_1@token:building_naval_industry = token:resource_industrial_goods }
                set_variable = { global.building_modernized_input_amount_1@token:building_naval_industry = 31.0 }

                set_variable = { global.building_modernized_input_resource_2@token:building_naval_industry = token:resource_electricity }
                set_variable = { global.building_modernized_input_amount_2@token:building_naval_industry = 25.0 }

                set_variable = { global.building_modernized_peasants_employment@token:building_naval_industry = 0.0 } #1x
                set_variable = { global.building_modernized_laborers_employment@token:building_naval_industry = 0.0 } #2x
                set_variable = { global.building_modernized_workers_employment@token:building_naval_industry = 1.95 } #5x
                set_variable = { global.building_modernized_professionals_employment@token:building_naval_industry = 1.0 } #10x
                set_variable = { global.building_modernized_specialists_employment@token:building_naval_industry = 0 } #20x
                set_variable = { global.building_modernized_aristocrats_employment@token:building_naval_industry = 0.0 } #30x
                set_variable = { global.building_modernized_capitalists_employment@token:building_naval_industry = 0.05 } #50x
            #
            #Roboticized
                set_variable = { global.building_roboticized_tech_unlock@token:building_naval_industry = token:combined_transportation_networks }

                #Productivity: $11.2 /K
                set_variable = { global.building_roboticized_output_1@token:building_naval_industry = 55 }
                set_variable = { global.building_roboticized_output_shipping_capacity@token:building_naval_industry = 350 }

                set_variable = { global.building_roboticized_construction_amount@token:building_naval_industry = 2232 }
                set_variable = { global.building_roboticized_construction_speed@token:building_naval_industry = 62 }

                set_variable = { global.building_roboticized_upgrade_amount@token:building_naval_industry = 48 }
                set_variable = { global.building_roboticized_upgrade_speed@token:building_naval_industry = 8 }

                set_variable = { global.building_roboticized_input_resource_1@token:building_naval_industry = token:resource_industrial_goods }
                set_variable = { global.building_roboticized_input_amount_1@token:building_naval_industry = 36.0 }

                set_variable = { global.building_roboticized_input_resource_2@token:building_naval_industry = token:resource_electricity }
                set_variable = { global.building_roboticized_input_amount_2@token:building_naval_industry = 34.0 }

                set_variable = { global.building_roboticized_peasants_employment@token:building_naval_industry = 0.0 } #1x
                set_variable = { global.building_roboticized_laborers_employment@token:building_naval_industry = 0.0 } #2x
                set_variable = { global.building_roboticized_workers_employment@token:building_naval_industry = 1.45 } #5x
                set_variable = { global.building_roboticized_professionals_employment@token:building_naval_industry = 1.0 } #10x
                set_variable = { global.building_roboticized_specialists_employment@token:building_naval_industry = 0.0 } #20x
                set_variable = { global.building_roboticized_aristocrats_employment@token:building_naval_industry = 0.0 } #30x
                set_variable = { global.building_roboticized_capitalists_employment@token:building_naval_industry = 0.05 } #50x
            #
            #Computerized
                set_variable = { global.building_computerized_tech_unlock@token:building_naval_industry = token:centralized_traffic_controls }

                #Productivity: $13.0 /K
                set_variable = { global.building_computerized_output_1@token:building_naval_industry = 67 }
                set_variable = { global.building_computerized_output_shipping_capacity@token:building_naval_industry = 400 }

                set_variable = { global.building_computerized_construction_amount@token:building_naval_industry = 2880 }
                set_variable = { global.building_computerized_construction_speed@token:building_naval_industry = 80 }

                set_variable = { global.building_computerized_upgrade_amount@token:building_naval_industry = 60 }
                set_variable = { global.building_computerized_upgrade_speed@token:building_naval_industry = 10 }

                set_variable = { global.building_computerized_input_resource_1@token:building_naval_industry = token:resource_industrial_goods }
                set_variable = { global.building_computerized_input_amount_1@token:building_naval_industry = 49.0 }

                set_variable = { global.building_computerized_input_resource_2@token:building_naval_industry = token:resource_electricity }
                set_variable = { global.building_computerized_input_amount_2@token:building_naval_industry = 52.0 }

                set_variable = { global.building_computerized_peasants_employment@token:building_naval_industry = 0.0 } #1x
                set_variable = { global.building_computerized_laborers_employment@token:building_naval_industry = 0.0 } #2x
                set_variable = { global.building_computerized_workers_employment@token:building_naval_industry = 0.45 } #5x
                set_variable = { global.building_computerized_professionals_employment@token:building_naval_industry = 1.0 } #10x
                set_variable = { global.building_computerized_specialists_employment@token:building_naval_industry = 0.5 } #20x
                set_variable = { global.building_computerized_aristocrats_employment@token:building_naval_industry = 0.0 } #30x
                set_variable = { global.building_computerized_capitalists_employment@token:building_naval_industry = 0.05 } #50x
            #
            #Digitalized
                set_variable = { global.building_digitalized_tech_unlock@token:building_naval_industry = token:mass_transportation_networks }

                #Productivity: $16.5 /K
                set_variable = { global.building_digitalized_output_1@token:building_naval_industry = 95 }
                set_variable = { global.building_digitalized_output_shipping_capacity@token:building_naval_industry = 500 }

                set_variable = { global.building_digitalized_construction_amount@token:building_naval_industry = 4536 }
                set_variable = { global.building_digitalized_construction_speed@token:building_naval_industry = 126 }

                set_variable = { global.building_digitalized_upgrade_amount@token:building_naval_industry = 90 }
                set_variable = { global.building_digitalized_upgrade_speed@token:building_naval_industry = 15 }

                set_variable = { global.building_digitalized_input_resource_1@token:building_naval_industry = token:resource_industrial_goods }
                set_variable = { global.building_digitalized_input_amount_1@token:building_naval_industry = 75.0 }

                set_variable = { global.building_digitalized_input_resource_2@token:building_naval_industry = token:resource_electricity }
                set_variable = { global.building_digitalized_input_amount_2@token:building_naval_industry = 81.0 }

                set_variable = { global.building_digitalized_peasants_employment@token:building_naval_industry = 0.0 } #1x
                set_variable = { global.building_digitalized_laborers_employment@token:building_naval_industry = 0.0 } #2x
                set_variable = { global.building_digitalized_workers_employment@token:building_naval_industry = 0.0 } #5x
                set_variable = { global.building_digitalized_professionals_employment@token:building_naval_industry = 1.45 } #10x
                set_variable = { global.building_digitalized_specialists_employment@token:building_naval_industry = 0.5 } #20x
                set_variable = { global.building_digitalized_aristocrats_employment@token:building_naval_industry = 0.0 } #30x
                set_variable = { global.building_digitalized_capitalists_employment@token:building_naval_industry = 0.05 } #50x
            #
            #Automatized
                set_variable = { global.building_automatized_tech_unlock@token:building_naval_industry = token:early_automated_transportation }

                #Productivity: $20.0 /K
                set_variable = { global.building_automatized_output_1@token:building_naval_industry = 106 }
                set_variable = { global.building_automatized_output_shipping_capacity@token:building_naval_industry = 600 }

                set_variable = { global.building_automatized_construction_amount@token:building_naval_industry = 5256 }
                set_variable = { global.building_automatized_construction_speed@token:building_naval_industry = 146 }

                set_variable = { global.building_automatized_upgrade_amount@token:building_naval_industry = 120 }
                set_variable = { global.building_automatized_upgrade_speed@token:building_naval_industry = 20 }

                set_variable = { global.building_automatized_input_resource_1@token:building_naval_industry = token:resource_industrial_goods }
                set_variable = { global.building_automatized_input_amount_1@token:building_naval_industry = 96.0 }

                set_variable = { global.building_automatized_input_resource_2@token:building_naval_industry = token:resource_electricity }
                set_variable = { global.building_automatized_input_amount_2@token:building_naval_industry = 110.0 }

                set_variable = { global.building_automatized_peasants_employment@token:building_naval_industry = 0.0 } #1x
                set_variable = { global.building_automatized_laborers_employment@token:building_naval_industry = 0.0 } #2x
                set_variable = { global.building_automatized_workers_employment@token:building_naval_industry = 0.0 } #5x
                set_variable = { global.building_automatized_professionals_employment@token:building_naval_industry = 0.45 } #10x
                set_variable = { global.building_automatized_specialists_employment@token:building_naval_industry = 1.0 } #20x
                set_variable = { global.building_automatized_aristocrats_employment@token:building_naval_industry = 0.0 } #30x
                set_variable = { global.building_automatized_capitalists_employment@token:building_naval_industry = 0.05 } #50x
            #
            #Futurized
                set_variable = { global.building_futurized_tech_unlock@token:building_naval_industry = token:fully_automated_transportation }

                #Productivity: $27.0 /K
                set_variable = { global.building_futurized_output_1@token:building_naval_industry = 101 }
                set_variable = { global.building_futurized_output_shipping_capacity@token:building_naval_industry = 800 }

                set_variable = { global.building_futurized_construction_amount@token:building_naval_industry = 5976 }
                set_variable = { global.building_futurized_construction_speed@token:building_naval_industry = 166 }

                set_variable = { global.building_futurized_input_resource_1@token:building_naval_industry = token:resource_industrial_goods }
                set_variable = { global.building_futurized_input_amount_1@token:building_naval_industry = 86.0 }

                set_variable = { global.building_futurized_input_resource_2@token:building_naval_industry = token:resource_electricity }
                set_variable = { global.building_futurized_input_amount_2@token:building_naval_industry = 121.0 }

                set_variable = { global.building_futurized_peasants_employment@token:building_naval_industry = 0.0 } #1x
                set_variable = { global.building_futurized_laborers_employment@token:building_naval_industry = 0.0 } #2x
                set_variable = { global.building_futurized_workers_employment@token:building_naval_industry = 0.0 } #5x
                set_variable = { global.building_futurized_professionals_employment@token:building_naval_industry = 0.0 } #10x
                set_variable = { global.building_futurized_specialists_employment@token:building_naval_industry = 0.95 } #20x
                set_variable = { global.building_futurized_aristocrats_employment@token:building_naval_industry = 0.0 } #30x
                set_variable = { global.building_futurized_capitalists_employment@token:building_naval_industry = 0.05 } #50x
            #
        }

        define_consumer_goods_factory = {
            set_variable = { global.building_output_resource_1@token:building_consumer_goods_factory = token:resource_consumer_goods }

            set_variable = { global.building_industrial_capacity_use@token:building_consumer_goods_factory = 2 }

            #Basic
                set_variable = { global.building_basic_tech_unlock@token:building_consumer_goods_factory = 1 }

                set_variable = { global.building_basic_construction_amount@token:building_consumer_goods_factory = 108 }
                set_variable = { global.building_basic_construction_speed@token:building_consumer_goods_factory = 3 }

                set_variable = { global.building_basic_upgrade_amount@token:building_consumer_goods_factory = 6 }
                set_variable = { global.building_basic_upgrade_speed@token:building_consumer_goods_factory = 1 }

                #Productivity: $1.7 /K
                set_variable = { global.building_basic_output_1@token:building_consumer_goods_factory = 28.5 }

                set_variable = { global.building_basic_input_resource_1@token:building_consumer_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_basic_input_amount_1@token:building_consumer_goods_factory = 1.0 }

                set_variable = { global.building_basic_input_resource_2@token:building_consumer_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_basic_input_amount_2@token:building_consumer_goods_factory = 14.0 }

                set_variable = { global.building_basic_peasants_employment@token:building_consumer_goods_factory = 0.0 } #1x
                set_variable = { global.building_basic_laborers_employment@token:building_consumer_goods_factory = 9.9 } #2x
                set_variable = { global.building_basic_workers_employment@token:building_consumer_goods_factory = 0.0 } #5x
                set_variable = { global.building_basic_professionals_employment@token:building_consumer_goods_factory = 0 } #10x
                set_variable = { global.building_basic_specialists_employment@token:building_consumer_goods_factory = 0 } #20x
                set_variable = { global.building_basic_aristocrats_employment@token:building_consumer_goods_factory = 0.05 } #30x
                set_variable = { global.building_basic_capitalists_employment@token:building_consumer_goods_factory = 0.05 } #50x
            #
            #Advanced
                set_variable = { global.building_advanced_tech_unlock@token:building_consumer_goods_factory = token:manufactories }

                #Productivity: $2.2 /K
                set_variable = { global.building_advanced_output_1@token:building_consumer_goods_factory = 40 }

                set_variable = { global.building_advanced_construction_amount@token:building_consumer_goods_factory = 180 }
                set_variable = { global.building_advanced_construction_speed@token:building_consumer_goods_factory = 5 }

                set_variable = { global.building_advanced_upgrade_amount@token:building_consumer_goods_factory = 9 }
                set_variable = { global.building_advanced_upgrade_speed@token:building_consumer_goods_factory = 1.5 }

                set_variable = { global.building_advanced_input_resource_1@token:building_consumer_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_advanced_input_amount_1@token:building_consumer_goods_factory = 2.0 }

                set_variable = { global.building_advanced_input_resource_2@token:building_consumer_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_advanced_input_amount_2@token:building_consumer_goods_factory = 29.0 }

                set_variable = { global.building_advanced_peasants_employment@token:building_consumer_goods_factory = 0.0 } #1x
                set_variable = { global.building_advanced_laborers_employment@token:building_consumer_goods_factory = 7.4 } #2x
                set_variable = { global.building_advanced_workers_employment@token:building_consumer_goods_factory = 2.5 } #5x
                set_variable = { global.building_advanced_professionals_employment@token:building_consumer_goods_factory = 0 } #10x
                set_variable = { global.building_advanced_specialists_employment@token:building_consumer_goods_factory = 0 } #20x
                set_variable = { global.building_advanced_aristocrats_employment@token:building_consumer_goods_factory = 0.05 } #30x
                set_variable = { global.building_advanced_capitalists_employment@token:building_consumer_goods_factory = 0.05 } #50x
            #
            #Industrialized
                set_variable = { global.building_industrialized_tech_unlock@token:building_consumer_goods_factory = token:corliss_steam_engine }

                #Productivity: $3.0 /K
                set_variable = { global.building_industrialized_output_1@token:building_consumer_goods_factory = 66 }

                set_variable = { global.building_industrialized_construction_amount@token:building_consumer_goods_factory = 324 }
                set_variable = { global.building_industrialized_construction_speed@token:building_consumer_goods_factory = 9 }

                set_variable = { global.building_industrialized_upgrade_amount@token:building_consumer_goods_factory = 12 }
                set_variable = { global.building_industrialized_upgrade_speed@token:building_consumer_goods_factory = 2 }

                set_variable = { global.building_industrialized_input_resource_1@token:building_consumer_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_industrialized_input_amount_1@token:building_consumer_goods_factory = 6.0 }

                set_variable = { global.building_industrialized_input_resource_2@token:building_consumer_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_industrialized_input_amount_2@token:building_consumer_goods_factory = 50.0 }

                set_variable = { global.building_industrialized_input_resource_3@token:building_consumer_goods_factory = token:resource_energy_materials }
                set_variable = { global.building_industrialized_input_amount_3@token:building_consumer_goods_factory = 9.0 }

                set_variable = { global.building_industrialized_peasants_employment@token:building_consumer_goods_factory = 0.0 } #1x
                set_variable = { global.building_industrialized_laborers_employment@token:building_consumer_goods_factory = 6.4 } #2x
                set_variable = { global.building_industrialized_workers_employment@token:building_consumer_goods_factory = 2.5 } #5x
                set_variable = { global.building_industrialized_professionals_employment@token:building_consumer_goods_factory = 0 } #10x
                set_variable = { global.building_industrialized_specialists_employment@token:building_consumer_goods_factory = 0 } #20x
                set_variable = { global.building_industrialized_aristocrats_employment@token:building_consumer_goods_factory = 0 } #30x
                set_variable = { global.building_industrialized_capitalists_employment@token:building_consumer_goods_factory = 0.1 } #50x
            #
            #Mechanized
                set_variable = { global.building_mechanized_tech_unlock@token:building_consumer_goods_factory = token:mechanical_production_2 }

                #Productivity: $4.0 /K
                set_variable = { global.building_mechanized_output_1@token:building_consumer_goods_factory = 72 }

                set_variable = { global.building_mechanized_construction_amount@token:building_consumer_goods_factory = 396 }
                set_variable = { global.building_mechanized_construction_speed@token:building_consumer_goods_factory = 11 }

                set_variable = { global.building_mechanized_upgrade_amount@token:building_consumer_goods_factory = 15 }
                set_variable = { global.building_mechanized_upgrade_speed@token:building_consumer_goods_factory = 2.5 }

                set_variable = { global.building_mechanized_input_resource_1@token:building_consumer_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_mechanized_input_amount_1@token:building_consumer_goods_factory = 8.0 }

                set_variable = { global.building_mechanized_input_resource_2@token:building_consumer_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_mechanized_input_amount_2@token:building_consumer_goods_factory = 52.0 }

                set_variable = { global.building_mechanized_input_resource_3@token:building_consumer_goods_factory = token:resource_energy_materials }
                set_variable = { global.building_mechanized_input_amount_3@token:building_consumer_goods_factory = 15.0 }

                set_variable = { global.building_mechanized_peasants_employment@token:building_consumer_goods_factory = 0.0 } #1x
                set_variable = { global.building_mechanized_laborers_employment@token:building_consumer_goods_factory = 3.9 } #2x
                set_variable = { global.building_mechanized_workers_employment@token:building_consumer_goods_factory = 3.5 } #5x
                set_variable = { global.building_mechanized_professionals_employment@token:building_consumer_goods_factory = 0 } #10x
                set_variable = { global.building_mechanized_specialists_employment@token:building_consumer_goods_factory = 0 } #20x
                set_variable = { global.building_mechanized_aristocrats_employment@token:building_consumer_goods_factory = 0.0 } #30x
                set_variable = { global.building_mechanized_capitalists_employment@token:building_consumer_goods_factory = 0.1 } #50x
            #
            #Electrified
                set_variable = { global.building_electrified_tech_unlock@token:building_consumer_goods_factory = token:better_incandescent_lightbulb }

                #Productivity: $5.5 /K
                set_variable = { global.building_electrified_output_1@token:building_consumer_goods_factory = 85 }

                set_variable = { global.building_electrified_construction_amount@token:building_consumer_goods_factory = 540 }
                set_variable = { global.building_electrified_construction_speed@token:building_consumer_goods_factory = 15 }

                set_variable = { global.building_electrified_upgrade_amount@token:building_consumer_goods_factory = 18 }
                set_variable = { global.building_electrified_upgrade_speed@token:building_consumer_goods_factory = 3 }

                set_variable = { global.building_electrified_input_resource_1@token:building_consumer_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_electrified_input_amount_1@token:building_consumer_goods_factory = 12.0 }

                set_variable = { global.building_electrified_input_resource_2@token:building_consumer_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_electrified_input_amount_2@token:building_consumer_goods_factory = 67.0 }

                set_variable = { global.building_electrified_input_resource_3@token:building_consumer_goods_factory = token:resource_energy_materials }
                set_variable = { global.building_electrified_input_amount_3@token:building_consumer_goods_factory = 15.0 }

                set_variable = { global.building_electrified_input_resource_4@token:building_consumer_goods_factory = token:resource_electricity }
                set_variable = { global.building_electrified_input_amount_4@token:building_consumer_goods_factory = 10.0 }

                set_variable = { global.building_electrified_peasants_employment@token:building_consumer_goods_factory = 0.0 } #1x
                set_variable = { global.building_electrified_laborers_employment@token:building_consumer_goods_factory = 1.4 } #2x
                set_variable = { global.building_electrified_workers_employment@token:building_consumer_goods_factory = 4.5 } #5x
                set_variable = { global.building_electrified_professionals_employment@token:building_consumer_goods_factory = 0.5 } #10x
                set_variable = { global.building_electrified_specialists_employment@token:building_consumer_goods_factory = 0 } #20x
                set_variable = { global.building_electrified_aristocrats_employment@token:building_consumer_goods_factory = 0.0 } #30x
                set_variable = { global.building_electrified_capitalists_employment@token:building_consumer_goods_factory = 0.1 } #50x
            #
            #Motorized
                set_variable = { global.building_motorized_tech_unlock@token:building_consumer_goods_factory = token:factory_industry_6 }

                #Productivity: $7.2 /K
                set_variable = { global.building_motorized_output_1@token:building_consumer_goods_factory = 90 }

                set_variable = { global.building_motorized_construction_amount@token:building_consumer_goods_factory = 648 }
                set_variable = { global.building_motorized_construction_speed@token:building_consumer_goods_factory = 18 }

                set_variable = { global.building_motorized_upgrade_amount@token:building_consumer_goods_factory = 24 }
                set_variable = { global.building_motorized_upgrade_speed@token:building_consumer_goods_factory = 4 }

                set_variable = { global.building_motorized_input_resource_1@token:building_consumer_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_motorized_input_amount_1@token:building_consumer_goods_factory = 14.0 }

                set_variable = { global.building_motorized_input_resource_2@token:building_consumer_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_motorized_input_amount_2@token:building_consumer_goods_factory = 75.0 }

                set_variable = { global.building_motorized_input_resource_3@token:building_consumer_goods_factory = token:resource_electricity }
                set_variable = { global.building_motorized_input_amount_3@token:building_consumer_goods_factory = 30.0 }

                set_variable = { global.building_motorized_peasants_employment@token:building_consumer_goods_factory = 0.0 } #1x
                set_variable = { global.building_motorized_laborers_employment@token:building_consumer_goods_factory = 0.0 } #2x
                set_variable = { global.building_motorized_workers_employment@token:building_consumer_goods_factory = 3.9 } #5x
                set_variable = { global.building_motorized_professionals_employment@token:building_consumer_goods_factory = 2.0 } #10x
                set_variable = { global.building_motorized_specialists_employment@token:building_consumer_goods_factory = 0 } #20x
                set_variable = { global.building_motorized_aristocrats_employment@token:building_consumer_goods_factory = 0.0 } #30x
                set_variable = { global.building_motorized_capitalists_employment@token:building_consumer_goods_factory = 0.1 } #50x
            #
            #Modernized
                set_variable = { global.building_modernized_tech_unlock@token:building_consumer_goods_factory = token:modern_powered_assembly_lines }

                #Productivity: $9.8 /K
                set_variable = { global.building_modernized_output_1@token:building_consumer_goods_factory = 113 }

                set_variable = { global.building_modernized_construction_amount@token:building_consumer_goods_factory = 828 }
                set_variable = { global.building_modernized_construction_speed@token:building_consumer_goods_factory = 23 }

                set_variable = { global.building_modernized_upgrade_amount@token:building_consumer_goods_factory = 36 }
                set_variable = { global.building_modernized_upgrade_speed@token:building_consumer_goods_factory = 6 }

                set_variable = { global.building_modernized_input_resource_1@token:building_consumer_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_modernized_input_amount_1@token:building_consumer_goods_factory = 18.0 }

                set_variable = { global.building_modernized_input_resource_2@token:building_consumer_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_modernized_input_amount_2@token:building_consumer_goods_factory = 102.0 }

                set_variable = { global.building_modernized_input_resource_3@token:building_consumer_goods_factory = token:resource_electricity }
                set_variable = { global.building_modernized_input_amount_3@token:building_consumer_goods_factory = 40.0 }

                set_variable = { global.building_modernized_peasants_employment@token:building_consumer_goods_factory = 0.0 } #1x
                set_variable = { global.building_modernized_laborers_employment@token:building_consumer_goods_factory = 0.0 } #2x
                set_variable = { global.building_modernized_workers_employment@token:building_consumer_goods_factory = 2.4 } #5x
                set_variable = { global.building_modernized_professionals_employment@token:building_consumer_goods_factory = 2.5 } #10x
                set_variable = { global.building_modernized_specialists_employment@token:building_consumer_goods_factory = 0 } #20x
                set_variable = { global.building_modernized_aristocrats_employment@token:building_consumer_goods_factory = 0.0 } #30x
                set_variable = { global.building_modernized_capitalists_employment@token:building_consumer_goods_factory = 0.1 } #50x
            #
            #Roboticized
                set_variable = { global.building_roboticized_tech_unlock@token:building_consumer_goods_factory = token:scara_systems }

                #Productivity: $12.4 /K
                set_variable = { global.building_roboticized_output_1@token:building_consumer_goods_factory = 124 }

                set_variable = { global.building_roboticized_construction_amount@token:building_consumer_goods_factory = 1116 }
                set_variable = { global.building_roboticized_construction_speed@token:building_consumer_goods_factory = 31 }

                set_variable = { global.building_roboticized_upgrade_amount@token:building_consumer_goods_factory = 48 }
                set_variable = { global.building_roboticized_upgrade_speed@token:building_consumer_goods_factory = 8 }

                set_variable = { global.building_roboticized_input_resource_1@token:building_consumer_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_roboticized_input_amount_1@token:building_consumer_goods_factory = 25.0 }

                set_variable = { global.building_roboticized_input_resource_2@token:building_consumer_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_roboticized_input_amount_2@token:building_consumer_goods_factory = 120.0 }

                set_variable = { global.building_roboticized_input_resource_3@token:building_consumer_goods_factory = token:resource_electricity }
                set_variable = { global.building_roboticized_input_amount_3@token:building_consumer_goods_factory = 60.0 }

                set_variable = { global.building_roboticized_peasants_employment@token:building_consumer_goods_factory = 0.0 } #1x
                set_variable = { global.building_roboticized_laborers_employment@token:building_consumer_goods_factory = 0.0 } #2x
                set_variable = { global.building_roboticized_workers_employment@token:building_consumer_goods_factory = 0.9 } #5x
                set_variable = { global.building_roboticized_professionals_employment@token:building_consumer_goods_factory = 3.0 } #10x
                set_variable = { global.building_roboticized_specialists_employment@token:building_consumer_goods_factory = 0.5 } #20x
                set_variable = { global.building_roboticized_aristocrats_employment@token:building_consumer_goods_factory = 0.0 } #30x
                set_variable = { global.building_roboticized_capitalists_employment@token:building_consumer_goods_factory = 0.1 } #50x
            #
            #Computerized
                set_variable = { global.building_computerized_tech_unlock@token:building_consumer_goods_factory = token:advanced_industrial_robotics }

                #Productivity: $16.5 /K
                set_variable = { global.building_computerized_output_1@token:building_consumer_goods_factory = 146 }

                set_variable = { global.building_computerized_construction_amount@token:building_consumer_goods_factory = 1440 }
                set_variable = { global.building_computerized_construction_speed@token:building_consumer_goods_factory = 40 }

                set_variable = { global.building_computerized_upgrade_amount@token:building_consumer_goods_factory = 60 }
                set_variable = { global.building_computerized_upgrade_speed@token:building_consumer_goods_factory = 10 }

                set_variable = { global.building_computerized_input_resource_1@token:building_consumer_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_computerized_input_amount_1@token:building_consumer_goods_factory = 36.0 }

                set_variable = { global.building_computerized_input_resource_2@token:building_consumer_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_computerized_input_amount_2@token:building_consumer_goods_factory = 160.0 }

                set_variable = { global.building_computerized_input_resource_3@token:building_consumer_goods_factory = token:resource_electricity }
                set_variable = { global.building_computerized_input_amount_3@token:building_consumer_goods_factory = 80.0 }

                set_variable = { global.building_computerized_peasants_employment@token:building_consumer_goods_factory = 0.0 } #1x
                set_variable = { global.building_computerized_laborers_employment@token:building_consumer_goods_factory = 0.0 } #2x
                set_variable = { global.building_computerized_workers_employment@token:building_consumer_goods_factory = 0.0 } #5x
                set_variable = { global.building_computerized_professionals_employment@token:building_consumer_goods_factory = 2.4 } #10x
                set_variable = { global.building_computerized_specialists_employment@token:building_consumer_goods_factory = 1.0 } #20x
                set_variable = { global.building_computerized_aristocrats_employment@token:building_consumer_goods_factory = 0.0 } #30x
                set_variable = { global.building_computerized_capitalists_employment@token:building_consumer_goods_factory = 0.1 } #50x
            #
            #Digitalized
                set_variable = { global.building_digitalized_tech_unlock@token:building_consumer_goods_factory = token:industrial_3d_printing }

                #Productivity: $20.0 /K
                set_variable = { global.building_digitalized_output_1@token:building_consumer_goods_factory = 207 }

                set_variable = { global.building_digitalized_construction_amount@token:building_consumer_goods_factory = 2268 }
                set_variable = { global.building_digitalized_construction_speed@token:building_consumer_goods_factory = 63 }

                set_variable = { global.building_digitalized_upgrade_amount@token:building_consumer_goods_factory = 90 }
                set_variable = { global.building_digitalized_upgrade_speed@token:building_consumer_goods_factory = 15 }

                set_variable = { global.building_digitalized_input_resource_1@token:building_consumer_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_digitalized_input_amount_1@token:building_consumer_goods_factory = 50.0 }

                set_variable = { global.building_digitalized_input_resource_2@token:building_consumer_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_digitalized_input_amount_2@token:building_consumer_goods_factory = 200.0 }

                set_variable = { global.building_digitalized_input_resource_3@token:building_consumer_goods_factory = token:resource_electricity }
                set_variable = { global.building_digitalized_input_amount_3@token:building_consumer_goods_factory = 110.0 }

                set_variable = { global.building_digitalized_peasants_employment@token:building_consumer_goods_factory = 0.0 } #1x
                set_variable = { global.building_digitalized_laborers_employment@token:building_consumer_goods_factory = 0.0 } #2x
                set_variable = { global.building_digitalized_workers_employment@token:building_consumer_goods_factory = 0.0 } #5x
                set_variable = { global.building_digitalized_professionals_employment@token:building_consumer_goods_factory = 1.9 } #10x
                set_variable = { global.building_digitalized_specialists_employment@token:building_consumer_goods_factory = 1.5 } #20x
                set_variable = { global.building_digitalized_aristocrats_employment@token:building_consumer_goods_factory = 0.0 } #30x
                set_variable = { global.building_digitalized_capitalists_employment@token:building_consumer_goods_factory = 0.1 } #50x
            #
            #Automatized
                set_variable = { global.building_automatized_tech_unlock@token:building_consumer_goods_factory = token:mass_scale_industrial_3d_printing }

                #Productivity: $28.0 /K
                set_variable = { global.building_automatized_output_1@token:building_consumer_goods_factory = 221 }

                set_variable = { global.building_automatized_construction_amount@token:building_consumer_goods_factory = 2628 }
                set_variable = { global.building_automatized_construction_speed@token:building_consumer_goods_factory = 73 }

                set_variable = { global.building_automatized_upgrade_amount@token:building_consumer_goods_factory = 120 }
                set_variable = { global.building_automatized_upgrade_speed@token:building_consumer_goods_factory = 20 }

                set_variable = { global.building_automatized_input_resource_1@token:building_consumer_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_automatized_input_amount_1@token:building_consumer_goods_factory = 80.0 }

                set_variable = { global.building_automatized_input_resource_2@token:building_consumer_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_automatized_input_amount_2@token:building_consumer_goods_factory = 240.0 }

                set_variable = { global.building_automatized_input_resource_3@token:building_consumer_goods_factory = token:resource_electricity }
                set_variable = { global.building_automatized_input_amount_3@token:building_consumer_goods_factory = 180.0 }

                set_variable = { global.building_automatized_peasants_employment@token:building_consumer_goods_factory = 0.0 } #1x
                set_variable = { global.building_automatized_laborers_employment@token:building_consumer_goods_factory = 0.0 } #2x
                set_variable = { global.building_automatized_workers_employment@token:building_consumer_goods_factory = 0.0 } #5x
                set_variable = { global.building_automatized_professionals_employment@token:building_consumer_goods_factory = 0.4 } #10x
                set_variable = { global.building_automatized_specialists_employment@token:building_consumer_goods_factory = 2.0 } #20x
                set_variable = { global.building_automatized_aristocrats_employment@token:building_consumer_goods_factory = 0.0 } #30x
                set_variable = { global.building_automatized_capitalists_employment@token:building_consumer_goods_factory = 0.1 } #50x
            #
            #Futurized
                set_variable = { global.building_futurized_tech_unlock@token:building_consumer_goods_factory = token:automated_industrial_3d_printing }

                #Productivity: $32.0 /K
                set_variable = { global.building_futurized_output_1@token:building_consumer_goods_factory = 250 }

                set_variable = { global.building_futurized_construction_amount@token:building_consumer_goods_factory = 2988 }
                set_variable = { global.building_futurized_construction_speed@token:building_consumer_goods_factory = 83 }

                set_variable = { global.building_futurized_input_resource_1@token:building_consumer_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_futurized_input_amount_1@token:building_consumer_goods_factory = 90.0 }

                set_variable = { global.building_futurized_input_resource_2@token:building_consumer_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_futurized_input_amount_2@token:building_consumer_goods_factory = 270.0 }

                set_variable = { global.building_futurized_input_resource_3@token:building_consumer_goods_factory = token:resource_electricity }
                set_variable = { global.building_futurized_input_amount_3@token:building_consumer_goods_factory = 220.0 }

                set_variable = { global.building_futurized_peasants_employment@token:building_consumer_goods_factory = 0.0 } #1x
                set_variable = { global.building_futurized_laborers_employment@token:building_consumer_goods_factory = 0.0 } #2x
                set_variable = { global.building_futurized_workers_employment@token:building_consumer_goods_factory = 0.0 } #5x
                set_variable = { global.building_futurized_professionals_employment@token:building_consumer_goods_factory = 0.0 } #10x
                set_variable = { global.building_futurized_specialists_employment@token:building_consumer_goods_factory = 1.9 } #20x
                set_variable = { global.building_futurized_aristocrats_employment@token:building_consumer_goods_factory = 0.0 } #30x
                set_variable = { global.building_futurized_capitalists_employment@token:building_consumer_goods_factory = 0.1 } #50x
            #
        }
        define_luxury_goods_factory = {
            set_variable = { global.building_output_resource_1@token:building_luxury_goods_factory = token:resource_luxury_goods }

            set_variable = { global.building_industrial_capacity_use@token:building_luxury_goods_factory = 2 }

            #Basic
                set_variable = { global.building_basic_tech_unlock@token:building_luxury_goods_factory = 1 }

                set_variable = { global.building_basic_construction_amount@token:building_luxury_goods_factory = 108 }
                set_variable = { global.building_basic_construction_speed@token:building_luxury_goods_factory = 3 }

                set_variable = { global.building_basic_upgrade_amount@token:building_luxury_goods_factory = 6 }
                set_variable = { global.building_basic_upgrade_speed@token:building_luxury_goods_factory = 1 }

                #Productivity: $1.7 /K
                set_variable = { global.building_basic_output_1@token:building_luxury_goods_factory = 14.25 }

                set_variable = { global.building_basic_input_resource_1@token:building_luxury_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_basic_input_amount_1@token:building_luxury_goods_factory = 1.0 }

                set_variable = { global.building_basic_input_resource_2@token:building_luxury_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_basic_input_amount_2@token:building_luxury_goods_factory = 14.0 }

                set_variable = { global.building_basic_peasants_employment@token:building_luxury_goods_factory = 0.0 } #1x
                set_variable = { global.building_basic_laborers_employment@token:building_luxury_goods_factory = 9.9 } #2x
                set_variable = { global.building_basic_workers_employment@token:building_luxury_goods_factory = 0.0 } #5x
                set_variable = { global.building_basic_professionals_employment@token:building_luxury_goods_factory = 0 } #10x
                set_variable = { global.building_basic_specialists_employment@token:building_luxury_goods_factory = 0 } #20x
                set_variable = { global.building_basic_aristocrats_employment@token:building_luxury_goods_factory = 0.05 } #30x
                set_variable = { global.building_basic_capitalists_employment@token:building_luxury_goods_factory = 0.05 } #50x
            #
            #Advanced
                set_variable = { global.building_advanced_tech_unlock@token:building_luxury_goods_factory = token:manufactories }

                #Productivity: $2.2 /K
                set_variable = { global.building_advanced_output_1@token:building_luxury_goods_factory = 20 }

                set_variable = { global.building_advanced_construction_amount@token:building_luxury_goods_factory = 180 }
                set_variable = { global.building_advanced_construction_speed@token:building_luxury_goods_factory = 5 }

                set_variable = { global.building_advanced_upgrade_amount@token:building_luxury_goods_factory = 9 }
                set_variable = { global.building_advanced_upgrade_speed@token:building_luxury_goods_factory = 1.5 }

                set_variable = { global.building_advanced_input_resource_1@token:building_luxury_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_advanced_input_amount_1@token:building_luxury_goods_factory = 2.0 }

                set_variable = { global.building_advanced_input_resource_2@token:building_luxury_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_advanced_input_amount_2@token:building_luxury_goods_factory = 29.0 }

                set_variable = { global.building_advanced_peasants_employment@token:building_luxury_goods_factory = 0.0 } #1x
                set_variable = { global.building_advanced_laborers_employment@token:building_luxury_goods_factory = 7.4 } #2x
                set_variable = { global.building_advanced_workers_employment@token:building_luxury_goods_factory = 2.5 } #5x
                set_variable = { global.building_advanced_professionals_employment@token:building_luxury_goods_factory = 0 } #10x
                set_variable = { global.building_advanced_specialists_employment@token:building_luxury_goods_factory = 0 } #20x
                set_variable = { global.building_advanced_aristocrats_employment@token:building_luxury_goods_factory = 0.05 } #30x
                set_variable = { global.building_advanced_capitalists_employment@token:building_luxury_goods_factory = 0.05 } #50x
            #
            #Industrialized
                set_variable = { global.building_industrialized_tech_unlock@token:building_luxury_goods_factory = token:corliss_steam_engine }

                #Productivity: $3.0 /K
                set_variable = { global.building_industrialized_output_1@token:building_luxury_goods_factory = 33 }

                set_variable = { global.building_industrialized_construction_amount@token:building_luxury_goods_factory = 324 }
                set_variable = { global.building_industrialized_construction_speed@token:building_luxury_goods_factory = 9 }

                set_variable = { global.building_industrialized_upgrade_amount@token:building_luxury_goods_factory = 12 }
                set_variable = { global.building_industrialized_upgrade_speed@token:building_luxury_goods_factory = 2 }

                set_variable = { global.building_industrialized_input_resource_1@token:building_luxury_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_industrialized_input_amount_1@token:building_luxury_goods_factory = 6.0 }

                set_variable = { global.building_industrialized_input_resource_2@token:building_luxury_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_industrialized_input_amount_2@token:building_luxury_goods_factory = 50.0 }

                set_variable = { global.building_industrialized_input_resource_3@token:building_luxury_goods_factory = token:resource_energy_materials }
                set_variable = { global.building_industrialized_input_amount_3@token:building_luxury_goods_factory = 9.0 }

                set_variable = { global.building_industrialized_peasants_employment@token:building_luxury_goods_factory = 0.0 } #1x
                set_variable = { global.building_industrialized_laborers_employment@token:building_luxury_goods_factory = 6.4 } #2x
                set_variable = { global.building_industrialized_workers_employment@token:building_luxury_goods_factory = 2.5 } #5x
                set_variable = { global.building_industrialized_professionals_employment@token:building_luxury_goods_factory = 0 } #10x
                set_variable = { global.building_industrialized_specialists_employment@token:building_luxury_goods_factory = 0 } #20x
                set_variable = { global.building_industrialized_aristocrats_employment@token:building_luxury_goods_factory = 0 } #30x
                set_variable = { global.building_industrialized_capitalists_employment@token:building_luxury_goods_factory = 0.1 } #50x
            #
            #Mechanized
                set_variable = { global.building_mechanized_tech_unlock@token:building_luxury_goods_factory = token:mechanical_production_2 }

                #Productivity: $4.0 /K
                set_variable = { global.building_mechanized_output_1@token:building_luxury_goods_factory = 36 }

                set_variable = { global.building_mechanized_construction_amount@token:building_luxury_goods_factory = 396 }
                set_variable = { global.building_mechanized_construction_speed@token:building_luxury_goods_factory = 11 }

                set_variable = { global.building_mechanized_upgrade_amount@token:building_luxury_goods_factory = 15 }
                set_variable = { global.building_mechanized_upgrade_speed@token:building_luxury_goods_factory = 2.5 }

                set_variable = { global.building_mechanized_input_resource_1@token:building_luxury_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_mechanized_input_amount_1@token:building_luxury_goods_factory = 8.0 }

                set_variable = { global.building_mechanized_input_resource_2@token:building_luxury_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_mechanized_input_amount_2@token:building_luxury_goods_factory = 52.0 }

                set_variable = { global.building_mechanized_input_resource_3@token:building_luxury_goods_factory = token:resource_energy_materials }
                set_variable = { global.building_mechanized_input_amount_3@token:building_luxury_goods_factory = 15.0 }

                set_variable = { global.building_mechanized_peasants_employment@token:building_luxury_goods_factory = 0.0 } #1x
                set_variable = { global.building_mechanized_laborers_employment@token:building_luxury_goods_factory = 3.9 } #2x
                set_variable = { global.building_mechanized_workers_employment@token:building_luxury_goods_factory = 3.5 } #5x
                set_variable = { global.building_mechanized_professionals_employment@token:building_luxury_goods_factory = 0 } #10x
                set_variable = { global.building_mechanized_specialists_employment@token:building_luxury_goods_factory = 0 } #20x
                set_variable = { global.building_mechanized_aristocrats_employment@token:building_luxury_goods_factory = 0.0 } #30x
                set_variable = { global.building_mechanized_capitalists_employment@token:building_luxury_goods_factory = 0.1 } #50x
            #
            #Electrified
                set_variable = { global.building_electrified_tech_unlock@token:building_luxury_goods_factory = token:better_incandescent_lightbulb }

                #Productivity: $5.5 /K
                set_variable = { global.building_electrified_output_1@token:building_luxury_goods_factory = 43 }

                set_variable = { global.building_electrified_construction_amount@token:building_luxury_goods_factory = 540 }
                set_variable = { global.building_electrified_construction_speed@token:building_luxury_goods_factory = 15 }

                set_variable = { global.building_electrified_upgrade_amount@token:building_luxury_goods_factory = 18 }
                set_variable = { global.building_electrified_upgrade_speed@token:building_luxury_goods_factory = 3 }

                set_variable = { global.building_electrified_input_resource_1@token:building_luxury_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_electrified_input_amount_1@token:building_luxury_goods_factory = 12.0 }

                set_variable = { global.building_electrified_input_resource_2@token:building_luxury_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_electrified_input_amount_2@token:building_luxury_goods_factory = 67.0 }

                set_variable = { global.building_electrified_input_resource_3@token:building_luxury_goods_factory = token:resource_energy_materials }
                set_variable = { global.building_electrified_input_amount_3@token:building_luxury_goods_factory = 15.0 }

                set_variable = { global.building_electrified_input_resource_4@token:building_luxury_goods_factory = token:resource_electricity }
                set_variable = { global.building_electrified_input_amount_4@token:building_luxury_goods_factory = 10.0 }

                set_variable = { global.building_electrified_peasants_employment@token:building_luxury_goods_factory = 0.0 } #1x
                set_variable = { global.building_electrified_laborers_employment@token:building_luxury_goods_factory = 1.4 } #2x
                set_variable = { global.building_electrified_workers_employment@token:building_luxury_goods_factory = 4.5 } #5x
                set_variable = { global.building_electrified_professionals_employment@token:building_luxury_goods_factory = 0.5 } #10x
                set_variable = { global.building_electrified_specialists_employment@token:building_luxury_goods_factory = 0 } #20x
                set_variable = { global.building_electrified_aristocrats_employment@token:building_luxury_goods_factory = 0.0 } #30x
                set_variable = { global.building_electrified_capitalists_employment@token:building_luxury_goods_factory = 0.1 } #50x
            #
            #Motorized
                set_variable = { global.building_motorized_tech_unlock@token:building_luxury_goods_factory = token:factory_industry_6 }

                #Productivity: $7.2 /K
                set_variable = { global.building_motorized_output_1@token:building_luxury_goods_factory = 45 }

                set_variable = { global.building_motorized_construction_amount@token:building_luxury_goods_factory = 648 }
                set_variable = { global.building_motorized_construction_speed@token:building_luxury_goods_factory = 18 }

                set_variable = { global.building_motorized_upgrade_amount@token:building_luxury_goods_factory = 24 }
                set_variable = { global.building_motorized_upgrade_speed@token:building_luxury_goods_factory = 4 }

                set_variable = { global.building_motorized_input_resource_1@token:building_luxury_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_motorized_input_amount_1@token:building_luxury_goods_factory = 14.0 }

                set_variable = { global.building_motorized_input_resource_2@token:building_luxury_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_motorized_input_amount_2@token:building_luxury_goods_factory = 75.0 }

                set_variable = { global.building_motorized_input_resource_3@token:building_luxury_goods_factory = token:resource_electricity }
                set_variable = { global.building_motorized_input_amount_3@token:building_luxury_goods_factory = 30.0 }

                set_variable = { global.building_motorized_peasants_employment@token:building_luxury_goods_factory = 0.0 } #1x
                set_variable = { global.building_motorized_laborers_employment@token:building_luxury_goods_factory = 0.0 } #2x
                set_variable = { global.building_motorized_workers_employment@token:building_luxury_goods_factory = 3.9 } #5x
                set_variable = { global.building_motorized_professionals_employment@token:building_luxury_goods_factory = 2.0 } #10x
                set_variable = { global.building_motorized_specialists_employment@token:building_luxury_goods_factory = 0 } #20x
                set_variable = { global.building_motorized_aristocrats_employment@token:building_luxury_goods_factory = 0.0 } #30x
                set_variable = { global.building_motorized_capitalists_employment@token:building_luxury_goods_factory = 0.1 } #50x
            #
            #Modernized
                set_variable = { global.building_modernized_tech_unlock@token:building_luxury_goods_factory = token:modern_powered_assembly_lines }

                #Productivity: $9.8 /K
                set_variable = { global.building_modernized_output_1@token:building_luxury_goods_factory = 107 }

                set_variable = { global.building_modernized_construction_amount@token:building_luxury_goods_factory = 828 }
                set_variable = { global.building_modernized_construction_speed@token:building_luxury_goods_factory = 23 }

                set_variable = { global.building_modernized_upgrade_amount@token:building_luxury_goods_factory = 36 }
                set_variable = { global.building_modernized_upgrade_speed@token:building_luxury_goods_factory = 6 }

                set_variable = { global.building_modernized_input_resource_1@token:building_luxury_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_modernized_input_amount_1@token:building_luxury_goods_factory = 18.0 }

                set_variable = { global.building_modernized_input_resource_2@token:building_luxury_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_modernized_input_amount_2@token:building_luxury_goods_factory = 102.0 }

                set_variable = { global.building_modernized_input_resource_3@token:building_luxury_goods_factory = token:resource_electricity }
                set_variable = { global.building_modernized_input_amount_3@token:building_luxury_goods_factory = 40.0 }

                set_variable = { global.building_modernized_peasants_employment@token:building_luxury_goods_factory = 0.0 } #1x
                set_variable = { global.building_modernized_laborers_employment@token:building_luxury_goods_factory = 0.0 } #2x
                set_variable = { global.building_modernized_workers_employment@token:building_luxury_goods_factory = 2.4 } #5x
                set_variable = { global.building_modernized_professionals_employment@token:building_luxury_goods_factory = 2.5 } #10x
                set_variable = { global.building_modernized_specialists_employment@token:building_luxury_goods_factory = 0 } #20x
                set_variable = { global.building_modernized_aristocrats_employment@token:building_luxury_goods_factory = 0.0 } #30x
                set_variable = { global.building_modernized_capitalists_employment@token:building_luxury_goods_factory = 0.1 } #50x
            #
            #Roboticized
                set_variable = { global.building_roboticized_tech_unlock@token:building_luxury_goods_factory = token:scara_systems }

                #Productivity: $12.4 /K
                set_variable = { global.building_roboticized_output_1@token:building_luxury_goods_factory = 62 }

                set_variable = { global.building_roboticized_construction_amount@token:building_luxury_goods_factory = 1116 }
                set_variable = { global.building_roboticized_construction_speed@token:building_luxury_goods_factory = 31 }

                set_variable = { global.building_roboticized_upgrade_amount@token:building_luxury_goods_factory = 48 }
                set_variable = { global.building_roboticized_upgrade_speed@token:building_luxury_goods_factory = 8 }

                set_variable = { global.building_roboticized_input_resource_1@token:building_luxury_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_roboticized_input_amount_1@token:building_luxury_goods_factory = 25.0 }

                set_variable = { global.building_roboticized_input_resource_2@token:building_luxury_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_roboticized_input_amount_2@token:building_luxury_goods_factory = 120.0 }

                set_variable = { global.building_roboticized_input_resource_3@token:building_luxury_goods_factory = token:resource_electricity }
                set_variable = { global.building_roboticized_input_amount_3@token:building_luxury_goods_factory = 60.0 }

                set_variable = { global.building_roboticized_peasants_employment@token:building_luxury_goods_factory = 0.0 } #1x
                set_variable = { global.building_roboticized_laborers_employment@token:building_luxury_goods_factory = 0.0 } #2x
                set_variable = { global.building_roboticized_workers_employment@token:building_luxury_goods_factory = 0.9 } #5x
                set_variable = { global.building_roboticized_professionals_employment@token:building_luxury_goods_factory = 3.0 } #10x
                set_variable = { global.building_roboticized_specialists_employment@token:building_luxury_goods_factory = 0.5 } #20x
                set_variable = { global.building_roboticized_aristocrats_employment@token:building_luxury_goods_factory = 0.0 } #30x
                set_variable = { global.building_roboticized_capitalists_employment@token:building_luxury_goods_factory = 0.1 } #50x
            #
            #Computerized
                set_variable = { global.building_computerized_tech_unlock@token:building_luxury_goods_factory = token:advanced_industrial_robotics }

                #Productivity: $16.5 /K
                set_variable = { global.building_computerized_output_1@token:building_luxury_goods_factory = 73 }

                set_variable = { global.building_computerized_construction_amount@token:building_luxury_goods_factory = 1440 }
                set_variable = { global.building_computerized_construction_speed@token:building_luxury_goods_factory = 40 }

                set_variable = { global.building_computerized_upgrade_amount@token:building_luxury_goods_factory = 60 }
                set_variable = { global.building_computerized_upgrade_speed@token:building_luxury_goods_factory = 10 }

                set_variable = { global.building_computerized_input_resource_1@token:building_luxury_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_computerized_input_amount_1@token:building_luxury_goods_factory = 36.0 }

                set_variable = { global.building_computerized_input_resource_2@token:building_luxury_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_computerized_input_amount_2@token:building_luxury_goods_factory = 160.0 }

                set_variable = { global.building_computerized_input_resource_3@token:building_luxury_goods_factory = token:resource_electricity }
                set_variable = { global.building_computerized_input_amount_3@token:building_luxury_goods_factory = 80.0 }

                set_variable = { global.building_computerized_peasants_employment@token:building_luxury_goods_factory = 0.0 } #1x
                set_variable = { global.building_computerized_laborers_employment@token:building_luxury_goods_factory = 0.0 } #2x
                set_variable = { global.building_computerized_workers_employment@token:building_luxury_goods_factory = 0.0 } #5x
                set_variable = { global.building_computerized_professionals_employment@token:building_luxury_goods_factory = 2.4 } #10x
                set_variable = { global.building_computerized_specialists_employment@token:building_luxury_goods_factory = 1.0 } #20x
                set_variable = { global.building_computerized_aristocrats_employment@token:building_luxury_goods_factory = 0.0 } #30x
                set_variable = { global.building_computerized_capitalists_employment@token:building_luxury_goods_factory = 0.1 } #50x
            #
            #Digitalized
                set_variable = { global.building_digitalized_tech_unlock@token:building_luxury_goods_factory = token:industrial_3d_printing }

                #Productivity: $20.0 /K
                set_variable = { global.building_digitalized_output_1@token:building_luxury_goods_factory = 104 }

                set_variable = { global.building_digitalized_construction_amount@token:building_luxury_goods_factory = 2268 }
                set_variable = { global.building_digitalized_construction_speed@token:building_luxury_goods_factory = 63 }

                set_variable = { global.building_digitalized_upgrade_amount@token:building_luxury_goods_factory = 90 }
                set_variable = { global.building_digitalized_upgrade_speed@token:building_luxury_goods_factory = 15 }

                set_variable = { global.building_digitalized_input_resource_1@token:building_luxury_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_digitalized_input_amount_1@token:building_luxury_goods_factory = 50.0 }

                set_variable = { global.building_digitalized_input_resource_2@token:building_luxury_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_digitalized_input_amount_2@token:building_luxury_goods_factory = 200.0 }

                set_variable = { global.building_digitalized_input_resource_3@token:building_luxury_goods_factory = token:resource_electricity }
                set_variable = { global.building_digitalized_input_amount_3@token:building_luxury_goods_factory = 110.0 }

                set_variable = { global.building_digitalized_peasants_employment@token:building_luxury_goods_factory = 0.0 } #1x
                set_variable = { global.building_digitalized_laborers_employment@token:building_luxury_goods_factory = 0.0 } #2x
                set_variable = { global.building_digitalized_workers_employment@token:building_luxury_goods_factory = 0.0 } #5x
                set_variable = { global.building_digitalized_professionals_employment@token:building_luxury_goods_factory = 1.9 } #10x
                set_variable = { global.building_digitalized_specialists_employment@token:building_luxury_goods_factory = 1.5 } #20x
                set_variable = { global.building_digitalized_aristocrats_employment@token:building_luxury_goods_factory = 0.0 } #30x
                set_variable = { global.building_digitalized_capitalists_employment@token:building_luxury_goods_factory = 0.1 } #50x
            #
            #Automatized
                set_variable = { global.building_automatized_tech_unlock@token:building_luxury_goods_factory = token:mass_scale_industrial_3d_printing }

                #Productivity: $28.0 /K
                set_variable = { global.building_automatized_output_1@token:building_luxury_goods_factory = 111 }

                set_variable = { global.building_automatized_construction_amount@token:building_luxury_goods_factory = 2628 }
                set_variable = { global.building_automatized_construction_speed@token:building_luxury_goods_factory = 73 }

                set_variable = { global.building_automatized_upgrade_amount@token:building_luxury_goods_factory = 120 }
                set_variable = { global.building_automatized_upgrade_speed@token:building_luxury_goods_factory = 20 }

                set_variable = { global.building_automatized_input_resource_1@token:building_luxury_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_automatized_input_amount_1@token:building_luxury_goods_factory = 80.0 }

                set_variable = { global.building_automatized_input_resource_2@token:building_luxury_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_automatized_input_amount_2@token:building_luxury_goods_factory = 240.0 }

                set_variable = { global.building_automatized_input_resource_3@token:building_luxury_goods_factory = token:resource_electricity }
                set_variable = { global.building_automatized_input_amount_3@token:building_luxury_goods_factory = 180.0 }

                set_variable = { global.building_automatized_peasants_employment@token:building_luxury_goods_factory = 0.0 } #1x
                set_variable = { global.building_automatized_laborers_employment@token:building_luxury_goods_factory = 0.0 } #2x
                set_variable = { global.building_automatized_workers_employment@token:building_luxury_goods_factory = 0.0 } #5x
                set_variable = { global.building_automatized_professionals_employment@token:building_luxury_goods_factory = 0.4 } #10x
                set_variable = { global.building_automatized_specialists_employment@token:building_luxury_goods_factory = 2.0 } #20x
                set_variable = { global.building_automatized_aristocrats_employment@token:building_luxury_goods_factory = 0.0 } #30x
                set_variable = { global.building_automatized_capitalists_employment@token:building_luxury_goods_factory = 0.1 } #50x
            #
            #Futurized
                set_variable = { global.building_futurized_tech_unlock@token:building_luxury_goods_factory = token:automated_industrial_3d_printing }

                #Productivity: $32.0 /K
                set_variable = { global.building_futurized_output_1@token:building_luxury_goods_factory = 125 }

                set_variable = { global.building_futurized_construction_amount@token:building_luxury_goods_factory = 2988 }
                set_variable = { global.building_futurized_construction_speed@token:building_luxury_goods_factory = 83 }

                set_variable = { global.building_futurized_input_resource_1@token:building_luxury_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_futurized_input_amount_1@token:building_luxury_goods_factory = 90.0 }

                set_variable = { global.building_futurized_input_resource_2@token:building_luxury_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_futurized_input_amount_2@token:building_luxury_goods_factory = 270.0 }

                set_variable = { global.building_futurized_input_resource_3@token:building_luxury_goods_factory = token:resource_electricity }
                set_variable = { global.building_futurized_input_amount_3@token:building_luxury_goods_factory = 220.0 }

                set_variable = { global.building_futurized_peasants_employment@token:building_luxury_goods_factory = 0.0 } #1x
                set_variable = { global.building_futurized_laborers_employment@token:building_luxury_goods_factory = 0.0 } #2x
                set_variable = { global.building_futurized_workers_employment@token:building_luxury_goods_factory = 0.0 } #5x
                set_variable = { global.building_futurized_professionals_employment@token:building_luxury_goods_factory = 0.0 } #10x
                set_variable = { global.building_futurized_specialists_employment@token:building_luxury_goods_factory = 1.9 } #20x
                set_variable = { global.building_futurized_aristocrats_employment@token:building_luxury_goods_factory = 0.0 } #30x
                set_variable = { global.building_futurized_capitalists_employment@token:building_luxury_goods_factory = 0.1 } #50x
            #
        }
        define_industrial_goods_factory = {
            set_variable = { global.building_output_resource_1@token:building_industrial_goods_factory = token:resource_industrial_goods }

            set_variable = { global.building_industrial_capacity_use@token:building_industrial_goods_factory = 3 }

            #Basic
                set_variable = { global.building_basic_tech_unlock@token:building_industrial_goods_factory = 1 }

                set_variable = { global.building_basic_construction_amount@token:building_industrial_goods_factory = 108 }
                set_variable = { global.building_basic_construction_speed@token:building_industrial_goods_factory = 3 }

                set_variable = { global.building_basic_upgrade_amount@token:building_industrial_goods_factory = 6 }
                set_variable = { global.building_basic_upgrade_speed@token:building_industrial_goods_factory = 1 }

                #Productivity: $1.7 /K
                set_variable = { global.building_basic_output_1@token:building_industrial_goods_factory = 19 }

                set_variable = { global.building_basic_input_resource_1@token:building_industrial_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_basic_input_amount_1@token:building_industrial_goods_factory = 1.0 }

                set_variable = { global.building_basic_input_resource_2@token:building_industrial_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_basic_input_amount_2@token:building_industrial_goods_factory = 11.0 }

                set_variable = { global.building_basic_input_resource_3@token:building_industrial_goods_factory = token:resource_energy_materials }
                set_variable = { global.building_basic_input_amount_3@token:building_industrial_goods_factory = 3.0 }

                set_variable = { global.building_basic_peasants_employment@token:building_industrial_goods_factory = 0.0 } #1x
                set_variable = { global.building_basic_laborers_employment@token:building_industrial_goods_factory = 9.9 } #2x
                set_variable = { global.building_basic_workers_employment@token:building_industrial_goods_factory = 0 } #5x
                set_variable = { global.building_basic_professionals_employment@token:building_industrial_goods_factory = 0 } #10x
                set_variable = { global.building_basic_specialists_employment@token:building_industrial_goods_factory = 0 } #20x
                set_variable = { global.building_basic_aristocrats_employment@token:building_industrial_goods_factory = 0.05 } #30x
                set_variable = { global.building_basic_capitalists_employment@token:building_industrial_goods_factory = 0.05 } #50x
            #
            #Advanced
                set_variable = { global.building_advanced_tech_unlock@token:building_industrial_goods_factory = token:dry_puddling_process }

                #Productivity: $2.2 /K
                set_variable = { global.building_advanced_output_1@token:building_industrial_goods_factory = 27 }

                set_variable = { global.building_advanced_construction_amount@token:building_industrial_goods_factory = 180 }
                set_variable = { global.building_advanced_construction_speed@token:building_industrial_goods_factory = 5 }

                set_variable = { global.building_advanced_upgrade_amount@token:building_industrial_goods_factory = 9 }
                set_variable = { global.building_advanced_upgrade_speed@token:building_industrial_goods_factory = 1.5 }

                set_variable = { global.building_advanced_input_resource_1@token:building_industrial_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_advanced_input_amount_1@token:building_industrial_goods_factory = 2.0 }

                set_variable = { global.building_advanced_input_resource_2@token:building_industrial_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_advanced_input_amount_2@token:building_industrial_goods_factory = 22.0 }

                set_variable = { global.building_advanced_input_resource_3@token:building_industrial_goods_factory = token:resource_energy_materials }
                set_variable = { global.building_advanced_input_amount_3@token:building_industrial_goods_factory = 7.0 }

                set_variable = { global.building_advanced_peasants_employment@token:building_industrial_goods_factory = 0.0 } #1x
                set_variable = { global.building_advanced_laborers_employment@token:building_industrial_goods_factory = 7.4 } #2x
                set_variable = { global.building_advanced_workers_employment@token:building_industrial_goods_factory = 2.5 } #5x
                set_variable = { global.building_advanced_professionals_employment@token:building_industrial_goods_factory = 0 } #10x
                set_variable = { global.building_advanced_specialists_employment@token:building_industrial_goods_factory = 0 } #20x
                set_variable = { global.building_advanced_aristocrats_employment@token:building_industrial_goods_factory = 0.05 } #30x
                set_variable = { global.building_advanced_capitalists_employment@token:building_industrial_goods_factory = 0.05 } #50x
            #
            #Industrialized
                set_variable = { global.building_industrialized_tech_unlock@token:building_industrial_goods_factory = token:industrial_blast_furnace }

                #Productivity: $3.0 /K
                set_variable = { global.building_industrialized_output_1@token:building_industrial_goods_factory = 44 }

                set_variable = { global.building_industrialized_construction_amount@token:building_industrial_goods_factory = 324 }
                set_variable = { global.building_industrialized_construction_speed@token:building_industrial_goods_factory = 9 }

                set_variable = { global.building_industrialized_upgrade_amount@token:building_industrial_goods_factory = 12 }
                set_variable = { global.building_industrialized_upgrade_speed@token:building_industrial_goods_factory = 2 }

                set_variable = { global.building_industrialized_input_resource_1@token:building_industrial_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_industrialized_input_amount_1@token:building_industrial_goods_factory = 6.0 }

                set_variable = { global.building_industrialized_input_resource_2@token:building_industrial_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_industrialized_input_amount_2@token:building_industrial_goods_factory = 40.0 }

                set_variable = { global.building_industrialized_input_resource_3@token:building_industrial_goods_factory = token:resource_energy_materials }
                set_variable = { global.building_industrialized_input_amount_3@token:building_industrial_goods_factory = 19.0 }

                set_variable = { global.building_industrialized_peasants_employment@token:building_industrial_goods_factory = 0.0 } #1x
                set_variable = { global.building_industrialized_laborers_employment@token:building_industrial_goods_factory = 6.4 } #2x
                set_variable = { global.building_industrialized_workers_employment@token:building_industrial_goods_factory = 2.5 } #5x
                set_variable = { global.building_industrialized_professionals_employment@token:building_industrial_goods_factory = 0 } #10x
                set_variable = { global.building_industrialized_specialists_employment@token:building_industrial_goods_factory = 0 } #20x
                set_variable = { global.building_industrialized_aristocrats_employment@token:building_industrial_goods_factory = 0 } #30x
                set_variable = { global.building_industrialized_capitalists_employment@token:building_industrial_goods_factory = 0.1 } #50x
            #
            #Mechanized
                set_variable = { global.building_mechanized_tech_unlock@token:building_industrial_goods_factory = token:bessemer_process }

                #Productivity: $4.0 /K
                set_variable = { global.building_mechanized_output_1@token:building_industrial_goods_factory = 48 }

                set_variable = { global.building_mechanized_construction_amount@token:building_industrial_goods_factory = 396 }
                set_variable = { global.building_mechanized_construction_speed@token:building_industrial_goods_factory = 11 }

                set_variable = { global.building_mechanized_upgrade_amount@token:building_industrial_goods_factory = 15 }
                set_variable = { global.building_mechanized_upgrade_speed@token:building_industrial_goods_factory = 2.5 }

                set_variable = { global.building_mechanized_input_resource_1@token:building_industrial_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_mechanized_input_amount_1@token:building_industrial_goods_factory = 8.0 }

                set_variable = { global.building_mechanized_input_resource_2@token:building_industrial_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_mechanized_input_amount_2@token:building_industrial_goods_factory = 45.0 }

                set_variable = { global.building_mechanized_input_resource_3@token:building_industrial_goods_factory = token:resource_energy_materials }
                set_variable = { global.building_mechanized_input_amount_3@token:building_industrial_goods_factory = 22.0 }

                set_variable = { global.building_mechanized_peasants_employment@token:building_industrial_goods_factory = 0.0 } #1x
                set_variable = { global.building_mechanized_laborers_employment@token:building_industrial_goods_factory = 3.9 } #2x
                set_variable = { global.building_mechanized_workers_employment@token:building_industrial_goods_factory = 3.5 } #5x
                set_variable = { global.building_mechanized_professionals_employment@token:building_industrial_goods_factory = 0 } #10x
                set_variable = { global.building_mechanized_specialists_employment@token:building_industrial_goods_factory = 0 } #20x
                set_variable = { global.building_mechanized_aristocrats_employment@token:building_industrial_goods_factory = 0.0 } #30x
                set_variable = { global.building_mechanized_capitalists_employment@token:building_industrial_goods_factory = 0.1 } #50x
            #
            #Electrified
                set_variable = { global.building_electrified_tech_unlock@token:building_industrial_goods_factory = token:electric_arc_furnace }

                #Productivity: $5.5 /K
                set_variable = { global.building_electrified_output_1@token:building_industrial_goods_factory = 57 }

                set_variable = { global.building_electrified_construction_amount@token:building_industrial_goods_factory = 540 }
                set_variable = { global.building_electrified_construction_speed@token:building_industrial_goods_factory = 15 }

                set_variable = { global.building_electrified_upgrade_amount@token:building_industrial_goods_factory = 18 }
                set_variable = { global.building_electrified_upgrade_speed@token:building_industrial_goods_factory = 3 }

                set_variable = { global.building_electrified_input_resource_1@token:building_industrial_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_electrified_input_amount_1@token:building_industrial_goods_factory = 12.0 }

                set_variable = { global.building_electrified_input_resource_2@token:building_industrial_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_electrified_input_amount_2@token:building_industrial_goods_factory = 57.0 }

                set_variable = { global.building_electrified_input_resource_3@token:building_industrial_goods_factory = token:resource_energy_materials }
                set_variable = { global.building_electrified_input_amount_3@token:building_industrial_goods_factory = 25.0 }

                set_variable = { global.building_electrified_input_resource_4@token:building_industrial_goods_factory = token:resource_electricity }
                set_variable = { global.building_electrified_input_amount_4@token:building_industrial_goods_factory = 10.0 }

                set_variable = { global.building_electrified_peasants_employment@token:building_industrial_goods_factory = 0.0 } #1x
                set_variable = { global.building_electrified_laborers_employment@token:building_industrial_goods_factory = 1.4 } #2x
                set_variable = { global.building_electrified_workers_employment@token:building_industrial_goods_factory = 4.5 } #5x
                set_variable = { global.building_electrified_professionals_employment@token:building_industrial_goods_factory = 0.5 } #10x
                set_variable = { global.building_electrified_specialists_employment@token:building_industrial_goods_factory = 0 } #20x
                set_variable = { global.building_electrified_aristocrats_employment@token:building_industrial_goods_factory = 0.0 } #30x
                set_variable = { global.building_electrified_capitalists_employment@token:building_industrial_goods_factory = 0.1 } #50x
            #
            #Motorized
                set_variable = { global.building_motorized_tech_unlock@token:building_industrial_goods_factory = token:injection_moulding }

                #Productivity: $7.2 /K
                set_variable = { global.building_motorized_output_1@token:building_industrial_goods_factory = 60 }

                set_variable = { global.building_motorized_construction_amount@token:building_industrial_goods_factory = 648 }
                set_variable = { global.building_motorized_construction_speed@token:building_industrial_goods_factory = 18 }

                set_variable = { global.building_motorized_upgrade_amount@token:building_industrial_goods_factory = 24 }
                set_variable = { global.building_motorized_upgrade_speed@token:building_industrial_goods_factory = 4 }

                set_variable = { global.building_motorized_input_resource_1@token:building_industrial_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_motorized_input_amount_1@token:building_industrial_goods_factory = 14.0 }

                set_variable = { global.building_motorized_input_resource_2@token:building_industrial_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_motorized_input_amount_2@token:building_industrial_goods_factory = 60.0 }

                set_variable = { global.building_motorized_input_resource_3@token:building_industrial_goods_factory = token:resource_energy_materials }
                set_variable = { global.building_motorized_input_amount_3@token:building_industrial_goods_factory = 30.0 }

                set_variable = { global.building_motorized_input_resource_4@token:building_industrial_goods_factory = token:resource_electricity }
                set_variable = { global.building_motorized_input_amount_4@token:building_industrial_goods_factory = 15.0 }

                set_variable = { global.building_motorized_peasants_employment@token:building_industrial_goods_factory = 0.0 } #1x
                set_variable = { global.building_motorized_laborers_employment@token:building_industrial_goods_factory = 0.0 } #2x
                set_variable = { global.building_motorized_workers_employment@token:building_industrial_goods_factory = 3.9 } #5x
                set_variable = { global.building_motorized_professionals_employment@token:building_industrial_goods_factory = 2.0 } #10x
                set_variable = { global.building_motorized_specialists_employment@token:building_industrial_goods_factory = 0 } #20x
                set_variable = { global.building_motorized_aristocrats_employment@token:building_industrial_goods_factory = 0.0 } #30x
                set_variable = { global.building_motorized_capitalists_employment@token:building_industrial_goods_factory = 0.1 } #50x
            #
            #Modernized
                set_variable = { global.building_modernized_tech_unlock@token:building_industrial_goods_factory = token:industrial_steelworks_1 }

                #Productivity: $9.8 /K
                set_variable = { global.building_modernized_output_1@token:building_industrial_goods_factory = 75 }

                set_variable = { global.building_modernized_construction_amount@token:building_industrial_goods_factory = 828 }
                set_variable = { global.building_modernized_construction_speed@token:building_industrial_goods_factory = 23 }

                set_variable = { global.building_modernized_upgrade_amount@token:building_industrial_goods_factory = 36 }
                set_variable = { global.building_modernized_upgrade_speed@token:building_industrial_goods_factory = 6 }

                set_variable = { global.building_modernized_input_resource_1@token:building_industrial_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_modernized_input_amount_1@token:building_industrial_goods_factory = 18.0 }

                set_variable = { global.building_modernized_input_resource_2@token:building_industrial_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_modernized_input_amount_2@token:building_industrial_goods_factory = 77.0 }

                set_variable = { global.building_modernized_input_resource_3@token:building_industrial_goods_factory = token:resource_energy_materials }
                set_variable = { global.building_modernized_input_amount_3@token:building_industrial_goods_factory = 35.0 }

                set_variable = { global.building_modernized_input_resource_4@token:building_industrial_goods_factory = token:resource_electricity }
                set_variable = { global.building_modernized_input_amount_4@token:building_industrial_goods_factory = 30.0 }

                set_variable = { global.building_modernized_peasants_employment@token:building_industrial_goods_factory = 0.0 } #1x
                set_variable = { global.building_modernized_laborers_employment@token:building_industrial_goods_factory = 0.0 } #2x
                set_variable = { global.building_modernized_workers_employment@token:building_industrial_goods_factory = 2.4 } #5x
                set_variable = { global.building_modernized_professionals_employment@token:building_industrial_goods_factory = 2.5 } #10x
                set_variable = { global.building_modernized_specialists_employment@token:building_industrial_goods_factory = 0 } #20x
                set_variable = { global.building_modernized_aristocrats_employment@token:building_industrial_goods_factory = 0.0 } #30x
                set_variable = { global.building_modernized_capitalists_employment@token:building_industrial_goods_factory = 0.1 } #50x
            #
            #Roboticized
                set_variable = { global.building_roboticized_tech_unlock@token:building_industrial_goods_factory = token:industrial_metalworks_2 }

                #Productivity: $12.4 /K
                set_variable = { global.building_roboticized_output_1@token:building_industrial_goods_factory = 83 }

                set_variable = { global.building_roboticized_construction_amount@token:building_industrial_goods_factory = 1116 }
                set_variable = { global.building_roboticized_construction_speed@token:building_industrial_goods_factory = 31 }

                set_variable = { global.building_roboticized_upgrade_amount@token:building_industrial_goods_factory = 48 }
                set_variable = { global.building_roboticized_upgrade_speed@token:building_industrial_goods_factory = 8 }

                set_variable = { global.building_roboticized_input_resource_1@token:building_industrial_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_roboticized_input_amount_1@token:building_industrial_goods_factory = 23.0 }

                set_variable = { global.building_roboticized_input_resource_2@token:building_industrial_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_roboticized_input_amount_2@token:building_industrial_goods_factory = 100.0 }

                set_variable = { global.building_roboticized_input_resource_3@token:building_industrial_goods_factory = token:resource_energy_materials }
                set_variable = { global.building_roboticized_input_amount_3@token:building_industrial_goods_factory = 40.0 }

                set_variable = { global.building_roboticized_input_resource_4@token:building_industrial_goods_factory = token:resource_electricity }
                set_variable = { global.building_roboticized_input_amount_4@token:building_industrial_goods_factory = 45.0 }

                set_variable = { global.building_roboticized_peasants_employment@token:building_industrial_goods_factory = 0.0 } #1x
                set_variable = { global.building_roboticized_laborers_employment@token:building_industrial_goods_factory = 0.0 } #2x
                set_variable = { global.building_roboticized_workers_employment@token:building_industrial_goods_factory = 0.9 } #5x
                set_variable = { global.building_roboticized_professionals_employment@token:building_industrial_goods_factory = 3.0 } #10x
                set_variable = { global.building_roboticized_specialists_employment@token:building_industrial_goods_factory = 0.5 } #20x
                set_variable = { global.building_roboticized_aristocrats_employment@token:building_industrial_goods_factory = 0.0 } #30x
                set_variable = { global.building_roboticized_capitalists_employment@token:building_industrial_goods_factory = 0.1 } #50x
            #
            #Computerized
                set_variable = { global.building_computerized_tech_unlock@token:building_industrial_goods_factory = token:industrial_metalworks_5 }

                #Productivity: $16.5 /K
                set_variable = { global.building_computerized_output_1@token:building_industrial_goods_factory = 97 }

                set_variable = { global.building_computerized_construction_amount@token:building_industrial_goods_factory = 1440 }
                set_variable = { global.building_computerized_construction_speed@token:building_industrial_goods_factory = 40 }

                set_variable = { global.building_computerized_upgrade_amount@token:building_industrial_goods_factory = 60 }
                set_variable = { global.building_computerized_upgrade_speed@token:building_industrial_goods_factory = 10 }

                set_variable = { global.building_computerized_input_resource_1@token:building_industrial_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_computerized_input_amount_1@token:building_industrial_goods_factory = 31.0 }

                set_variable = { global.building_computerized_input_resource_2@token:building_industrial_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_computerized_input_amount_2@token:building_industrial_goods_factory = 130.0 }

                set_variable = { global.building_computerized_input_resource_3@token:building_industrial_goods_factory = token:resource_energy_materials }
                set_variable = { global.building_computerized_input_amount_3@token:building_industrial_goods_factory = 45.0 }

                set_variable = { global.building_computerized_input_resource_4@token:building_industrial_goods_factory = token:resource_electricity }
                set_variable = { global.building_computerized_input_amount_4@token:building_industrial_goods_factory = 80.0 }

                set_variable = { global.building_computerized_peasants_employment@token:building_industrial_goods_factory = 0.0 } #1x
                set_variable = { global.building_computerized_laborers_employment@token:building_industrial_goods_factory = 0.0 } #2x
                set_variable = { global.building_computerized_workers_employment@token:building_industrial_goods_factory = 0.0 } #5x
                set_variable = { global.building_computerized_professionals_employment@token:building_industrial_goods_factory = 2.4 } #10x
                set_variable = { global.building_computerized_specialists_employment@token:building_industrial_goods_factory = 1.0 } #20x
                set_variable = { global.building_computerized_aristocrats_employment@token:building_industrial_goods_factory = 0.0 } #30x
                set_variable = { global.building_computerized_capitalists_employment@token:building_industrial_goods_factory = 0.1 } #50x
            #
            #Digitalized
                set_variable = { global.building_digitalized_tech_unlock@token:building_industrial_goods_factory = token:industrial_metalworks_6 }

                #Productivity: $20.0 /K
                set_variable = { global.building_digitalized_output_1@token:building_industrial_goods_factory = 138 }

                set_variable = { global.building_digitalized_construction_amount@token:building_industrial_goods_factory = 2268 }
                set_variable = { global.building_digitalized_construction_speed@token:building_industrial_goods_factory = 63 }

                set_variable = { global.building_digitalized_upgrade_amount@token:building_industrial_goods_factory = 90 }
                set_variable = { global.building_digitalized_upgrade_speed@token:building_industrial_goods_factory = 15 }

                set_variable = { global.building_digitalized_input_resource_1@token:building_industrial_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_digitalized_input_amount_1@token:building_industrial_goods_factory = 45.0 }

                set_variable = { global.building_digitalized_input_resource_2@token:building_industrial_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_digitalized_input_amount_2@token:building_industrial_goods_factory = 160.0 }

                set_variable = { global.building_digitalized_input_resource_3@token:building_industrial_goods_factory = token:resource_energy_materials }
                set_variable = { global.building_digitalized_input_amount_3@token:building_industrial_goods_factory = 55.0 }

                set_variable = { global.building_digitalized_input_resource_4@token:building_industrial_goods_factory = token:resource_electricity }
                set_variable = { global.building_digitalized_input_amount_4@token:building_industrial_goods_factory = 110.0 }

                set_variable = { global.building_digitalized_peasants_employment@token:building_industrial_goods_factory = 0.0 } #1x
                set_variable = { global.building_digitalized_laborers_employment@token:building_industrial_goods_factory = 0.0 } #2x
                set_variable = { global.building_digitalized_workers_employment@token:building_industrial_goods_factory = 0.0 } #5x
                set_variable = { global.building_digitalized_professionals_employment@token:building_industrial_goods_factory = 1.9 } #10x
                set_variable = { global.building_digitalized_specialists_employment@token:building_industrial_goods_factory = 1.5 } #20x
                set_variable = { global.building_digitalized_aristocrats_employment@token:building_industrial_goods_factory = 0.0 } #30x
                set_variable = { global.building_digitalized_capitalists_employment@token:building_industrial_goods_factory = 0.1 } #50x
            #
            #Automatized
                set_variable = { global.building_automatized_tech_unlock@token:building_industrial_goods_factory = token:industrial_metalworks_7 }

                #Productivity: $28.0 /K
                set_variable = { global.building_automatized_output_1@token:building_industrial_goods_factory = 147 }

                set_variable = { global.building_automatized_construction_amount@token:building_industrial_goods_factory = 2628 }
                set_variable = { global.building_automatized_construction_speed@token:building_industrial_goods_factory = 73 }

                set_variable = { global.building_automatized_upgrade_amount@token:building_industrial_goods_factory = 120 }
                set_variable = { global.building_automatized_upgrade_speed@token:building_industrial_goods_factory = 20 }

                set_variable = { global.building_automatized_input_resource_1@token:building_industrial_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_automatized_input_amount_1@token:building_industrial_goods_factory = 60.0 }

                set_variable = { global.building_automatized_input_resource_2@token:building_industrial_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_automatized_input_amount_2@token:building_industrial_goods_factory = 240.0 }

                set_variable = { global.building_automatized_input_resource_3@token:building_industrial_goods_factory = token:resource_energy_materials }
                set_variable = { global.building_automatized_input_amount_3@token:building_industrial_goods_factory = 60.0 }

                set_variable = { global.building_automatized_input_resource_4@token:building_industrial_goods_factory = token:resource_electricity }
                set_variable = { global.building_automatized_input_amount_4@token:building_industrial_goods_factory = 180.0 }

                set_variable = { global.building_automatized_peasants_employment@token:building_industrial_goods_factory = 0.0 } #1x
                set_variable = { global.building_automatized_laborers_employment@token:building_industrial_goods_factory = 0.0 } #2x
                set_variable = { global.building_automatized_workers_employment@token:building_industrial_goods_factory = 0.0 } #5x
                set_variable = { global.building_automatized_professionals_employment@token:building_industrial_goods_factory = 0.4 } #10x
                set_variable = { global.building_automatized_specialists_employment@token:building_industrial_goods_factory = 2.0 } #20x
                set_variable = { global.building_automatized_aristocrats_employment@token:building_industrial_goods_factory = 0.0 } #30x
                set_variable = { global.building_automatized_capitalists_employment@token:building_industrial_goods_factory = 0.1 } #50x
            #
            #Futurized
                set_variable = { global.building_futurized_tech_unlock@token:building_industrial_goods_factory = token:automated_industrial_3d_printing }

                #Productivity: $32.0 /K
                set_variable = { global.building_futurized_output_1@token:building_industrial_goods_factory = 167 }

                set_variable = { global.building_futurized_construction_amount@token:building_industrial_goods_factory = 2988 }
                set_variable = { global.building_futurized_construction_speed@token:building_industrial_goods_factory = 83 }

                set_variable = { global.building_futurized_input_resource_1@token:building_industrial_goods_factory = token:resource_industrial_goods }
                set_variable = { global.building_futurized_input_amount_1@token:building_industrial_goods_factory = 80.0 }

                set_variable = { global.building_futurized_input_resource_2@token:building_industrial_goods_factory = token:resource_raw_materials }
                set_variable = { global.building_futurized_input_amount_2@token:building_industrial_goods_factory = 270.0 }

                set_variable = { global.building_futurized_input_resource_3@token:building_industrial_goods_factory = token:resource_energy_materials }
                set_variable = { global.building_futurized_input_amount_3@token:building_industrial_goods_factory = 30.0 }

                set_variable = { global.building_futurized_input_resource_4@token:building_industrial_goods_factory = token:resource_electricity }
                set_variable = { global.building_futurized_input_amount_4@token:building_industrial_goods_factory = 220.0 }

                set_variable = { global.building_futurized_peasants_employment@token:building_industrial_goods_factory = 0.0 } #1x
                set_variable = { global.building_futurized_laborers_employment@token:building_industrial_goods_factory = 0.0 } #2x
                set_variable = { global.building_futurized_workers_employment@token:building_industrial_goods_factory = 0.0 } #5x
                set_variable = { global.building_futurized_professionals_employment@token:building_industrial_goods_factory = 0.0 } #10x
                set_variable = { global.building_futurized_specialists_employment@token:building_industrial_goods_factory = 1.9 } #20x
                set_variable = { global.building_futurized_aristocrats_employment@token:building_industrial_goods_factory = 0.0 } #30x
                set_variable = { global.building_futurized_capitalists_employment@token:building_industrial_goods_factory = 0.1 } #50x
            #
        }
        define_services_building = {
            set_variable = { global.building_output_resource_1@token:building_services_building = token:resource_services }

            set_variable = { global.building_industrial_capacity_use@token:building_services_building = 2 }

            #Basic
                set_variable = { global.building_basic_tech_unlock@token:building_services_building = 1 }

                set_variable = { global.building_basic_construction_amount@token:building_services_building = 108 }
                set_variable = { global.building_basic_construction_speed@token:building_services_building = 3 }

                set_variable = { global.building_basic_upgrade_amount@token:building_services_building = 6 }
                set_variable = { global.building_basic_upgrade_speed@token:building_services_building = 1 }

                #Productivity: $1.7 /K
                set_variable = { global.building_basic_output_1@token:building_services_building = 23 }

                set_variable = { global.building_basic_input_resource_1@token:building_services_building = token:resource_industrial_goods }
                set_variable = { global.building_basic_input_amount_1@token:building_services_building = 2.0 }

                set_variable = { global.building_basic_input_resource_2@token:building_services_building = token:resource_consumer_goods }
                set_variable = { global.building_basic_input_amount_2@token:building_services_building = 3.5 }

                set_variable = { global.building_basic_input_resource_3@token:building_services_building = token:resource_luxury_goods }
                set_variable = { global.building_basic_input_amount_3@token:building_services_building = 1.0 }

                set_variable = { global.building_basic_peasants_employment@token:building_services_building = 0.0 } #1x
                set_variable = { global.building_basic_laborers_employment@token:building_services_building = 9.9 } #2x
                set_variable = { global.building_basic_workers_employment@token:building_services_building = 0 } #5x
                set_variable = { global.building_basic_professionals_employment@token:building_services_building = 0 } #10x
                set_variable = { global.building_basic_specialists_employment@token:building_services_building = 0 } #20x
                set_variable = { global.building_basic_aristocrats_employment@token:building_services_building = 0.05 } #30x
                set_variable = { global.building_basic_capitalists_employment@token:building_services_building = 0.05 } #50x
            #
            #Advanced
                set_variable = { global.building_advanced_tech_unlock@token:building_services_building = token:tech_humanities_industrial_society }

                #Productivity: $2.2 /K
                set_variable = { global.building_advanced_output_1@token:building_services_building = 34 }

                set_variable = { global.building_advanced_construction_amount@token:building_services_building = 180 }
                set_variable = { global.building_advanced_construction_speed@token:building_services_building = 5 }

                set_variable = { global.building_advanced_upgrade_amount@token:building_services_building = 9 }
                set_variable = { global.building_advanced_upgrade_speed@token:building_services_building = 1.5 }

                set_variable = { global.building_advanced_input_resource_1@token:building_services_building = token:resource_industrial_goods }
                set_variable = { global.building_advanced_input_amount_1@token:building_services_building = 3.0 }

                set_variable = { global.building_advanced_input_resource_2@token:building_services_building = token:resource_consumer_goods }
                set_variable = { global.building_advanced_input_amount_2@token:building_services_building = 10.0 }

                set_variable = { global.building_advanced_input_resource_3@token:building_services_building = token:resource_luxury_goods }
                set_variable = { global.building_advanced_input_amount_3@token:building_services_building = 2.0 }

                set_variable = { global.building_advanced_peasants_employment@token:building_services_building = 0.0 } #1x
                set_variable = { global.building_advanced_laborers_employment@token:building_services_building = 7.4 } #2x
                set_variable = { global.building_advanced_workers_employment@token:building_services_building = 2.5 } #5x
                set_variable = { global.building_advanced_professionals_employment@token:building_services_building = 0 } #10x
                set_variable = { global.building_advanced_specialists_employment@token:building_services_building = 0 } #20x
                set_variable = { global.building_advanced_aristocrats_employment@token:building_services_building = 0.05 } #30x
                set_variable = { global.building_advanced_capitalists_employment@token:building_services_building = 0.05 } #50x
            #
            #Industrialized
                set_variable = { global.building_industrialized_tech_unlock@token:building_services_building = token:tech_humanities_public_works }

                #Productivity: $3.0 /K
                set_variable = { global.building_industrialized_output_1@token:building_services_building = 53 }

                set_variable = { global.building_industrialized_construction_amount@token:building_services_building = 324 }
                set_variable = { global.building_industrialized_construction_speed@token:building_services_building = 9 }

                set_variable = { global.building_industrialized_upgrade_amount@token:building_services_building = 12 }
                set_variable = { global.building_industrialized_upgrade_speed@token:building_services_building = 2 }

                set_variable = { global.building_industrialized_input_resource_1@token:building_services_building = token:resource_industrial_goods }
                set_variable = { global.building_industrialized_input_amount_1@token:building_services_building = 6.0 }

                set_variable = { global.building_industrialized_input_resource_2@token:building_services_building = token:resource_consumer_goods }
                set_variable = { global.building_industrialized_input_amount_2@token:building_services_building = 20.0 }

                set_variable = { global.building_industrialized_input_resource_3@token:building_services_building = token:resource_luxury_goods }
                set_variable = { global.building_industrialized_input_amount_3@token:building_services_building = 5.0 }

                set_variable = { global.building_industrialized_peasants_employment@token:building_services_building = 0.0 } #1x
                set_variable = { global.building_industrialized_laborers_employment@token:building_services_building = 6.4 } #2x
                set_variable = { global.building_industrialized_workers_employment@token:building_services_building = 2.5 } #5x
                set_variable = { global.building_industrialized_professionals_employment@token:building_services_building = 0 } #10x
                set_variable = { global.building_industrialized_specialists_employment@token:building_services_building = 0 } #20x
                set_variable = { global.building_industrialized_aristocrats_employment@token:building_services_building = 0 } #30x
                set_variable = { global.building_industrialized_capitalists_employment@token:building_services_building = 0.1 } #50x
            #
            #Mechanized
                set_variable = { global.building_mechanized_tech_unlock@token:building_services_building = token:early_hospitals }

                #Productivity: $4.0 /K
                set_variable = { global.building_mechanized_output_1@token:building_services_building = 58 }

                set_variable = { global.building_mechanized_construction_amount@token:building_services_building = 396 }
                set_variable = { global.building_mechanized_construction_speed@token:building_services_building = 11 }

                set_variable = { global.building_mechanized_upgrade_amount@token:building_services_building = 15 }
                set_variable = { global.building_mechanized_upgrade_speed@token:building_services_building = 2.5 }

                set_variable = { global.building_mechanized_input_resource_1@token:building_services_building = token:resource_industrial_goods }
                set_variable = { global.building_mechanized_input_amount_1@token:building_services_building = 8.0 }

                set_variable = { global.building_mechanized_input_resource_2@token:building_services_building = token:resource_consumer_goods }
                set_variable = { global.building_mechanized_input_amount_2@token:building_services_building = 21.0 }

                set_variable = { global.building_mechanized_input_resource_3@token:building_services_building = token:resource_luxury_goods }
                set_variable = { global.building_mechanized_input_amount_3@token:building_services_building = 6.0 }

                set_variable = { global.building_mechanized_peasants_employment@token:building_services_building = 0.0 } #1x
                set_variable = { global.building_mechanized_laborers_employment@token:building_services_building = 3.9 } #2x
                set_variable = { global.building_mechanized_workers_employment@token:building_services_building = 3.5 } #5x
                set_variable = { global.building_mechanized_professionals_employment@token:building_services_building = 0 } #10x
                set_variable = { global.building_mechanized_specialists_employment@token:building_services_building = 0 } #20x
                set_variable = { global.building_mechanized_aristocrats_employment@token:building_services_building = 0.0 } #30x
                set_variable = { global.building_mechanized_capitalists_employment@token:building_services_building = 0.1 } #50x
            #
            #Electrified
                set_variable = { global.building_electrified_tech_unlock@token:building_services_building = token:better_incandescent_lightbulb }

                #Productivity: $5.5 /K
                set_variable = { global.building_electrified_output_1@token:building_services_building = 62 }

                set_variable = { global.building_electrified_construction_amount@token:building_services_building = 540 }
                set_variable = { global.building_electrified_construction_speed@token:building_services_building = 15 }

                set_variable = { global.building_electrified_upgrade_amount@token:building_services_building = 18 }
                set_variable = { global.building_electrified_upgrade_speed@token:building_services_building = 3 }

                set_variable = { global.building_electrified_input_resource_1@token:building_services_building = token:resource_industrial_goods }
                set_variable = { global.building_electrified_input_amount_1@token:building_services_building = 10.0 }

                set_variable = { global.building_electrified_input_resource_2@token:building_services_building = token:resource_consumer_goods }
                set_variable = { global.building_electrified_input_amount_2@token:building_services_building = 21.0 }

                set_variable = { global.building_electrified_input_resource_3@token:building_services_building = token:resource_luxury_goods }
                set_variable = { global.building_electrified_input_amount_3@token:building_services_building = 6.0 }

                set_variable = { global.building_electrified_input_resource_4@token:building_services_building = token:resource_electricity }
                set_variable = { global.building_electrified_input_amount_4@token:building_services_building = 10.0 }

                set_variable = { global.building_electrified_peasants_employment@token:building_services_building = 0.0 } #1x
                set_variable = { global.building_electrified_laborers_employment@token:building_services_building = 1.4 } #2x
                set_variable = { global.building_electrified_workers_employment@token:building_services_building = 4.5 } #5x
                set_variable = { global.building_electrified_professionals_employment@token:building_services_building = 0.5 } #10x
                set_variable = { global.building_electrified_specialists_employment@token:building_services_building = 0 } #20x
                set_variable = { global.building_electrified_aristocrats_employment@token:building_services_building = 0.0 } #30x
                set_variable = { global.building_electrified_capitalists_employment@token:building_services_building = 0.1 } #50x
            #
            #Motorized
                set_variable = { global.building_motorized_tech_unlock@token:building_services_building = token:tech_humanities_petroleum_society }

                #Productivity: $7.2 /K
                set_variable = { global.building_motorized_output_1@token:building_services_building = 65 }

                set_variable = { global.building_motorized_construction_amount@token:building_services_building = 648 }
                set_variable = { global.building_motorized_construction_speed@token:building_services_building = 18 }

                set_variable = { global.building_motorized_upgrade_amount@token:building_services_building = 24 }
                set_variable = { global.building_motorized_upgrade_speed@token:building_services_building = 4 }

                set_variable = { global.building_motorized_input_resource_1@token:building_services_building = token:resource_industrial_goods }
                set_variable = { global.building_motorized_input_amount_1@token:building_services_building = 10.0 }

                set_variable = { global.building_motorized_input_resource_2@token:building_services_building = token:resource_consumer_goods }
                set_variable = { global.building_motorized_input_amount_2@token:building_services_building = 23.0 }

                set_variable = { global.building_motorized_input_resource_3@token:building_services_building = token:resource_luxury_goods }
                set_variable = { global.building_motorized_input_amount_3@token:building_services_building = 6.0 }

                set_variable = { global.building_motorized_input_resource_4@token:building_services_building = token:resource_electricity }
                set_variable = { global.building_motorized_input_amount_4@token:building_services_building = 20.0 }

                set_variable = { global.building_motorized_peasants_employment@token:building_services_building = 0.0 } #1x
                set_variable = { global.building_motorized_laborers_employment@token:building_services_building = 0.0 } #2x
                set_variable = { global.building_motorized_workers_employment@token:building_services_building = 3.9 } #5x
                set_variable = { global.building_motorized_professionals_employment@token:building_services_building = 2.0 } #10x
                set_variable = { global.building_motorized_specialists_employment@token:building_services_building = 0 } #20x
                set_variable = { global.building_motorized_aristocrats_employment@token:building_services_building = 0.0 } #30x
                set_variable = { global.building_motorized_capitalists_employment@token:building_services_building = 0.1 } #50x
            #
            #Modernized
                set_variable = { global.building_modernized_tech_unlock@token:building_services_building = token:black_and_white_tv }

                #Productivity: $9.8 /K
                set_variable = { global.building_modernized_output_1@token:building_services_building = 66 }

                set_variable = { global.building_modernized_construction_amount@token:building_services_building = 828 }
                set_variable = { global.building_modernized_construction_speed@token:building_services_building = 23 }

                set_variable = { global.building_modernized_upgrade_amount@token:building_services_building = 36 }
                set_variable = { global.building_modernized_upgrade_speed@token:building_services_building = 6 }

                set_variable = { global.building_modernized_input_resource_1@token:building_services_building = token:resource_industrial_goods }
                set_variable = { global.building_modernized_input_amount_1@token:building_services_building = 10.0 }

                set_variable = { global.building_modernized_input_resource_2@token:building_services_building = token:resource_consumer_goods }
                set_variable = { global.building_modernized_input_amount_2@token:building_services_building = 21.0 }

                set_variable = { global.building_modernized_input_resource_3@token:building_services_building = token:resource_luxury_goods }
                set_variable = { global.building_modernized_input_amount_3@token:building_services_building = 7.0 }

                set_variable = { global.building_modernized_input_resource_4@token:building_services_building = token:resource_electricity }
                set_variable = { global.building_modernized_input_amount_4@token:building_services_building = 30.0 }

                set_variable = { global.building_modernized_peasants_employment@token:building_services_building = 0.0 } #1x
                set_variable = { global.building_modernized_laborers_employment@token:building_services_building = 0.0 } #2x
                set_variable = { global.building_modernized_workers_employment@token:building_services_building = 2.4 } #5x
                set_variable = { global.building_modernized_professionals_employment@token:building_services_building = 2.5 } #10x
                set_variable = { global.building_modernized_specialists_employment@token:building_services_building = 0 } #20x
                set_variable = { global.building_modernized_aristocrats_employment@token:building_services_building = 0.0 } #30x
                set_variable = { global.building_modernized_capitalists_employment@token:building_services_building = 0.1 } #50x
            #
            #Roboticized
                set_variable = { global.building_roboticized_tech_unlock@token:building_services_building = token:color_tv }

                #Productivity: $12.4 /K
                set_variable = { global.building_roboticized_output_1@token:building_services_building = 80 }

                set_variable = { global.building_roboticized_construction_amount@token:building_services_building = 1116 }
                set_variable = { global.building_roboticized_construction_speed@token:building_services_building = 31 }

                set_variable = { global.building_roboticized_upgrade_amount@token:building_services_building = 48 }
                set_variable = { global.building_roboticized_upgrade_speed@token:building_services_building = 8 }

                set_variable = { global.building_roboticized_input_resource_1@token:building_services_building = token:resource_industrial_goods }
                set_variable = { global.building_roboticized_input_amount_1@token:building_services_building = 12.0 }

                set_variable = { global.building_roboticized_input_resource_2@token:building_services_building = token:resource_consumer_goods }
                set_variable = { global.building_roboticized_input_amount_2@token:building_services_building = 25.0 }

                set_variable = { global.building_roboticized_input_resource_3@token:building_services_building = token:resource_luxury_goods }
                set_variable = { global.building_roboticized_input_amount_3@token:building_services_building = 11.0 }

                set_variable = { global.building_roboticized_input_resource_4@token:building_services_building = token:resource_electricity }
                set_variable = { global.building_roboticized_input_amount_4@token:building_services_building = 40.0 }

                set_variable = { global.building_roboticized_peasants_employment@token:building_services_building = 0.0 } #1x
                set_variable = { global.building_roboticized_laborers_employment@token:building_services_building = 0.0 } #2x
                set_variable = { global.building_roboticized_workers_employment@token:building_services_building = 0.9 } #5x
                set_variable = { global.building_roboticized_professionals_employment@token:building_services_building = 3.0 } #10x
                set_variable = { global.building_roboticized_specialists_employment@token:building_services_building = 0.5 } #20x
                set_variable = { global.building_roboticized_aristocrats_employment@token:building_services_building = 0.0 } #30x
                set_variable = { global.building_roboticized_capitalists_employment@token:building_services_building = 0.1 } #50x
            #
            #Computerized
                set_variable = { global.building_computerized_tech_unlock@token:building_services_building = token:internet }

                #Productivity: $16.5 /K
                set_variable = { global.building_computerized_output_1@token:building_services_building = 82 }

                set_variable = { global.building_computerized_construction_amount@token:building_services_building = 1440 }
                set_variable = { global.building_computerized_construction_speed@token:building_services_building = 40 }

                set_variable = { global.building_computerized_upgrade_amount@token:building_services_building = 60 }
                set_variable = { global.building_computerized_upgrade_speed@token:building_services_building = 10 }

                set_variable = { global.building_computerized_input_resource_1@token:building_services_building = token:resource_industrial_goods }
                set_variable = { global.building_computerized_input_amount_1@token:building_services_building = 12.0 }

                set_variable = { global.building_computerized_input_resource_2@token:building_services_building = token:resource_consumer_goods }
                set_variable = { global.building_computerized_input_amount_2@token:building_services_building = 25.0 }

                set_variable = { global.building_computerized_input_resource_3@token:building_services_building = token:resource_luxury_goods }
                set_variable = { global.building_computerized_input_amount_3@token:building_services_building = 13.0 }

                set_variable = { global.building_computerized_input_resource_4@token:building_services_building = token:resource_electricity }
                set_variable = { global.building_computerized_input_amount_4@token:building_services_building = 50.0 }

                set_variable = { global.building_computerized_peasants_employment@token:building_services_building = 0.0 } #1x
                set_variable = { global.building_computerized_laborers_employment@token:building_services_building = 0.0 } #2x
                set_variable = { global.building_computerized_workers_employment@token:building_services_building = 0.0 } #5x
                set_variable = { global.building_computerized_professionals_employment@token:building_services_building = 2.4 } #10x
                set_variable = { global.building_computerized_specialists_employment@token:building_services_building = 1.0 } #20x
                set_variable = { global.building_computerized_aristocrats_employment@token:building_services_building = 0.0 } #30x
                set_variable = { global.building_computerized_capitalists_employment@token:building_services_building = 0.1 } #50x
            #
            #Digitalized
                set_variable = { global.building_digitalized_tech_unlock@token:building_services_building = token:smartphones }

                #Productivity: $20.0 /K
                set_variable = { global.building_digitalized_output_1@token:building_services_building = 100 }

                set_variable = { global.building_digitalized_construction_amount@token:building_services_building = 2268 }
                set_variable = { global.building_digitalized_construction_speed@token:building_services_building = 63 }

                set_variable = { global.building_digitalized_upgrade_amount@token:building_services_building = 90 }
                set_variable = { global.building_digitalized_upgrade_speed@token:building_services_building = 15 }

                set_variable = { global.building_digitalized_input_resource_1@token:building_services_building = token:resource_industrial_goods }
                set_variable = { global.building_digitalized_input_amount_1@token:building_services_building = 16.0 }

                set_variable = { global.building_digitalized_input_resource_2@token:building_services_building = token:resource_consumer_goods }
                set_variable = { global.building_digitalized_input_amount_2@token:building_services_building = 30.0 }

                set_variable = { global.building_digitalized_input_resource_3@token:building_services_building = token:resource_luxury_goods }
                set_variable = { global.building_digitalized_input_amount_3@token:building_services_building = 20.0 }

                set_variable = { global.building_digitalized_input_resource_4@token:building_services_building = token:resource_electricity }
                set_variable = { global.building_digitalized_input_amount_4@token:building_services_building = 60.0 }

                set_variable = { global.building_digitalized_peasants_employment@token:building_services_building = 0.0 } #1x
                set_variable = { global.building_digitalized_laborers_employment@token:building_services_building = 0.0 } #2x
                set_variable = { global.building_digitalized_workers_employment@token:building_services_building = 0.0 } #5x
                set_variable = { global.building_digitalized_professionals_employment@token:building_services_building = 1.4 } #10x
                set_variable = { global.building_digitalized_specialists_employment@token:building_services_building = 1.5 } #20x
                set_variable = { global.building_digitalized_aristocrats_employment@token:building_services_building = 0.0 } #30x
                set_variable = { global.building_digitalized_capitalists_employment@token:building_services_building = 0.1 } #50x
            #
            #Automatized
                set_variable = { global.building_automatized_tech_unlock@token:building_services_building = token:full_immersion_vr }

                #Productivity: $28.0 /K
                set_variable = { global.building_automatized_output_1@token:building_services_building = 106 }

                set_variable = { global.building_automatized_construction_amount@token:building_services_building = 2628 }
                set_variable = { global.building_automatized_construction_speed@token:building_services_building = 73 }

                set_variable = { global.building_automatized_upgrade_amount@token:building_services_building = 120 }
                set_variable = { global.building_automatized_upgrade_speed@token:building_services_building = 20 }

                set_variable = { global.building_automatized_input_resource_1@token:building_services_building = token:resource_industrial_goods }
                set_variable = { global.building_automatized_input_amount_1@token:building_services_building = 18.0 }

                set_variable = { global.building_automatized_input_resource_2@token:building_services_building = token:resource_consumer_goods }
                set_variable = { global.building_automatized_input_amount_2@token:building_services_building = 30.0 }

                set_variable = { global.building_automatized_input_resource_3@token:building_services_building = token:resource_luxury_goods }
                set_variable = { global.building_automatized_input_amount_3@token:building_services_building = 25.0 }

                set_variable = { global.building_automatized_input_resource_4@token:building_services_building = token:resource_electricity }
                set_variable = { global.building_automatized_input_amount_4@token:building_services_building = 70.0 }

                set_variable = { global.building_automatized_peasants_employment@token:building_services_building = 0.0 } #1x
                set_variable = { global.building_automatized_laborers_employment@token:building_services_building = 0.0 } #2x
                set_variable = { global.building_automatized_workers_employment@token:building_services_building = 0.0 } #5x
                set_variable = { global.building_automatized_professionals_employment@token:building_services_building = 0.4 } #10x
                set_variable = { global.building_automatized_specialists_employment@token:building_services_building = 2.0 } #20x
                set_variable = { global.building_automatized_aristocrats_employment@token:building_services_building = 0.0 } #30x
                set_variable = { global.building_automatized_capitalists_employment@token:building_services_building = 0.1 } #50x
            #
            #Futurized
                set_variable = { global.building_futurized_tech_unlock@token:building_services_building = token:better_than_life }

                #Productivity: $32.0 /K
                set_variable = { global.building_futurized_output_1@token:building_services_building = 121 }

                set_variable = { global.building_futurized_construction_amount@token:building_services_building = 2988 }
                set_variable = { global.building_futurized_construction_speed@token:building_services_building = 83 }

                set_variable = { global.building_futurized_input_resource_1@token:building_services_building = token:resource_industrial_goods }
                set_variable = { global.building_futurized_input_amount_1@token:building_services_building = 20.0 }

                set_variable = { global.building_futurized_input_resource_2@token:building_services_building = token:resource_consumer_goods }
                set_variable = { global.building_futurized_input_amount_2@token:building_services_building = 30.0 }

                set_variable = { global.building_futurized_input_resource_3@token:building_services_building = token:resource_luxury_goods }
                set_variable = { global.building_futurized_input_amount_3@token:building_services_building = 30.0 }

                set_variable = { global.building_futurized_input_resource_4@token:building_services_building = token:resource_electricity }
                set_variable = { global.building_futurized_input_amount_4@token:building_services_building = 85.0 }

                set_variable = { global.building_futurized_peasants_employment@token:building_services_building = 0.0 } #1x
                set_variable = { global.building_futurized_laborers_employment@token:building_services_building = 0.0 } #2x
                set_variable = { global.building_futurized_workers_employment@token:building_services_building = 0.0 } #5x
                set_variable = { global.building_futurized_professionals_employment@token:building_services_building = 0.0 } #10x
                set_variable = { global.building_futurized_specialists_employment@token:building_services_building = 1.9 } #20x
                set_variable = { global.building_futurized_aristocrats_employment@token:building_services_building = 0.0 } #30x
                set_variable = { global.building_futurized_capitalists_employment@token:building_services_building = 0.1 } #50x
            #
        }
        define_power_plant = {
            set_variable = { global.building_output_resource_1@token:building_power_plant = token:resource_electricity }

            set_variable = { global.building_industrial_capacity_use@token:building_power_plant = 3 }

            #Industrialized
                set_variable = { global.building_industrialized_tech_unlock@token:building_power_plant = token:woolrich_electrical_generator }

                #Productivity: $2.5 /K
                set_variable = { global.building_industrialized_output_1@token:building_power_plant = 60 }

                set_variable = { global.building_industrialized_construction_amount@token:building_power_plant = 324 }
                set_variable = { global.building_industrialized_construction_speed@token:building_power_plant = 9 }

                set_variable = { global.building_industrialized_upgrade_amount@token:building_power_plant = 15 }
                set_variable = { global.building_industrialized_upgrade_speed@token:building_power_plant = 2.5 }

                set_variable = { global.building_industrialized_input_resource_1@token:building_power_plant = token:resource_industrial_goods }
                set_variable = { global.building_industrialized_input_amount_1@token:building_power_plant = 8.0 }

                set_variable = { global.building_industrialized_peasants_employment@token:building_power_plant = 0.0 } #1x
                set_variable = { global.building_industrialized_laborers_employment@token:building_power_plant = 6.4 } #2x
                set_variable = { global.building_industrialized_workers_employment@token:building_power_plant = 2.5 } #5x
                set_variable = { global.building_industrialized_professionals_employment@token:building_power_plant = 0 } #10x
                set_variable = { global.building_industrialized_specialists_employment@token:building_power_plant = 0 } #20x
                set_variable = { global.building_industrialized_aristocrats_employment@token:building_power_plant = 0.0 } #30x
                set_variable = { global.building_industrialized_capitalists_employment@token:building_power_plant = 0.1 } #50x
            #
            #Mechanized
                set_variable = { global.building_mechanized_tech_unlock@token:building_power_plant = token:hydroelectric_plant }

                #Productivity: $4.0 /K
                set_variable = { global.building_mechanized_output_1@token:building_power_plant = 140 }

                set_variable = { global.building_mechanized_construction_amount@token:building_power_plant = 396 }
                set_variable = { global.building_mechanized_construction_speed@token:building_power_plant = 11 }

                set_variable = { global.building_mechanized_upgrade_amount@token:building_power_plant = 15 }
                set_variable = { global.building_mechanized_upgrade_speed@token:building_power_plant = 2.5 }

                set_variable = { global.building_mechanized_input_resource_1@token:building_power_plant = token:resource_industrial_goods }
                set_variable = { global.building_mechanized_input_amount_1@token:building_power_plant = 30.0 }

                set_variable = { global.building_mechanized_peasants_employment@token:building_power_plant = 0.0 } #1x
                set_variable = { global.building_mechanized_laborers_employment@token:building_power_plant = 3.9 } #2x
                set_variable = { global.building_mechanized_workers_employment@token:building_power_plant = 3.5 } #5x
                set_variable = { global.building_mechanized_professionals_employment@token:building_power_plant = 0 } #10x
                set_variable = { global.building_mechanized_specialists_employment@token:building_power_plant = 0 } #20x
                set_variable = { global.building_mechanized_aristocrats_employment@token:building_power_plant = 0.0 } #30x
                set_variable = { global.building_mechanized_capitalists_employment@token:building_power_plant = 0.1 } #50x
            #
            #Electrified
                set_variable = { global.building_electrified_tech_unlock@token:building_power_plant = token:power_station_1 }

                #Productivity: $5.5 /K
                set_variable = { global.building_electrified_output_1@token:building_power_plant = 170 }

                set_variable = { global.building_electrified_construction_amount@token:building_power_plant = 540 }
                set_variable = { global.building_electrified_construction_speed@token:building_power_plant = 15 }

                set_variable = { global.building_electrified_upgrade_amount@token:building_power_plant = 18 }
                set_variable = { global.building_electrified_upgrade_speed@token:building_power_plant = 3 }

                set_variable = { global.building_electrified_input_resource_1@token:building_power_plant = token:resource_industrial_goods }
                set_variable = { global.building_electrified_input_amount_1@token:building_power_plant = 16.0 }

                set_variable = { global.building_electrified_input_resource_2@token:building_power_plant = token:resource_energy_materials }
                set_variable = { global.building_electrified_input_amount_2@token:building_power_plant = 80.0 }

                set_variable = { global.building_electrified_peasants_employment@token:building_power_plant = 0.0 } #1x
                set_variable = { global.building_electrified_laborers_employment@token:building_power_plant = 1.4 } #2x
                set_variable = { global.building_electrified_workers_employment@token:building_power_plant = 4.5 } #5x
                set_variable = { global.building_electrified_professionals_employment@token:building_power_plant = 0.5 } #10x
                set_variable = { global.building_electrified_specialists_employment@token:building_power_plant = 0 } #20x
                set_variable = { global.building_electrified_aristocrats_employment@token:building_power_plant = 0.0 } #30x
                set_variable = { global.building_electrified_capitalists_employment@token:building_power_plant = 0.1 } #50x
            #
            #Motorized
                set_variable = { global.building_motorized_tech_unlock@token:building_power_plant = token:power_station_5 }

                #Productivity: $7.2 /K
                set_variable = { global.building_motorized_output_1@token:building_power_plant = 180 }

                set_variable = { global.building_motorized_construction_amount@token:building_power_plant = 648 }
                set_variable = { global.building_motorized_construction_speed@token:building_power_plant = 18 }

                set_variable = { global.building_motorized_upgrade_amount@token:building_power_plant = 24 }
                set_variable = { global.building_motorized_upgrade_speed@token:building_power_plant = 4 }

                set_variable = { global.building_motorized_input_resource_1@token:building_power_plant = token:resource_industrial_goods }
                set_variable = { global.building_motorized_input_amount_1@token:building_power_plant = 19.0 }

                set_variable = { global.building_motorized_input_resource_2@token:building_power_plant = token:resource_energy_materials }
                set_variable = { global.building_motorized_input_amount_2@token:building_power_plant = 90.0 }

                set_variable = { global.building_motorized_peasants_employment@token:building_power_plant = 0.0 } #1x
                set_variable = { global.building_motorized_laborers_employment@token:building_power_plant = 0.0 } #2x
                set_variable = { global.building_motorized_workers_employment@token:building_power_plant = 3.9 } #5x
                set_variable = { global.building_motorized_professionals_employment@token:building_power_plant = 2.0 } #10x
                set_variable = { global.building_motorized_specialists_employment@token:building_power_plant = 0 } #20x
                set_variable = { global.building_motorized_aristocrats_employment@token:building_power_plant = 0.0 } #30x
                set_variable = { global.building_motorized_capitalists_employment@token:building_power_plant = 0.1 } #50x
            #
            #Modernized
                set_variable = { global.building_modernized_tech_unlock@token:building_power_plant = token:atomic_reactors }

                #Productivity: $9.8 /K
                set_variable = { global.building_modernized_output_1@token:building_power_plant = 230 }

                set_variable = { global.building_modernized_construction_amount@token:building_power_plant = 828 }
                set_variable = { global.building_modernized_construction_speed@token:building_power_plant = 23 }

                set_variable = { global.building_modernized_upgrade_amount@token:building_power_plant = 36 }
                set_variable = { global.building_modernized_upgrade_speed@token:building_power_plant = 6 }

                set_variable = { global.building_modernized_input_resource_1@token:building_power_plant = token:resource_industrial_goods }
                set_variable = { global.building_modernized_input_amount_1@token:building_power_plant = 22.0 }

                set_variable = { global.building_modernized_input_resource_2@token:building_power_plant = token:resource_energy_materials }
                set_variable = { global.building_modernized_input_amount_2@token:building_power_plant = 130.0 }

                set_variable = { global.building_modernized_peasants_employment@token:building_power_plant = 0.0 } #1x
                set_variable = { global.building_modernized_laborers_employment@token:building_power_plant = 0.0 } #2x
                set_variable = { global.building_modernized_workers_employment@token:building_power_plant = 2.4 } #5x
                set_variable = { global.building_modernized_professionals_employment@token:building_power_plant = 2.5 } #10x
                set_variable = { global.building_modernized_specialists_employment@token:building_power_plant = 0 } #20x
                set_variable = { global.building_modernized_aristocrats_employment@token:building_power_plant = 0.0 } #30x
                set_variable = { global.building_modernized_capitalists_employment@token:building_power_plant = 0.1 } #50x
            #
            #Roboticized
                set_variable = { global.building_roboticized_tech_unlock@token:building_power_plant = token:power_station_9 }

                #Productivity: $12.4 /K
                set_variable = { global.building_roboticized_output_1@token:building_power_plant = 250 }

                set_variable = { global.building_roboticized_construction_amount@token:building_power_plant = 1116 }
                set_variable = { global.building_roboticized_construction_speed@token:building_power_plant = 31 }

                set_variable = { global.building_roboticized_upgrade_amount@token:building_power_plant = 48 }
                set_variable = { global.building_roboticized_upgrade_speed@token:building_power_plant = 8 }

                set_variable = { global.building_roboticized_input_resource_1@token:building_power_plant = token:resource_industrial_goods }
                set_variable = { global.building_roboticized_input_amount_1@token:building_power_plant = 30.0 }

                set_variable = { global.building_roboticized_input_resource_2@token:building_power_plant = token:resource_energy_materials }
                set_variable = { global.building_roboticized_input_amount_2@token:building_power_plant = 165.0 }

                set_variable = { global.building_roboticized_peasants_employment@token:building_power_plant = 0.0 } #1x
                set_variable = { global.building_roboticized_laborers_employment@token:building_power_plant = 0.0 } #2x
                set_variable = { global.building_roboticized_workers_employment@token:building_power_plant = 0.9 } #5x
                set_variable = { global.building_roboticized_professionals_employment@token:building_power_plant = 3.0 } #10x
                set_variable = { global.building_roboticized_specialists_employment@token:building_power_plant = 0.5 } #20x
                set_variable = { global.building_roboticized_aristocrats_employment@token:building_power_plant = 0.0 } #30x
                set_variable = { global.building_roboticized_capitalists_employment@token:building_power_plant = 0.1 } #50x
            #
            #Computerized
                set_variable = { global.building_computerized_tech_unlock@token:building_power_plant = token:power_station_11 }

                #Productivity: $16.5 /K
                set_variable = { global.building_computerized_output_1@token:building_power_plant = 300 }

                set_variable = { global.building_computerized_construction_amount@token:building_power_plant = 1440 }
                set_variable = { global.building_computerized_construction_speed@token:building_power_plant = 40 }

                set_variable = { global.building_computerized_upgrade_amount@token:building_power_plant = 60 }
                set_variable = { global.building_computerized_upgrade_speed@token:building_power_plant = 10 }

                set_variable = { global.building_computerized_input_resource_1@token:building_power_plant = token:resource_industrial_goods }
                set_variable = { global.building_computerized_input_amount_1@token:building_power_plant = 41.0 }

                set_variable = { global.building_computerized_input_resource_2@token:building_power_plant = token:resource_energy_materials }
                set_variable = { global.building_computerized_input_amount_2@token:building_power_plant = 225.0 }

                set_variable = { global.building_computerized_peasants_employment@token:building_power_plant = 0.0 } #1x
                set_variable = { global.building_computerized_laborers_employment@token:building_power_plant = 0.0 } #2x
                set_variable = { global.building_computerized_workers_employment@token:building_power_plant = 0.0 } #5x
                set_variable = { global.building_computerized_professionals_employment@token:building_power_plant = 2.4 } #10x
                set_variable = { global.building_computerized_specialists_employment@token:building_power_plant = 1.0 } #20x
                set_variable = { global.building_computerized_aristocrats_employment@token:building_power_plant = 0.0 } #30x
                set_variable = { global.building_computerized_capitalists_employment@token:building_power_plant = 0.1 } #50x
            #
            #Digitalized
                set_variable = { global.building_digitalized_tech_unlock@token:building_power_plant = token:pratical_fusion_reactors }

                #Productivity: $20.0 /K
                set_variable = { global.building_digitalized_output_1@token:building_power_plant = 440 }

                set_variable = { global.building_digitalized_construction_amount@token:building_power_plant = 2268 }
                set_variable = { global.building_digitalized_construction_speed@token:building_power_plant = 63 }

                set_variable = { global.building_digitalized_upgrade_amount@token:building_power_plant = 90 }
                set_variable = { global.building_digitalized_upgrade_speed@token:building_power_plant = 15 }

                set_variable = { global.building_digitalized_input_resource_1@token:building_power_plant = token:resource_industrial_goods }
                set_variable = { global.building_digitalized_input_amount_1@token:building_power_plant = 60.0 }

                set_variable = { global.building_digitalized_input_resource_2@token:building_power_plant = token:resource_energy_materials }
                set_variable = { global.building_digitalized_input_amount_2@token:building_power_plant = 220.0 }

                set_variable = { global.building_digitalized_input_resource_3@token:building_power_plant = token:resource_electricity }
                set_variable = { global.building_digitalized_input_amount_3@token:building_power_plant = 60.0 }

                set_variable = { global.building_digitalized_peasants_employment@token:building_power_plant = 0.0 } #1x
                set_variable = { global.building_digitalized_laborers_employment@token:building_power_plant = 0.0 } #2x
                set_variable = { global.building_digitalized_workers_employment@token:building_power_plant = 0.0 } #5x
                set_variable = { global.building_digitalized_professionals_employment@token:building_power_plant = 1.9 } #10x
                set_variable = { global.building_digitalized_specialists_employment@token:building_power_plant = 1.5 } #20x
                set_variable = { global.building_digitalized_aristocrats_employment@token:building_power_plant = 0.0 } #30x
                set_variable = { global.building_digitalized_capitalists_employment@token:building_power_plant = 0.1 } #50x
            #
            #Automatized
                set_variable = { global.building_automatized_tech_unlock@token:building_power_plant = token:fusion_miniaturization }

                #Productivity: $30.0 /K
                set_variable = { global.building_automatized_output_1@token:building_power_plant = 500 }

                set_variable = { global.building_automatized_construction_amount@token:building_power_plant = 2628 }
                set_variable = { global.building_automatized_construction_speed@token:building_power_plant = 73 }

                set_variable = { global.building_automatized_upgrade_amount@token:building_power_plant = 120 }
                set_variable = { global.building_automatized_upgrade_speed@token:building_power_plant = 20 }

                set_variable = { global.building_automatized_input_resource_1@token:building_power_plant = token:resource_industrial_goods }
                set_variable = { global.building_automatized_input_amount_1@token:building_power_plant = 100.0 }

                set_variable = { global.building_automatized_input_resource_2@token:building_power_plant = token:resource_energy_materials }
                set_variable = { global.building_automatized_input_amount_2@token:building_power_plant = 210.0 }

                set_variable = { global.building_automatized_input_resource_3@token:building_power_plant = token:resource_electricity }
                set_variable = { global.building_automatized_input_amount_3@token:building_power_plant = 150.0 }

                set_variable = { global.building_automatized_peasants_employment@token:building_power_plant = 0.0 } #1x
                set_variable = { global.building_automatized_laborers_employment@token:building_power_plant = 0.0 } #2x
                set_variable = { global.building_automatized_workers_employment@token:building_power_plant = 0.0 } #5x
                set_variable = { global.building_automatized_professionals_employment@token:building_power_plant = 0.4 } #10x
                set_variable = { global.building_automatized_specialists_employment@token:building_power_plant = 2.0 } #20x
                set_variable = { global.building_automatized_aristocrats_employment@token:building_power_plant = 0.0 } #30x
                set_variable = { global.building_automatized_capitalists_employment@token:building_power_plant = 0.1 } #50x
            #
            #Futurized
                set_variable = { global.building_futurized_tech_unlock@token:building_power_plant = token:power_station_15 }

                #Productivity: $35.0 /K
                set_variable = { global.building_futurized_output_1@token:building_power_plant = 600 }

                set_variable = { global.building_futurized_construction_amount@token:building_power_plant = 2988 }
                set_variable = { global.building_futurized_construction_speed@token:building_power_plant = 83 }

                set_variable = { global.building_futurized_input_resource_1@token:building_power_plant = token:resource_industrial_goods }
                set_variable = { global.building_futurized_input_amount_1@token:building_power_plant = 110.0 }

                set_variable = { global.building_futurized_input_resource_2@token:building_power_plant = token:resource_energy_materials }
                set_variable = { global.building_futurized_input_amount_2@token:building_power_plant = 180.0 }

                set_variable = { global.building_futurized_input_resource_3@token:building_power_plant = token:resource_electricity }
                set_variable = { global.building_futurized_input_amount_3@token:building_power_plant = 250.0 }

                set_variable = { global.building_futurized_peasants_employment@token:building_power_plant = 0.0 } #1x
                set_variable = { global.building_futurized_laborers_employment@token:building_power_plant = 0.0 } #2x
                set_variable = { global.building_futurized_workers_employment@token:building_power_plant = 0.0 } #5x
                set_variable = { global.building_futurized_professionals_employment@token:building_power_plant = 0.0 } #10x
                set_variable = { global.building_futurized_specialists_employment@token:building_power_plant = 1.9 } #20x
                set_variable = { global.building_futurized_aristocrats_employment@token:building_power_plant = 0.0 } #30x
                set_variable = { global.building_futurized_capitalists_employment@token:building_power_plant = 0.1 } #50x
            #
        }
    #

    #Rural Buildings
        define_rice_paddy = {
            set_variable = { global.building_output_resource_1@token:building_rice_paddy = token:resource_food }
            set_variable = { global.building_output_resource_2@token:building_rice_paddy = token:resource_consumer_goods }
            set_variable = { global.building_output_resource_3@token:building_rice_paddy = token:resource_energy_materials }

            #set_variable = { global.building_uses_arable_land@token:building_rice_paddy = 1 } #Is in the absense of used arable land

            #Basic
                #Productivity: $1.28 /K
                set_variable = { global.building_basic_output_1@token:building_rice_paddy = 20 } #0.5 per K
                set_variable = { global.building_basic_output_2@token:building_rice_paddy = 2 } #0.05 per K
                set_variable = { global.building_basic_output_3@token:building_rice_paddy = 1.6 } #0.04 per K

                set_variable = { global.building_basic_peasants_employment@token:building_rice_paddy = 49.5 } #1x
                set_variable = { global.building_basic_laborers_employment@token:building_rice_paddy = 0 } #2x
                set_variable = { global.building_basic_workers_employment@token:building_rice_paddy = 0 } #5x
                set_variable = { global.building_basic_professionals_employment@token:building_rice_paddy = 0 } #10x
                set_variable = { global.building_basic_specialists_employment@token:building_rice_paddy = 0 } #20x
                set_variable = { global.building_basic_aristocrats_employment@token:building_rice_paddy = 0.5 } #30x
                set_variable = { global.building_basic_capitalists_employment@token:building_rice_paddy = 0 } #50x
            #
        }
        define_subsistence_farm = {
            set_variable = { global.building_output_resource_1@token:building_subsistence_farm = token:resource_food }
            set_variable = { global.building_output_resource_2@token:building_subsistence_farm = token:resource_consumer_goods }
            set_variable = { global.building_output_resource_3@token:building_subsistence_farm = token:resource_raw_materials }
            set_variable = { global.building_output_resource_4@token:building_subsistence_farm = token:resource_energy_materials }

            #set_variable = { global.building_uses_arable_land@token:building_subsistence_farm = 1 }  #Is in the absense of used arable land

            #Basic
                #Productivity: $1.28 /K
                set_variable = { global.building_basic_output_1@token:building_subsistence_farm = 10 } #0.5 per K
                set_variable = { global.building_basic_output_2@token:building_subsistence_farm = 1 } #0.05 per K
                set_variable = { global.building_basic_output_3@token:building_subsistence_farm = 0.2 } #0.01 per K
                set_variable = { global.building_basic_output_4@token:building_subsistence_farm = 0.8 } #0.04 per K

                set_variable = { global.building_basic_peasants_employment@token:building_subsistence_farm = 24.8 } #1x
                set_variable = { global.building_basic_laborers_employment@token:building_subsistence_farm = 0 } #2x
                set_variable = { global.building_basic_workers_employment@token:building_subsistence_farm = 0 } #5x
                set_variable = { global.building_basic_professionals_employment@token:building_subsistence_farm = 0 } #10x
                set_variable = { global.building_basic_specialists_employment@token:building_subsistence_farm = 0 } #20x
                set_variable = { global.building_basic_aristocrats_employment@token:building_subsistence_farm = 0.2 } #30x
                set_variable = { global.building_basic_capitalists_employment@token:building_subsistence_farm = 0 } #50x
            #
        }
        define_commercial_farm = {
            set_variable = { global.building_output_resource_1@token:building_commercial_farm = token:resource_food }

            set_variable = { global.building_uses_arable_land@token:building_commercial_farm = 1 }
            set_variable = { global.building_industrial_capacity_use@token:building_commercial_farm = 1 }

            #Basic
                set_variable = { global.building_basic_tech_unlock@token:building_commercial_farm = 1 }

                set_variable = { global.building_basic_construction_amount@token:building_commercial_farm = 108 }
                set_variable = { global.building_basic_construction_speed@token:building_commercial_farm = 3 }

                set_variable = { global.building_basic_upgrade_amount@token:building_commercial_farm = 6 }
                set_variable = { global.building_basic_upgrade_speed@token:building_commercial_farm = 1 }

                #Productivity: $1.8 /K
                set_variable = { global.building_basic_output_1@token:building_commercial_farm = 16 }

                set_variable = { global.building_basic_peasants_employment@token:building_commercial_farm = 0.0 } #1x
                set_variable = { global.building_basic_laborers_employment@token:building_commercial_farm = 12.4 } #2x
                set_variable = { global.building_basic_workers_employment@token:building_commercial_farm = 0 } #5x
                set_variable = { global.building_basic_professionals_employment@token:building_commercial_farm = 0 } #10x
                set_variable = { global.building_basic_specialists_employment@token:building_commercial_farm = 0 } #20x
                set_variable = { global.building_basic_aristocrats_employment@token:building_commercial_farm = 0.1 } #30x
                set_variable = { global.building_basic_capitalists_employment@token:building_commercial_farm = 0 } #50x
            #
            #Advanced
                set_variable = { global.building_advanced_tech_unlock@token:building_commercial_farm = token:pre_industrial_farms }

                #Productivity: $2.25 /K
                set_variable = { global.building_advanced_output_1@token:building_commercial_farm = 38 }

                set_variable = { global.building_advanced_construction_amount@token:building_commercial_farm = 180 }
                set_variable = { global.building_advanced_construction_speed@token:building_commercial_farm = 5 }

                set_variable = { global.building_advanced_upgrade_amount@token:building_commercial_farm = 9 }
                set_variable = { global.building_advanced_upgrade_speed@token:building_commercial_farm = 1.5 }

                set_variable = { global.building_advanced_input_resource_1@token:building_commercial_farm = token:resource_industrial_goods }
                set_variable = { global.building_advanced_input_amount_1@token:building_commercial_farm = 3.0 }

                set_variable = { global.building_advanced_input_resource_2@token:building_commercial_farm = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_advanced_input_amount_2@token:building_commercial_farm = 6.0 }

                set_variable = { global.building_advanced_peasants_employment@token:building_commercial_farm = 0.0 } #1x
                set_variable = { global.building_advanced_laborers_employment@token:building_commercial_farm = 12.4 } #2x
                set_variable = { global.building_advanced_workers_employment@token:building_commercial_farm = 0 } #5x
                set_variable = { global.building_advanced_professionals_employment@token:building_commercial_farm = 0 } #10x
                set_variable = { global.building_advanced_specialists_employment@token:building_commercial_farm = 0 } #20x
                set_variable = { global.building_advanced_aristocrats_employment@token:building_commercial_farm = 0.1 } #30x
                set_variable = { global.building_advanced_capitalists_employment@token:building_commercial_farm = 0 } #50x
            #
            #Industrialized
                set_variable = { global.building_industrialized_tech_unlock@token:building_commercial_farm = token:threshing_machine }

                #Productivity: $2.89 /K
                set_variable = { global.building_industrialized_output_1@token:building_commercial_farm = 54 }

                set_variable = { global.building_industrialized_construction_amount@token:building_commercial_farm = 324 }
                set_variable = { global.building_industrialized_construction_speed@token:building_commercial_farm = 9 }

                set_variable = { global.building_industrialized_upgrade_amount@token:building_commercial_farm = 12 }
                set_variable = { global.building_industrialized_upgrade_speed@token:building_commercial_farm = 2 }

                set_variable = { global.building_industrialized_input_resource_1@token:building_commercial_farm = token:resource_industrial_goods }
                set_variable = { global.building_industrialized_input_amount_1@token:building_commercial_farm = 6.0 }

                set_variable = { global.building_industrialized_input_resource_2@token:building_commercial_farm = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_industrialized_input_amount_2@token:building_commercial_farm = 19.0 }

                set_variable = { global.building_industrialized_peasants_employment@token:building_commercial_farm = 0.0 } #1x
                set_variable = { global.building_industrialized_laborers_employment@token:building_commercial_farm = 10.4 } #2x
                set_variable = { global.building_industrialized_workers_employment@token:building_commercial_farm = 0.5 } #5x
                set_variable = { global.building_industrialized_professionals_employment@token:building_commercial_farm = 0 } #10x
                set_variable = { global.building_industrialized_specialists_employment@token:building_commercial_farm = 0 } #20x
                set_variable = { global.building_industrialized_aristocrats_employment@token:building_commercial_farm = 0.1 } #30x
                set_variable = { global.building_industrialized_capitalists_employment@token:building_commercial_farm = 0 } #50x
            #
            #Mechanized
                set_variable = { global.building_mechanized_tech_unlock@token:building_commercial_farm = token:late_traction_engines }

                #Productivity: $3.6 /K
                set_variable = { global.building_mechanized_output_1@token:building_commercial_farm = 81 }

                set_variable = { global.building_mechanized_construction_amount@token:building_commercial_farm = 396 }
                set_variable = { global.building_mechanized_construction_speed@token:building_commercial_farm = 11 }

                set_variable = { global.building_mechanized_upgrade_amount@token:building_commercial_farm = 15 }
                set_variable = { global.building_mechanized_upgrade_speed@token:building_commercial_farm = 2.5 }

                set_variable = { global.building_mechanized_input_resource_1@token:building_commercial_farm = token:resource_industrial_goods }
                set_variable = { global.building_mechanized_input_amount_1@token:building_commercial_farm = 12.0 }

                set_variable = { global.building_mechanized_input_resource_2@token:building_commercial_farm = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_mechanized_input_amount_2@token:building_commercial_farm = 30.0 }

                set_variable = { global.building_mechanized_input_resource_3@token:building_commercial_farm = token:resource_energy_materials }
                set_variable = { global.building_mechanized_input_amount_3@token:building_commercial_farm = 11.0 }

                set_variable = { global.building_mechanized_peasants_employment@token:building_commercial_farm = 0.0 } #1x
                set_variable = { global.building_mechanized_laborers_employment@token:building_commercial_farm = 7.9 } #2x
                set_variable = { global.building_mechanized_workers_employment@token:building_commercial_farm = 1.5 } #5x
                set_variable = { global.building_mechanized_professionals_employment@token:building_commercial_farm = 0 } #10x
                set_variable = { global.building_mechanized_specialists_employment@token:building_commercial_farm = 0 } #20x
                set_variable = { global.building_mechanized_aristocrats_employment@token:building_commercial_farm = 0.05 } #30x
                set_variable = { global.building_mechanized_capitalists_employment@token:building_commercial_farm = 0.05 } #50x
            #
            #Electrified
                set_variable = { global.building_electrified_tech_unlock@token:building_commercial_farm = token:early_tractors }

                #Productivity: $5.0 /K
                set_variable = { global.building_electrified_output_1@token:building_commercial_farm = 100 }

                set_variable = { global.building_electrified_construction_amount@token:building_commercial_farm = 540 }
                set_variable = { global.building_electrified_construction_speed@token:building_commercial_farm = 15 }

                set_variable = { global.building_electrified_upgrade_amount@token:building_commercial_farm = 18 }
                set_variable = { global.building_electrified_upgrade_speed@token:building_commercial_farm = 3 }

                set_variable = { global.building_electrified_input_resource_1@token:building_commercial_farm = token:resource_industrial_goods }
                set_variable = { global.building_electrified_input_amount_1@token:building_commercial_farm = 17.0 }

                set_variable = { global.building_electrified_input_resource_2@token:building_commercial_farm = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_electrified_input_amount_2@token:building_commercial_farm = 40.0 }

                set_variable = { global.building_electrified_input_resource_3@token:building_commercial_farm = token:resource_energy_materials }
                set_variable = { global.building_electrified_input_amount_3@token:building_commercial_farm = 21.0 }

                set_variable = { global.building_electrified_peasants_employment@token:building_commercial_farm = 0.0 } #1x
                set_variable = { global.building_electrified_laborers_employment@token:building_commercial_farm = 5.4 } #2x
                set_variable = { global.building_electrified_workers_employment@token:building_commercial_farm = 2.5 } #5x
                set_variable = { global.building_electrified_professionals_employment@token:building_commercial_farm = 0 } #10x
                set_variable = { global.building_electrified_specialists_employment@token:building_commercial_farm = 0 } #20x
                set_variable = { global.building_electrified_aristocrats_employment@token:building_commercial_farm = 0.05 } #30x
                set_variable = { global.building_electrified_capitalists_employment@token:building_commercial_farm = 0.05 } #50x
            #
            #Motorized
                set_variable = { global.building_motorized_tech_unlock@token:building_commercial_farm = token:fordson_tractor }

                #Productivity: $6.42 /K
                set_variable = { global.building_motorized_output_1@token:building_commercial_farm = 116 }

                set_variable = { global.building_motorized_construction_amount@token:building_commercial_farm = 648 }
                set_variable = { global.building_motorized_construction_speed@token:building_commercial_farm = 18 }

                set_variable = { global.building_motorized_upgrade_amount@token:building_commercial_farm = 24 }
                set_variable = { global.building_motorized_upgrade_speed@token:building_commercial_farm = 4 }

                set_variable = { global.building_motorized_input_resource_1@token:building_commercial_farm = token:resource_industrial_goods }
                set_variable = { global.building_motorized_input_amount_1@token:building_commercial_farm = 21.0 }

                set_variable = { global.building_motorized_input_resource_2@token:building_commercial_farm = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_motorized_input_amount_2@token:building_commercial_farm = 50.0 }

                set_variable = { global.building_motorized_input_resource_3@token:building_commercial_farm = token:resource_energy_materials }
                set_variable = { global.building_motorized_input_amount_3@token:building_commercial_farm = 29.0 }

                set_variable = { global.building_motorized_peasants_employment@token:building_commercial_farm = 0.0 } #1x
                set_variable = { global.building_motorized_laborers_employment@token:building_commercial_farm = 3.9 } #2x
                set_variable = { global.building_motorized_workers_employment@token:building_commercial_farm = 3.5 } #5x
                set_variable = { global.building_motorized_professionals_employment@token:building_commercial_farm = 0 } #10x
                set_variable = { global.building_motorized_specialists_employment@token:building_commercial_farm = 0 } #20x
                set_variable = { global.building_motorized_aristocrats_employment@token:building_commercial_farm = 0.0 } #30x
                set_variable = { global.building_motorized_capitalists_employment@token:building_commercial_farm = 0.1 } #50x
            #
            #Modernized
                set_variable = { global.building_modernized_tech_unlock@token:building_commercial_farm = token:agricultural_unit_machinery }

                #Productivity: $9.0 /K
                set_variable = { global.building_modernized_output_1@token:building_commercial_farm = 121 }

                set_variable = { global.building_modernized_construction_amount@token:building_commercial_farm = 828 }
                set_variable = { global.building_modernized_construction_speed@token:building_commercial_farm = 23 }

                set_variable = { global.building_modernized_upgrade_amount@token:building_commercial_farm = 36 }
                set_variable = { global.building_modernized_upgrade_speed@token:building_commercial_farm = 6 }

                set_variable = { global.building_modernized_input_resource_1@token:building_commercial_farm = token:resource_industrial_goods }
                set_variable = { global.building_modernized_input_amount_1@token:building_commercial_farm = 24.0 }

                set_variable = { global.building_modernized_input_resource_2@token:building_commercial_farm = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_modernized_input_amount_2@token:building_commercial_farm = 55.0 }

                set_variable = { global.building_modernized_input_resource_3@token:building_commercial_farm = token:resource_energy_materials }
                set_variable = { global.building_modernized_input_amount_3@token:building_commercial_farm = 35.0 }

                set_variable = { global.building_modernized_input_resource_4@token:building_commercial_farm = token:resource_electricity }
                set_variable = { global.building_modernized_input_amount_4@token:building_commercial_farm = 10.0 }

                set_variable = { global.building_modernized_peasants_employment@token:building_commercial_farm = 0.0 } #1x
                set_variable = { global.building_modernized_laborers_employment@token:building_commercial_farm = 2.4 } #2x
                set_variable = { global.building_modernized_workers_employment@token:building_commercial_farm = 2.5 } #5x
                set_variable = { global.building_modernized_professionals_employment@token:building_commercial_farm = 1.0 } #10x
                set_variable = { global.building_modernized_specialists_employment@token:building_commercial_farm = 0 } #20x
                set_variable = { global.building_modernized_aristocrats_employment@token:building_commercial_farm = 0.0 } #30x
                set_variable = { global.building_modernized_capitalists_employment@token:building_commercial_farm = 0.1 } #50x
            #
            #Roboticized
                set_variable = { global.building_roboticized_tech_unlock@token:building_commercial_farm = token:refined_agricultural_machines }

                #Productivity: $11.8 /K
                set_variable = { global.building_roboticized_output_1@token:building_commercial_farm = 136 }

                set_variable = { global.building_roboticized_construction_amount@token:building_commercial_farm = 1116 }
                set_variable = { global.building_roboticized_construction_speed@token:building_commercial_farm = 31 }

                set_variable = { global.building_roboticized_upgrade_amount@token:building_commercial_farm = 48 }
                set_variable = { global.building_roboticized_upgrade_speed@token:building_commercial_farm = 8 }

                set_variable = { global.building_roboticized_input_resource_1@token:building_commercial_farm = token:resource_industrial_goods }
                set_variable = { global.building_roboticized_input_amount_1@token:building_commercial_farm = 30.0 }

                set_variable = { global.building_roboticized_input_resource_2@token:building_commercial_farm = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_roboticized_input_amount_2@token:building_commercial_farm = 60.0 }

                set_variable = { global.building_roboticized_input_resource_3@token:building_commercial_farm = token:resource_energy_materials }
                set_variable = { global.building_roboticized_input_amount_3@token:building_commercial_farm = 40.0 }

                set_variable = { global.building_roboticized_input_resource_4@token:building_commercial_farm = token:resource_electricity }
                set_variable = { global.building_roboticized_input_amount_4@token:building_commercial_farm = 20.0 }

                set_variable = { global.building_roboticized_peasants_employment@token:building_commercial_farm = 0.0 } #1x
                set_variable = { global.building_roboticized_laborers_employment@token:building_commercial_farm = 1.0 } #2x
                set_variable = { global.building_roboticized_workers_employment@token:building_commercial_farm = 2.4 } #5x
                set_variable = { global.building_roboticized_professionals_employment@token:building_commercial_farm = 2.0 } #10x
                set_variable = { global.building_roboticized_specialists_employment@token:building_commercial_farm = 0.0 } #20x
                set_variable = { global.building_roboticized_aristocrats_employment@token:building_commercial_farm = 0.0 } #30x
                set_variable = { global.building_roboticized_capitalists_employment@token:building_commercial_farm = 0.1 } #50x
            #
            #Computerized
                set_variable = { global.building_computerized_tech_unlock@token:building_commercial_farm = token:precision_agriculture }

                #Productivity: $15.14 /K
                set_variable = { global.building_computerized_output_1@token:building_commercial_farm = 153 }

                set_variable = { global.building_computerized_construction_amount@token:building_commercial_farm = 1440 }
                set_variable = { global.building_computerized_construction_speed@token:building_commercial_farm = 40 }

                set_variable = { global.building_computerized_upgrade_amount@token:building_commercial_farm = 60 }
                set_variable = { global.building_computerized_upgrade_speed@token:building_commercial_farm = 10 }

                set_variable = { global.building_computerized_input_resource_1@token:building_commercial_farm = token:resource_industrial_goods }
                set_variable = { global.building_computerized_input_amount_1@token:building_commercial_farm = 35.0 }

                set_variable = { global.building_computerized_input_resource_2@token:building_commercial_farm = token:resource_raw_materials }
                set_variable = { global.building_computerized_input_amount_2@token:building_commercial_farm = 70.0 }

                set_variable = { global.building_computerized_input_resource_3@token:building_commercial_farm = token:resource_energy_materials }
                set_variable = { global.building_computerized_input_amount_3@token:building_commercial_farm = 50.0 }

                set_variable = { global.building_computerized_input_resource_4@token:building_commercial_farm = token:resource_electricity }
                set_variable = { global.building_computerized_input_amount_4@token:building_commercial_farm = 50.0 }

                set_variable = { global.building_computerized_peasants_employment@token:building_commercial_farm = 0.0 } #1x
                set_variable = { global.building_computerized_laborers_employment@token:building_commercial_farm = 0.0 } #2x
                set_variable = { global.building_computerized_workers_employment@token:building_commercial_farm = 0.5 } #5x
                set_variable = { global.building_computerized_professionals_employment@token:building_commercial_farm = 2.4 } #10x
                set_variable = { global.building_computerized_specialists_employment@token:building_commercial_farm = 1.0 } #20x
                set_variable = { global.building_computerized_aristocrats_employment@token:building_commercial_farm = 0.0 } #30x
                set_variable = { global.building_computerized_capitalists_employment@token:building_commercial_farm = 0.1 } #50x
            #
            #Digitalized
                set_variable = { global.building_digitalized_tech_unlock@token:building_commercial_farm = token:second_wave_precision_agriculture }

                #Productivity: $18.0 /K
                set_variable = { global.building_digitalized_output_1@token:building_commercial_farm = 202 }

                set_variable = { global.building_digitalized_construction_amount@token:building_commercial_farm = 2268 }
                set_variable = { global.building_digitalized_construction_speed@token:building_commercial_farm = 63 }

                set_variable = { global.building_digitalized_upgrade_amount@token:building_commercial_farm = 90 }
                set_variable = { global.building_digitalized_upgrade_speed@token:building_commercial_farm = 15 }

                set_variable = { global.building_digitalized_input_resource_1@token:building_commercial_farm = token:resource_industrial_goods }
                set_variable = { global.building_digitalized_input_amount_1@token:building_commercial_farm = 50.0 }

                set_variable = { global.building_digitalized_input_resource_2@token:building_commercial_farm = token:resource_raw_materials }
                set_variable = { global.building_digitalized_input_amount_2@token:building_commercial_farm = 90.0 }

                set_variable = { global.building_digitalized_input_resource_3@token:building_commercial_farm = token:resource_energy_materials }
                set_variable = { global.building_digitalized_input_amount_3@token:building_commercial_farm = 60.0 }

                set_variable = { global.building_digitalized_input_resource_4@token:building_commercial_farm = token:resource_electricity }
                set_variable = { global.building_digitalized_input_amount_4@token:building_commercial_farm = 90.0 }

                set_variable = { global.building_digitalized_peasants_employment@token:building_commercial_farm = 0.0 } #1x
                set_variable = { global.building_digitalized_laborers_employment@token:building_commercial_farm = 0.0 } #2x
                set_variable = { global.building_digitalized_workers_employment@token:building_commercial_farm = 0.5 } #5x
                set_variable = { global.building_digitalized_professionals_employment@token:building_commercial_farm = 1.9 } #10x
                set_variable = { global.building_digitalized_specialists_employment@token:building_commercial_farm = 1.5 } #20x
                set_variable = { global.building_digitalized_aristocrats_employment@token:building_commercial_farm = 0.0 } #30x
                set_variable = { global.building_digitalized_capitalists_employment@token:building_commercial_farm = 0.1 } #50x
            #
            #Automatized
                set_variable = { global.building_automatized_tech_unlock@token:building_commercial_farm = token:fully_automated_farming }

                #Productivity: $21.6 /K
                set_variable = { global.building_automatized_output_1@token:building_commercial_farm = 210 }

                set_variable = { global.building_automatized_construction_amount@token:building_commercial_farm = 2628 }
                set_variable = { global.building_automatized_construction_speed@token:building_commercial_farm = 73 }

                set_variable = { global.building_automatized_upgrade_amount@token:building_commercial_farm = 120 }
                set_variable = { global.building_automatized_upgrade_speed@token:building_commercial_farm = 20 }

                set_variable = { global.building_automatized_input_resource_1@token:building_commercial_farm = token:resource_industrial_goods }
                set_variable = { global.building_automatized_input_amount_1@token:building_commercial_farm = 70.0 }

                set_variable = { global.building_automatized_input_resource_2@token:building_commercial_farm = token:resource_raw_materials }
                set_variable = { global.building_automatized_input_amount_2@token:building_commercial_farm = 100.0 }

                set_variable = { global.building_automatized_input_resource_3@token:building_commercial_farm = token:resource_energy_materials }
                set_variable = { global.building_automatized_input_amount_3@token:building_commercial_farm = 40.0 }

                set_variable = { global.building_automatized_input_resource_4@token:building_commercial_farm = token:resource_electricity }
                set_variable = { global.building_automatized_input_amount_4@token:building_commercial_farm = 120.0 }

                set_variable = { global.building_automatized_peasants_employment@token:building_commercial_farm = 0.0 } #1x
                set_variable = { global.building_automatized_laborers_employment@token:building_commercial_farm = 0.0 } #2x
                set_variable = { global.building_automatized_workers_employment@token:building_commercial_farm = 0.0 } #5x
                set_variable = { global.building_automatized_professionals_employment@token:building_commercial_farm = 0.4 } #10x
                set_variable = { global.building_automatized_specialists_employment@token:building_commercial_farm = 2.0 } #20x
                set_variable = { global.building_automatized_aristocrats_employment@token:building_commercial_farm = 0.0 } #30x
                set_variable = { global.building_automatized_capitalists_employment@token:building_commercial_farm = 0.1 } #50x
            #
            #Futurized
                set_variable = { global.building_futurized_tech_unlock@token:building_commercial_farm = token:accelerated_growth_techniques }

                #Productivity: $24.5 /K
                set_variable = { global.building_futurized_output_1@token:building_commercial_farm = 236 }

                set_variable = { global.building_futurized_construction_amount@token:building_commercial_farm = 2988 }
                set_variable = { global.building_futurized_construction_speed@token:building_commercial_farm = 83 }

                set_variable = { global.building_futurized_input_resource_1@token:building_commercial_farm = token:resource_industrial_goods }
                set_variable = { global.building_futurized_input_amount_1@token:building_commercial_farm = 80.0 }

                set_variable = { global.building_futurized_input_resource_2@token:building_commercial_farm = token:resource_raw_materials }
                set_variable = { global.building_futurized_input_amount_2@token:building_commercial_farm = 140.0 }

                set_variable = { global.building_futurized_input_resource_3@token:building_commercial_farm = token:resource_electricity }
                set_variable = { global.building_futurized_input_amount_3@token:building_commercial_farm = 220.0 }

                set_variable = { global.building_futurized_peasants_employment@token:building_commercial_farm = 0.0 } #1x
                set_variable = { global.building_futurized_laborers_employment@token:building_commercial_farm = 0.0 } #2x
                set_variable = { global.building_futurized_workers_employment@token:building_commercial_farm = 0.0 } #5x
                set_variable = { global.building_futurized_professionals_employment@token:building_commercial_farm = 0.0 } #10x
                set_variable = { global.building_futurized_specialists_employment@token:building_commercial_farm = 1.9 } #20x
                set_variable = { global.building_futurized_aristocrats_employment@token:building_commercial_farm = 0.0 } #30x
                set_variable = { global.building_futurized_capitalists_employment@token:building_commercial_farm = 0.1 } #50x
            #
        }
        define_food_plantation = {
            set_variable = { global.building_output_resource_1@token:building_food_plantation = token:resource_food }

            set_variable = { global.building_uses_arable_land@token:building_food_plantation = 1 }
            set_variable = { global.building_uses_deposits@token:building_food_plantation = 1 }
            set_variable = { global.building_industrial_capacity_use@token:building_food_plantation = 1 }

            #Basic
                set_variable = { global.building_basic_tech_unlock@token:building_food_plantation = 1 }

                set_variable = { global.building_basic_construction_amount@token:building_food_plantation = 108 }
                set_variable = { global.building_basic_construction_speed@token:building_food_plantation = 3 }

                set_variable = { global.building_basic_upgrade_amount@token:building_food_plantation = 6 }
                set_variable = { global.building_basic_upgrade_speed@token:building_food_plantation = 1 }

                #Productivity: $2.1 /K
                set_variable = { global.building_basic_output_1@token:building_food_plantation = 17 }

                set_variable = { global.building_basic_peasants_employment@token:building_food_plantation = 0.0 } #1x
                set_variable = { global.building_basic_laborers_employment@token:building_food_plantation = 12.3 } #2x
                set_variable = { global.building_basic_workers_employment@token:building_food_plantation = 0 } #5x
                set_variable = { global.building_basic_professionals_employment@token:building_food_plantation = 0 } #10x
                set_variable = { global.building_basic_specialists_employment@token:building_food_plantation = 0 } #20x
                set_variable = { global.building_basic_aristocrats_employment@token:building_food_plantation = 0.2 } #30x
                set_variable = { global.building_basic_capitalists_employment@token:building_food_plantation = 0 } #50x
            #
            #Advanced
                set_variable = { global.building_advanced_tech_unlock@token:building_food_plantation = token:pre_industrial_farms }

                #Productivity: $2.6 /K
                set_variable = { global.building_advanced_output_1@token:building_food_plantation = 37 }

                set_variable = { global.building_advanced_construction_amount@token:building_food_plantation = 180 }
                set_variable = { global.building_advanced_construction_speed@token:building_food_plantation = 5 }

                set_variable = { global.building_advanced_upgrade_amount@token:building_food_plantation = 9 }
                set_variable = { global.building_advanced_upgrade_speed@token:building_food_plantation = 1.5 }

                set_variable = { global.building_advanced_input_resource_1@token:building_food_plantation = token:resource_industrial_goods }
                set_variable = { global.building_advanced_input_amount_1@token:building_food_plantation = 3.0 }

                set_variable = { global.building_advanced_input_resource_2@token:building_food_plantation = token:resource_raw_materials }
                set_variable = { global.building_advanced_input_amount_2@token:building_food_plantation = 6.0 }

                set_variable = { global.building_advanced_peasants_employment@token:building_food_plantation = 0.0 } #1x
                set_variable = { global.building_advanced_laborers_employment@token:building_food_plantation = 11.3 } #2x
                set_variable = { global.building_advanced_workers_employment@token:building_food_plantation = 0 } #5x
                set_variable = { global.building_advanced_professionals_employment@token:building_food_plantation = 0 } #10x
                set_variable = { global.building_advanced_specialists_employment@token:building_food_plantation = 0 } #20x
                set_variable = { global.building_advanced_aristocrats_employment@token:building_food_plantation = 0.2 } #30x
                set_variable = { global.building_advanced_capitalists_employment@token:building_food_plantation = 0 } #50x
            #
            #Industrialized
                set_variable = { global.building_industrialized_tech_unlock@token:building_food_plantation = token:threshing_machine }

                #Productivity: $3.35 /K
                set_variable = { global.building_industrialized_output_1@token:building_food_plantation = 59 }

                set_variable = { global.building_industrialized_construction_amount@token:building_food_plantation = 324 }
                set_variable = { global.building_industrialized_construction_speed@token:building_food_plantation = 9 }

                set_variable = { global.building_industrialized_upgrade_amount@token:building_food_plantation = 12 }
                set_variable = { global.building_industrialized_upgrade_speed@token:building_food_plantation = 2 }

                set_variable = { global.building_industrialized_input_resource_1@token:building_food_plantation = token:resource_industrial_goods }
                set_variable = { global.building_industrialized_input_amount_1@token:building_food_plantation = 8.5 }

                set_variable = { global.building_industrialized_input_resource_2@token:building_food_plantation = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_industrialized_input_amount_2@token:building_food_plantation = 17.0 }

                set_variable = { global.building_industrialized_peasants_employment@token:building_food_plantation = 0.0 } #1x
                set_variable = { global.building_industrialized_laborers_employment@token:building_food_plantation = 11.8 } #2x
                set_variable = { global.building_industrialized_workers_employment@token:building_food_plantation = 0.0 } #5x
                set_variable = { global.building_industrialized_professionals_employment@token:building_food_plantation = 0 } #10x
                set_variable = { global.building_industrialized_specialists_employment@token:building_food_plantation = 0 } #20x
                set_variable = { global.building_industrialized_aristocrats_employment@token:building_food_plantation = 0.2 } #30x
                set_variable = { global.building_industrialized_capitalists_employment@token:building_food_plantation = 0 } #50x
            #
            #Mechanized
                set_variable = { global.building_mechanized_tech_unlock@token:building_food_plantation = token:late_traction_engines }

                #Productivity: $3.8 /K
                set_variable = { global.building_mechanized_output_1@token:building_food_plantation = 103 }

                set_variable = { global.building_mechanized_construction_amount@token:building_food_plantation = 396 }
                set_variable = { global.building_mechanized_construction_speed@token:building_food_plantation = 11 }

                set_variable = { global.building_mechanized_upgrade_amount@token:building_food_plantation = 15 }
                set_variable = { global.building_mechanized_upgrade_speed@token:building_food_plantation = 2.5 }

                set_variable = { global.building_mechanized_input_resource_1@token:building_food_plantation = token:resource_industrial_goods }
                set_variable = { global.building_mechanized_input_amount_1@token:building_food_plantation = 18.0 }

                set_variable = { global.building_mechanized_input_resource_2@token:building_food_plantation = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_mechanized_input_amount_2@token:building_food_plantation = 42.0 }

                set_variable = { global.building_mechanized_peasants_employment@token:building_food_plantation = 0.0 } #1x
                set_variable = { global.building_mechanized_laborers_employment@token:building_food_plantation = 11.8 } #2x
                set_variable = { global.building_mechanized_workers_employment@token:building_food_plantation = 0.0 } #5x
                set_variable = { global.building_mechanized_professionals_employment@token:building_food_plantation = 0 } #10x
                set_variable = { global.building_mechanized_specialists_employment@token:building_food_plantation = 0 } #20x
                set_variable = { global.building_mechanized_aristocrats_employment@token:building_food_plantation = 0.2 } #30x
                set_variable = { global.building_mechanized_capitalists_employment@token:building_food_plantation = 0.0 } #50x
            #
            #Electrified
                set_variable = { global.building_electrified_tech_unlock@token:building_food_plantation = token:early_tractors }

                #Productivity: $4.39 /K
                set_variable = { global.building_electrified_output_1@token:building_food_plantation = 133 }

                set_variable = { global.building_electrified_construction_amount@token:building_food_plantation = 540 }
                set_variable = { global.building_electrified_construction_speed@token:building_food_plantation = 15 }

                set_variable = { global.building_electrified_upgrade_amount@token:building_food_plantation = 18 }
                set_variable = { global.building_electrified_upgrade_speed@token:building_food_plantation = 3 }

                set_variable = { global.building_electrified_input_resource_1@token:building_food_plantation = token:resource_industrial_goods }
                set_variable = { global.building_electrified_input_amount_1@token:building_food_plantation = 26.0 }

                set_variable = { global.building_electrified_input_resource_2@token:building_food_plantation = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_electrified_input_amount_2@token:building_food_plantation = 64.0 }

                set_variable = { global.building_electrified_input_resource_3@token:building_food_plantation = token:resource_energy_materials }
                set_variable = { global.building_electrified_input_amount_3@token:building_food_plantation = 5.0 }

                set_variable = { global.building_electrified_peasants_employment@token:building_food_plantation = 0.0 } #1x
                set_variable = { global.building_electrified_laborers_employment@token:building_food_plantation = 9.35 } #2x
                set_variable = { global.building_electrified_workers_employment@token:building_food_plantation = 1.0 } #5x
                set_variable = { global.building_electrified_professionals_employment@token:building_food_plantation = 0 } #10x
                set_variable = { global.building_electrified_specialists_employment@token:building_food_plantation = 0 } #20x
                set_variable = { global.building_electrified_aristocrats_employment@token:building_food_plantation = 0.15 } #30x
                set_variable = { global.building_electrified_capitalists_employment@token:building_food_plantation = 0.0 } #50x
            #
            #Motorized
                set_variable = { global.building_motorized_tech_unlock@token:building_food_plantation = token:fordson_tractor }

                #Productivity: $6.06 /K
                set_variable = { global.building_motorized_output_1@token:building_food_plantation = 147 }

                set_variable = { global.building_motorized_construction_amount@token:building_food_plantation = 648 }
                set_variable = { global.building_motorized_construction_speed@token:building_food_plantation = 18 }

                set_variable = { global.building_motorized_upgrade_amount@token:building_food_plantation = 24 }
                set_variable = { global.building_motorized_upgrade_speed@token:building_food_plantation = 4 }

                set_variable = { global.building_motorized_input_resource_1@token:building_food_plantation = token:resource_industrial_goods }
                set_variable = { global.building_motorized_input_amount_1@token:building_food_plantation = 32.0 }

                set_variable = { global.building_motorized_input_resource_2@token:building_food_plantation = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_motorized_input_amount_2@token:building_food_plantation = 71.0 }

                set_variable = { global.building_motorized_input_resource_3@token:building_food_plantation = token:resource_energy_materials }
                set_variable = { global.building_motorized_input_amount_3@token:building_food_plantation = 15.0 }

                set_variable = { global.building_motorized_peasants_employment@token:building_food_plantation = 0.0 } #1x
                set_variable = { global.building_motorized_laborers_employment@token:building_food_plantation = 6.85 } #2x
                set_variable = { global.building_motorized_workers_employment@token:building_food_plantation = 2.5 } #5x
                set_variable = { global.building_motorized_professionals_employment@token:building_food_plantation = 0 } #10x
                set_variable = { global.building_motorized_specialists_employment@token:building_food_plantation = 0 } #20x
                set_variable = { global.building_motorized_aristocrats_employment@token:building_food_plantation = 0.1 } #30x
                set_variable = { global.building_motorized_capitalists_employment@token:building_food_plantation = 0.05 } #50x
            #
            #Modernized
                set_variable = { global.building_modernized_tech_unlock@token:building_food_plantation = token:agricultural_unit_machinery }

                #Productivity: $9.7 /K
                set_variable = { global.building_modernized_output_1@token:building_food_plantation = 161 }

                set_variable = { global.building_modernized_construction_amount@token:building_food_plantation = 828 }
                set_variable = { global.building_modernized_construction_speed@token:building_food_plantation = 23 }

                set_variable = { global.building_modernized_upgrade_amount@token:building_food_plantation = 36 }
                set_variable = { global.building_modernized_upgrade_speed@token:building_food_plantation = 6 }

                set_variable = { global.building_modernized_input_resource_1@token:building_food_plantation = token:resource_industrial_goods }
                set_variable = { global.building_modernized_input_amount_1@token:building_food_plantation = 40.0 }

                set_variable = { global.building_modernized_input_resource_2@token:building_food_plantation = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_modernized_input_amount_2@token:building_food_plantation = 75.0 }

                set_variable = { global.building_modernized_input_resource_3@token:building_food_plantation = token:resource_energy_materials }
                set_variable = { global.building_modernized_input_amount_3@token:building_food_plantation = 30.0 }

                set_variable = { global.building_modernized_input_resource_4@token:building_food_plantation = token:resource_electricity }
                set_variable = { global.building_modernized_input_amount_4@token:building_food_plantation = 5.0 }

                set_variable = { global.building_modernized_peasants_employment@token:building_food_plantation = 0.0 } #1x
                set_variable = { global.building_modernized_laborers_employment@token:building_food_plantation = 4.4 } #2x
                set_variable = { global.building_modernized_workers_employment@token:building_food_plantation = 3.0 } #5x
                set_variable = { global.building_modernized_professionals_employment@token:building_food_plantation = 0.5 } #10x
                set_variable = { global.building_modernized_specialists_employment@token:building_food_plantation = 0 } #20x
                set_variable = { global.building_modernized_aristocrats_employment@token:building_food_plantation = 0.05 } #30x
                set_variable = { global.building_modernized_capitalists_employment@token:building_food_plantation = 0.05 } #50x
            #
            #Roboticized
                set_variable = { global.building_roboticized_tech_unlock@token:building_food_plantation = token:refined_agricultural_machines }

                #Productivity: $12.58 /K
                set_variable = { global.building_roboticized_output_1@token:building_food_plantation = 173 }

                set_variable = { global.building_roboticized_construction_amount@token:building_food_plantation = 1116 }
                set_variable = { global.building_roboticized_construction_speed@token:building_food_plantation = 31 }

                set_variable = { global.building_roboticized_upgrade_amount@token:building_food_plantation = 48 }
                set_variable = { global.building_roboticized_upgrade_speed@token:building_food_plantation = 8 }

                set_variable = { global.building_roboticized_input_resource_1@token:building_food_plantation = token:resource_industrial_goods }
                set_variable = { global.building_roboticized_input_amount_1@token:building_food_plantation = 41.0 }

                set_variable = { global.building_roboticized_input_resource_2@token:building_food_plantation = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_roboticized_input_amount_2@token:building_food_plantation = 80.0 }

                set_variable = { global.building_roboticized_input_resource_3@token:building_food_plantation = token:resource_energy_materials }
                set_variable = { global.building_roboticized_input_amount_3@token:building_food_plantation = 45.0 }

                set_variable = { global.building_roboticized_input_resource_4@token:building_food_plantation = token:resource_electricity }
                set_variable = { global.building_roboticized_input_amount_4@token:building_food_plantation = 20.0 }

                set_variable = { global.building_roboticized_peasants_employment@token:building_food_plantation = 0.0 } #1x
                set_variable = { global.building_roboticized_laborers_employment@token:building_food_plantation = 2.4 } #2x
                set_variable = { global.building_roboticized_workers_employment@token:building_food_plantation = 3.0 } #5x
                set_variable = { global.building_roboticized_professionals_employment@token:building_food_plantation = 1.5 } #10x
                set_variable = { global.building_roboticized_specialists_employment@token:building_food_plantation = 0.0 } #20x
                set_variable = { global.building_roboticized_aristocrats_employment@token:building_food_plantation = 0.0 } #30x
                set_variable = { global.building_roboticized_capitalists_employment@token:building_food_plantation = 0.1 } #50x
            #
            #Computerized
                set_variable = { global.building_computerized_tech_unlock@token:building_food_plantation = token:precision_agriculture }

                #Productivity: $16 /K
                set_variable = { global.building_computerized_output_1@token:building_food_plantation = 210 }

                set_variable = { global.building_computerized_construction_amount@token:building_food_plantation = 1440 }
                set_variable = { global.building_computerized_construction_speed@token:building_food_plantation = 40 }

                set_variable = { global.building_computerized_upgrade_amount@token:building_food_plantation = 60 }
                set_variable = { global.building_computerized_upgrade_speed@token:building_food_plantation = 10 }

                set_variable = { global.building_computerized_input_resource_1@token:building_food_plantation = token:resource_industrial_goods }
                set_variable = { global.building_computerized_input_amount_1@token:building_food_plantation = 50.0 }

                set_variable = { global.building_computerized_input_resource_2@token:building_food_plantation = token:resource_raw_materials }
                set_variable = { global.building_computerized_input_amount_2@token:building_food_plantation = 90.0 }

                set_variable = { global.building_computerized_input_resource_3@token:building_food_plantation = token:resource_energy_materials }
                set_variable = { global.building_computerized_input_amount_3@token:building_food_plantation = 70.0 }

                set_variable = { global.building_computerized_input_resource_4@token:building_food_plantation = token:resource_electricity }
                set_variable = { global.building_computerized_input_amount_4@token:building_food_plantation = 70.0 }

                set_variable = { global.building_computerized_peasants_employment@token:building_food_plantation = 0.0 } #1x
                set_variable = { global.building_computerized_laborers_employment@token:building_food_plantation = 0.0 } #2x
                set_variable = { global.building_computerized_workers_employment@token:building_food_plantation = 3.4 } #5x
                set_variable = { global.building_computerized_professionals_employment@token:building_food_plantation = 2.0 } #10x
                set_variable = { global.building_computerized_specialists_employment@token:building_food_plantation = 0.0 } #20x
                set_variable = { global.building_computerized_aristocrats_employment@token:building_food_plantation = 0.0 } #30x
                set_variable = { global.building_computerized_capitalists_employment@token:building_food_plantation = 0.1 } #50x
            #
            #Digitalized
                set_variable = { global.building_digitalized_tech_unlock@token:building_food_plantation = token:second_wave_precision_agriculture }

                #Productivity: $20.4 /K
                set_variable = { global.building_digitalized_output_1@token:building_food_plantation = 226 }

                set_variable = { global.building_digitalized_construction_amount@token:building_food_plantation = 2268 }
                set_variable = { global.building_digitalized_construction_speed@token:building_food_plantation = 63 }

                set_variable = { global.building_digitalized_upgrade_amount@token:building_food_plantation = 90 }
                set_variable = { global.building_digitalized_upgrade_speed@token:building_food_plantation = 15 }

                set_variable = { global.building_digitalized_input_resource_1@token:building_food_plantation = token:resource_industrial_goods }
                set_variable = { global.building_digitalized_input_amount_1@token:building_food_plantation = 60.0 }

                set_variable = { global.building_digitalized_input_resource_2@token:building_food_plantation = token:resource_raw_materials }
                set_variable = { global.building_digitalized_input_amount_2@token:building_food_plantation = 100.0 }

                set_variable = { global.building_digitalized_input_resource_3@token:building_food_plantation = token:resource_energy_materials }
                set_variable = { global.building_digitalized_input_amount_3@token:building_food_plantation = 60.0 }

                set_variable = { global.building_digitalized_input_resource_4@token:building_food_plantation = token:resource_electricity }
                set_variable = { global.building_digitalized_input_amount_4@token:building_food_plantation = 100.0 }

                set_variable = { global.building_digitalized_peasants_employment@token:building_food_plantation = 0.0 } #1x
                set_variable = { global.building_digitalized_laborers_employment@token:building_food_plantation = 0.0 } #2x
                set_variable = { global.building_digitalized_workers_employment@token:building_food_plantation = 2.4 } #5x
                set_variable = { global.building_digitalized_professionals_employment@token:building_food_plantation = 1.5 } #10x
                set_variable = { global.building_digitalized_specialists_employment@token:building_food_plantation = 0.5 } #20x
                set_variable = { global.building_digitalized_aristocrats_employment@token:building_food_plantation = 0.0 } #30x
                set_variable = { global.building_digitalized_capitalists_employment@token:building_food_plantation = 0.1 } #50x
            #
            #Automatized
                set_variable = { global.building_automatized_tech_unlock@token:building_food_plantation = token:fully_automated_farming }

                #Productivity: $27.7 /K
                set_variable = { global.building_automatized_output_1@token:building_food_plantation = 253 }

                set_variable = { global.building_automatized_construction_amount@token:building_food_plantation = 2628 }
                set_variable = { global.building_automatized_construction_speed@token:building_food_plantation = 73 }

                set_variable = { global.building_automatized_upgrade_amount@token:building_food_plantation = 120 }
                set_variable = { global.building_automatized_upgrade_speed@token:building_food_plantation = 20 }

                set_variable = { global.building_automatized_input_resource_1@token:building_food_plantation = token:resource_industrial_goods }
                set_variable = { global.building_automatized_input_amount_1@token:building_food_plantation = 90.0 }

                set_variable = { global.building_automatized_input_resource_2@token:building_food_plantation = token:resource_raw_materials }
                set_variable = { global.building_automatized_input_amount_2@token:building_food_plantation = 120.0 }

                set_variable = { global.building_automatized_input_resource_3@token:building_food_plantation = token:resource_energy_materials }
                set_variable = { global.building_automatized_input_amount_3@token:building_food_plantation = 40.0 }

                set_variable = { global.building_automatized_input_resource_4@token:building_food_plantation = token:resource_electricity }
                set_variable = { global.building_automatized_input_amount_4@token:building_food_plantation = 140.0 }

                set_variable = { global.building_automatized_peasants_employment@token:building_food_plantation = 0.0 } #1x
                set_variable = { global.building_automatized_laborers_employment@token:building_food_plantation = 0.0 } #2x
                set_variable = { global.building_automatized_workers_employment@token:building_food_plantation = 0.0 } #5x
                set_variable = { global.building_automatized_professionals_employment@token:building_food_plantation = 1.9 } #10x
                set_variable = { global.building_automatized_specialists_employment@token:building_food_plantation = 1.0 } #20x
                set_variable = { global.building_automatized_aristocrats_employment@token:building_food_plantation = 0.0 } #30x
                set_variable = { global.building_automatized_capitalists_employment@token:building_food_plantation = 0.1 } #50x
            #
            #Futurized
                set_variable = { global.building_futurized_tech_unlock@token:building_food_plantation = token:accelerated_growth_techniques }

                #Productivity: $34.0 /K
                set_variable = { global.building_futurized_output_1@token:building_food_plantation = 295 }

                set_variable = { global.building_futurized_construction_amount@token:building_food_plantation = 2988 }
                set_variable = { global.building_futurized_construction_speed@token:building_food_plantation = 83 }

                set_variable = { global.building_futurized_input_resource_1@token:building_food_plantation = token:resource_industrial_goods }
                set_variable = { global.building_futurized_input_amount_1@token:building_food_plantation = 100.0 }

                set_variable = { global.building_futurized_input_resource_2@token:building_food_plantation = token:resource_raw_materials }
                set_variable = { global.building_futurized_input_amount_2@token:building_food_plantation = 150.0 }

                set_variable = { global.building_futurized_input_resource_3@token:building_food_plantation = token:resource_electricity }
                set_variable = { global.building_futurized_input_amount_3@token:building_food_plantation = 225.0 }

                set_variable = { global.building_futurized_peasants_employment@token:building_food_plantation = 0.0 } #1x
                set_variable = { global.building_futurized_laborers_employment@token:building_food_plantation = 0.0 } #2x
                set_variable = { global.building_futurized_workers_employment@token:building_food_plantation = 0.0 } #5x
                set_variable = { global.building_futurized_professionals_employment@token:building_food_plantation = 0.0 } #10x
                set_variable = { global.building_futurized_specialists_employment@token:building_food_plantation = 2.4 } #20x
                set_variable = { global.building_futurized_aristocrats_employment@token:building_food_plantation = 0.0 } #30x
                set_variable = { global.building_futurized_capitalists_employment@token:building_food_plantation = 0.1 } #50x
            #
        }
        define_material_plantation = {
            set_variable = { global.building_output_resource_1@token:building_material_plantation = token:resource_raw_materials }

            set_variable = { global.building_uses_arable_land@token:building_material_plantation = 1 }
            set_variable = { global.building_uses_deposits@token:building_material_plantation = 1 }
            set_variable = { global.building_industrial_capacity_use@token:building_material_plantation = 1 }

            #Basic
                set_variable = { global.building_basic_tech_unlock@token:building_material_plantation = 1 }

                set_variable = { global.building_basic_construction_amount@token:building_material_plantation = 108 }
                set_variable = { global.building_basic_construction_speed@token:building_material_plantation = 3 }

                set_variable = { global.building_basic_upgrade_amount@token:building_material_plantation = 6 }
                set_variable = { global.building_basic_upgrade_speed@token:building_material_plantation = 1 }

                #Productivity: $2.1 /K
                set_variable = { global.building_basic_output_1@token:building_material_plantation = 25 }

                set_variable = { global.building_basic_peasants_employment@token:building_material_plantation = 0.0 } #1x
                set_variable = { global.building_basic_laborers_employment@token:building_material_plantation = 12.3 } #2x
                set_variable = { global.building_basic_workers_employment@token:building_material_plantation = 0 } #5x
                set_variable = { global.building_basic_professionals_employment@token:building_material_plantation = 0 } #10x
                set_variable = { global.building_basic_specialists_employment@token:building_material_plantation = 0 } #20x
                set_variable = { global.building_basic_aristocrats_employment@token:building_material_plantation = 0.2 } #30x
                set_variable = { global.building_basic_capitalists_employment@token:building_material_plantation = 0 } #50x
            #
            #Advanced
                set_variable = { global.building_advanced_tech_unlock@token:building_material_plantation = token:pre_industrial_farms }

                #Productivity: $2.6 /K
                set_variable = { global.building_advanced_output_1@token:building_material_plantation = 56 }

                set_variable = { global.building_advanced_construction_amount@token:building_material_plantation = 180 }
                set_variable = { global.building_advanced_construction_speed@token:building_material_plantation = 5 }

                set_variable = { global.building_advanced_upgrade_amount@token:building_material_plantation = 9 }
                set_variable = { global.building_advanced_upgrade_speed@token:building_material_plantation = 1.5 }

                set_variable = { global.building_advanced_input_resource_1@token:building_material_plantation = token:resource_industrial_goods }
                set_variable = { global.building_advanced_input_amount_1@token:building_material_plantation = 3.0 }

                set_variable = { global.building_advanced_input_resource_2@token:building_material_plantation = token:resource_raw_materials }
                set_variable = { global.building_advanced_input_amount_2@token:building_material_plantation = 6.0 }

                set_variable = { global.building_advanced_peasants_employment@token:building_material_plantation = 0.0 } #1x
                set_variable = { global.building_advanced_laborers_employment@token:building_material_plantation = 12.3 } #2x
                set_variable = { global.building_advanced_workers_employment@token:building_material_plantation = 0 } #5x
                set_variable = { global.building_advanced_professionals_employment@token:building_material_plantation = 0 } #10x
                set_variable = { global.building_advanced_specialists_employment@token:building_material_plantation = 0 } #20x
                set_variable = { global.building_advanced_aristocrats_employment@token:building_material_plantation = 0.2 } #30x
                set_variable = { global.building_advanced_capitalists_employment@token:building_material_plantation = 0 } #50x
            #
            #Industrialized
                set_variable = { global.building_industrialized_tech_unlock@token:building_material_plantation = token:threshing_machine }

                #Productivity: $3.35 /K
                set_variable = { global.building_industrialized_output_1@token:building_material_plantation = 88 }

                set_variable = { global.building_industrialized_construction_amount@token:building_material_plantation = 324 }
                set_variable = { global.building_industrialized_construction_speed@token:building_material_plantation = 9 }

                set_variable = { global.building_industrialized_upgrade_amount@token:building_material_plantation = 12 }
                set_variable = { global.building_industrialized_upgrade_speed@token:building_material_plantation = 2 }

                set_variable = { global.building_industrialized_input_resource_1@token:building_material_plantation = token:resource_industrial_goods }
                set_variable = { global.building_industrialized_input_amount_1@token:building_material_plantation = 8.5 }

                set_variable = { global.building_industrialized_input_resource_2@token:building_material_plantation = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_industrialized_input_amount_2@token:building_material_plantation = 17.0 }

                set_variable = { global.building_industrialized_peasants_employment@token:building_material_plantation = 0.0 } #1x
                set_variable = { global.building_industrialized_laborers_employment@token:building_material_plantation = 11.8 } #2x
                set_variable = { global.building_industrialized_workers_employment@token:building_material_plantation = 0.0 } #5x
                set_variable = { global.building_industrialized_professionals_employment@token:building_material_plantation = 0 } #10x
                set_variable = { global.building_industrialized_specialists_employment@token:building_material_plantation = 0 } #20x
                set_variable = { global.building_industrialized_aristocrats_employment@token:building_material_plantation = 0.2 } #30x
                set_variable = { global.building_industrialized_capitalists_employment@token:building_material_plantation = 0 } #50x
            #
            #Mechanized
                set_variable = { global.building_mechanized_tech_unlock@token:building_material_plantation = token:late_traction_engines }

                #Productivity: $3.8 /K
                set_variable = { global.building_mechanized_output_1@token:building_material_plantation = 154 }

                set_variable = { global.building_mechanized_construction_amount@token:building_material_plantation = 396 }
                set_variable = { global.building_mechanized_construction_speed@token:building_material_plantation = 11 }

                set_variable = { global.building_mechanized_upgrade_amount@token:building_material_plantation = 15 }
                set_variable = { global.building_mechanized_upgrade_speed@token:building_material_plantation = 2.5 }

                set_variable = { global.building_mechanized_input_resource_1@token:building_material_plantation = token:resource_industrial_goods }
                set_variable = { global.building_mechanized_input_amount_1@token:building_material_plantation = 18.0 }

                set_variable = { global.building_mechanized_input_resource_2@token:building_material_plantation = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_mechanized_input_amount_2@token:building_material_plantation = 42.0 }

                set_variable = { global.building_mechanized_peasants_employment@token:building_material_plantation = 0.0 } #1x
                set_variable = { global.building_mechanized_laborers_employment@token:building_material_plantation = 11.8 } #2x
                set_variable = { global.building_mechanized_workers_employment@token:building_material_plantation = 0.0 } #5x
                set_variable = { global.building_mechanized_professionals_employment@token:building_material_plantation = 0 } #10x
                set_variable = { global.building_mechanized_specialists_employment@token:building_material_plantation = 0 } #20x
                set_variable = { global.building_mechanized_aristocrats_employment@token:building_material_plantation = 0.2 } #30x
                set_variable = { global.building_mechanized_capitalists_employment@token:building_material_plantation = 0.0 } #50x
            #
            #Electrified
                set_variable = { global.building_electrified_tech_unlock@token:building_material_plantation = token:early_tractors }

                #Productivity: $4.39 /K
                set_variable = { global.building_electrified_output_1@token:building_material_plantation = 200 }

                set_variable = { global.building_electrified_construction_amount@token:building_material_plantation = 540 }
                set_variable = { global.building_electrified_construction_speed@token:building_material_plantation = 15 }

                set_variable = { global.building_electrified_upgrade_amount@token:building_material_plantation = 18 }
                set_variable = { global.building_electrified_upgrade_speed@token:building_material_plantation = 3 }

                set_variable = { global.building_electrified_input_resource_1@token:building_material_plantation = token:resource_industrial_goods }
                set_variable = { global.building_electrified_input_amount_1@token:building_material_plantation = 26.0 }

                set_variable = { global.building_electrified_input_resource_2@token:building_material_plantation = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_electrified_input_amount_2@token:building_material_plantation = 64.0 }

                set_variable = { global.building_electrified_input_resource_3@token:building_material_plantation = token:resource_energy_materials }
                set_variable = { global.building_electrified_input_amount_3@token:building_material_plantation = 5.0 }

                set_variable = { global.building_electrified_peasants_employment@token:building_material_plantation = 0.0 } #1x
                set_variable = { global.building_electrified_laborers_employment@token:building_material_plantation = 9.35 } #2x
                set_variable = { global.building_electrified_workers_employment@token:building_material_plantation = 1.0 } #5x
                set_variable = { global.building_electrified_professionals_employment@token:building_material_plantation = 0 } #10x
                set_variable = { global.building_electrified_specialists_employment@token:building_material_plantation = 0 } #20x
                set_variable = { global.building_electrified_aristocrats_employment@token:building_material_plantation = 0.15 } #30x
                set_variable = { global.building_electrified_capitalists_employment@token:building_material_plantation = 0.0 } #50x
            #
            #Motorized
                set_variable = { global.building_motorized_tech_unlock@token:building_material_plantation = token:fordson_tractor }

                #Productivity: $6.06 /K
                set_variable = { global.building_motorized_output_1@token:building_material_plantation = 221 }

                set_variable = { global.building_motorized_construction_amount@token:building_material_plantation = 648 }
                set_variable = { global.building_motorized_construction_speed@token:building_material_plantation = 18 }

                set_variable = { global.building_motorized_upgrade_amount@token:building_material_plantation = 24 }
                set_variable = { global.building_motorized_upgrade_speed@token:building_material_plantation = 4 }

                set_variable = { global.building_motorized_input_resource_1@token:building_material_plantation = token:resource_industrial_goods }
                set_variable = { global.building_motorized_input_amount_1@token:building_material_plantation = 32.0 }

                set_variable = { global.building_motorized_input_resource_2@token:building_material_plantation = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_motorized_input_amount_2@token:building_material_plantation = 71.0 }

                set_variable = { global.building_motorized_input_resource_3@token:building_material_plantation = token:resource_energy_materials }
                set_variable = { global.building_motorized_input_amount_3@token:building_material_plantation = 15.0 }

                set_variable = { global.building_motorized_peasants_employment@token:building_material_plantation = 0.0 } #1x
                set_variable = { global.building_motorized_laborers_employment@token:building_material_plantation = 6.85 } #2x
                set_variable = { global.building_motorized_workers_employment@token:building_material_plantation = 2.5 } #5x
                set_variable = { global.building_motorized_professionals_employment@token:building_material_plantation = 0 } #10x
                set_variable = { global.building_motorized_specialists_employment@token:building_material_plantation = 0 } #20x
                set_variable = { global.building_motorized_aristocrats_employment@token:building_material_plantation = 0.1 } #30x
                set_variable = { global.building_motorized_capitalists_employment@token:building_material_plantation = 0.05 } #50x
            #
            #Modernized
                set_variable = { global.building_modernized_tech_unlock@token:building_material_plantation = token:agricultural_unit_machinery }

                #Productivity: $9.7 /K
                set_variable = { global.building_modernized_output_1@token:building_material_plantation = 242 }

                set_variable = { global.building_modernized_construction_amount@token:building_material_plantation = 828 }
                set_variable = { global.building_modernized_construction_speed@token:building_material_plantation = 23 }

                set_variable = { global.building_modernized_upgrade_amount@token:building_material_plantation = 36 }
                set_variable = { global.building_modernized_upgrade_speed@token:building_material_plantation = 6 }

                set_variable = { global.building_modernized_input_resource_1@token:building_material_plantation = token:resource_industrial_goods }
                set_variable = { global.building_modernized_input_amount_1@token:building_material_plantation = 40.0 }

                set_variable = { global.building_modernized_input_resource_2@token:building_material_plantation = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_modernized_input_amount_2@token:building_material_plantation = 75.0 }

                set_variable = { global.building_modernized_input_resource_3@token:building_material_plantation = token:resource_energy_materials }
                set_variable = { global.building_modernized_input_amount_3@token:building_material_plantation = 30.0 }

                set_variable = { global.building_modernized_input_resource_4@token:building_material_plantation = token:resource_electricity }
                set_variable = { global.building_modernized_input_amount_4@token:building_material_plantation = 5.0 }

                set_variable = { global.building_modernized_peasants_employment@token:building_material_plantation = 0.0 } #1x
                set_variable = { global.building_modernized_laborers_employment@token:building_material_plantation = 4.4 } #2x
                set_variable = { global.building_modernized_workers_employment@token:building_material_plantation = 3.0 } #5x
                set_variable = { global.building_modernized_professionals_employment@token:building_material_plantation = 0.5 } #10x
                set_variable = { global.building_modernized_specialists_employment@token:building_material_plantation = 0 } #20x
                set_variable = { global.building_modernized_aristocrats_employment@token:building_material_plantation = 0.05 } #30x
                set_variable = { global.building_modernized_capitalists_employment@token:building_material_plantation = 0.05 } #50x
            #
            #Roboticized
                set_variable = { global.building_roboticized_tech_unlock@token:building_material_plantation = token:refined_agricultural_machines }

                #Productivity: $12.58 /K
                set_variable = { global.building_roboticized_output_1@token:building_material_plantation = 260 }

                set_variable = { global.building_roboticized_construction_amount@token:building_material_plantation = 1116 }
                set_variable = { global.building_roboticized_construction_speed@token:building_material_plantation = 31 }

                set_variable = { global.building_roboticized_upgrade_amount@token:building_material_plantation = 48 }
                set_variable = { global.building_roboticized_upgrade_speed@token:building_material_plantation = 8 }

                set_variable = { global.building_roboticized_input_resource_1@token:building_material_plantation = token:resource_industrial_goods }
                set_variable = { global.building_roboticized_input_amount_1@token:building_material_plantation = 41.0 }

                set_variable = { global.building_roboticized_input_resource_2@token:building_material_plantation = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_roboticized_input_amount_2@token:building_material_plantation = 80.0 }

                set_variable = { global.building_roboticized_input_resource_3@token:building_material_plantation = token:resource_energy_materials }
                set_variable = { global.building_roboticized_input_amount_3@token:building_material_plantation = 45.0 }

                set_variable = { global.building_roboticized_input_resource_4@token:building_material_plantation = token:resource_electricity }
                set_variable = { global.building_roboticized_input_amount_4@token:building_material_plantation = 20.0 }

                set_variable = { global.building_roboticized_peasants_employment@token:building_material_plantation = 0.0 } #1x
                set_variable = { global.building_roboticized_laborers_employment@token:building_material_plantation = 2.4 } #2x
                set_variable = { global.building_roboticized_workers_employment@token:building_material_plantation = 3.0 } #5x
                set_variable = { global.building_roboticized_professionals_employment@token:building_material_plantation = 1.5 } #10x
                set_variable = { global.building_roboticized_specialists_employment@token:building_material_plantation = 0.0 } #20x
                set_variable = { global.building_roboticized_aristocrats_employment@token:building_material_plantation = 0.0 } #30x
                set_variable = { global.building_roboticized_capitalists_employment@token:building_material_plantation = 0.1 } #50x
            #
            #Computerized
                set_variable = { global.building_computerized_tech_unlock@token:building_material_plantation = token:precision_agriculture }

                #Productivity: $16 /K
                set_variable = { global.building_computerized_output_1@token:building_material_plantation = 315 }

                set_variable = { global.building_computerized_construction_amount@token:building_material_plantation = 1440 }
                set_variable = { global.building_computerized_construction_speed@token:building_material_plantation = 40 }

                set_variable = { global.building_computerized_upgrade_amount@token:building_material_plantation = 60 }
                set_variable = { global.building_computerized_upgrade_speed@token:building_material_plantation = 10 }

                set_variable = { global.building_computerized_input_resource_1@token:building_material_plantation = token:resource_industrial_goods }
                set_variable = { global.building_computerized_input_amount_1@token:building_material_plantation = 50.0 }

                set_variable = { global.building_computerized_input_resource_2@token:building_material_plantation = token:resource_raw_materials }
                set_variable = { global.building_computerized_input_amount_2@token:building_material_plantation = 90.0 }

                set_variable = { global.building_computerized_input_resource_3@token:building_material_plantation = token:resource_energy_materials }
                set_variable = { global.building_computerized_input_amount_3@token:building_material_plantation = 70.0 }

                set_variable = { global.building_computerized_input_resource_4@token:building_material_plantation = token:resource_electricity }
                set_variable = { global.building_computerized_input_amount_4@token:building_material_plantation = 70.0 }

                set_variable = { global.building_computerized_peasants_employment@token:building_material_plantation = 0.0 } #1x
                set_variable = { global.building_computerized_laborers_employment@token:building_material_plantation = 0.0 } #2x
                set_variable = { global.building_computerized_workers_employment@token:building_material_plantation = 3.4 } #5x
                set_variable = { global.building_computerized_professionals_employment@token:building_material_plantation = 2.0 } #10x
                set_variable = { global.building_computerized_specialists_employment@token:building_material_plantation = 0.0 } #20x
                set_variable = { global.building_computerized_aristocrats_employment@token:building_material_plantation = 0.0 } #30x
                set_variable = { global.building_computerized_capitalists_employment@token:building_material_plantation = 0.1 } #50x
            #
            #Digitalized
                set_variable = { global.building_digitalized_tech_unlock@token:building_material_plantation = token:second_wave_precision_agriculture }

                #Productivity: $20.4 /K
                set_variable = { global.building_digitalized_output_1@token:building_material_plantation = 340 }

                set_variable = { global.building_digitalized_construction_amount@token:building_material_plantation = 2268 }
                set_variable = { global.building_digitalized_construction_speed@token:building_material_plantation = 63 }

                set_variable = { global.building_digitalized_upgrade_amount@token:building_material_plantation = 90 }
                set_variable = { global.building_digitalized_upgrade_speed@token:building_material_plantation = 15 }

                set_variable = { global.building_digitalized_input_resource_1@token:building_material_plantation = token:resource_industrial_goods }
                set_variable = { global.building_digitalized_input_amount_1@token:building_material_plantation = 60.0 }

                set_variable = { global.building_digitalized_input_resource_2@token:building_material_plantation = token:resource_raw_materials }
                set_variable = { global.building_digitalized_input_amount_2@token:building_material_plantation = 100.0 }

                set_variable = { global.building_digitalized_input_resource_3@token:building_material_plantation = token:resource_energy_materials }
                set_variable = { global.building_digitalized_input_amount_3@token:building_material_plantation = 60.0 }

                set_variable = { global.building_digitalized_input_resource_4@token:building_material_plantation = token:resource_electricity }
                set_variable = { global.building_digitalized_input_amount_4@token:building_material_plantation = 100.0 }

                set_variable = { global.building_digitalized_peasants_employment@token:building_material_plantation = 0.0 } #1x
                set_variable = { global.building_digitalized_laborers_employment@token:building_material_plantation = 0.0 } #2x
                set_variable = { global.building_digitalized_workers_employment@token:building_material_plantation = 2.4 } #5x
                set_variable = { global.building_digitalized_professionals_employment@token:building_material_plantation = 1.5 } #10x
                set_variable = { global.building_digitalized_specialists_employment@token:building_material_plantation = 0.5 } #20x
                set_variable = { global.building_digitalized_aristocrats_employment@token:building_material_plantation = 0.0 } #30x
                set_variable = { global.building_digitalized_capitalists_employment@token:building_material_plantation = 0.1 } #50x
            #
            #Automatized
                set_variable = { global.building_automatized_tech_unlock@token:building_material_plantation = token:fully_automated_farming }

                #Productivity: $27.7 /K
                set_variable = { global.building_automatized_output_1@token:building_material_plantation = 380 }

                set_variable = { global.building_automatized_construction_amount@token:building_material_plantation = 2628 }
                set_variable = { global.building_automatized_construction_speed@token:building_material_plantation = 73 }

                set_variable = { global.building_automatized_upgrade_amount@token:building_material_plantation = 120 }
                set_variable = { global.building_automatized_upgrade_speed@token:building_material_plantation = 20 }

                set_variable = { global.building_automatized_input_resource_1@token:building_material_plantation = token:resource_industrial_goods }
                set_variable = { global.building_automatized_input_amount_1@token:building_material_plantation = 90.0 }

                set_variable = { global.building_automatized_input_resource_2@token:building_material_plantation = token:resource_raw_materials }
                set_variable = { global.building_automatized_input_amount_2@token:building_material_plantation = 120.0 }

                set_variable = { global.building_automatized_input_resource_3@token:building_material_plantation = token:resource_energy_materials }
                set_variable = { global.building_automatized_input_amount_3@token:building_material_plantation = 40.0 }

                set_variable = { global.building_automatized_input_resource_4@token:building_material_plantation = token:resource_electricity }
                set_variable = { global.building_automatized_input_amount_4@token:building_material_plantation = 140.0 }

                set_variable = { global.building_automatized_peasants_employment@token:building_material_plantation = 0.0 } #1x
                set_variable = { global.building_automatized_laborers_employment@token:building_material_plantation = 0.0 } #2x
                set_variable = { global.building_automatized_workers_employment@token:building_material_plantation = 0.0 } #5x
                set_variable = { global.building_automatized_professionals_employment@token:building_material_plantation = 1.9 } #10x
                set_variable = { global.building_automatized_specialists_employment@token:building_material_plantation = 1.0 } #20x
                set_variable = { global.building_automatized_aristocrats_employment@token:building_material_plantation = 0.0 } #30x
                set_variable = { global.building_automatized_capitalists_employment@token:building_material_plantation = 0.1 } #50x
            #
            #Futurized
                set_variable = { global.building_futurized_tech_unlock@token:building_material_plantation = token:accelerated_growth_techniques }

                #Productivity: $34.0 /K
                set_variable = { global.building_futurized_output_1@token:building_material_plantation = 442 }

                set_variable = { global.building_futurized_construction_amount@token:building_material_plantation = 2988 }
                set_variable = { global.building_futurized_construction_speed@token:building_material_plantation = 83 }

                set_variable = { global.building_futurized_input_resource_1@token:building_material_plantation = token:resource_industrial_goods }
                set_variable = { global.building_futurized_input_amount_1@token:building_material_plantation = 100.0 }

                set_variable = { global.building_futurized_input_resource_2@token:building_material_plantation = token:resource_raw_materials }
                set_variable = { global.building_futurized_input_amount_2@token:building_material_plantation = 150.0 }

                set_variable = { global.building_futurized_input_resource_3@token:building_material_plantation = token:resource_electricity }
                set_variable = { global.building_futurized_input_amount_3@token:building_material_plantation = 225.0 }

                set_variable = { global.building_futurized_peasants_employment@token:building_material_plantation = 0.0 } #1x
                set_variable = { global.building_futurized_laborers_employment@token:building_material_plantation = 0.0 } #2x
                set_variable = { global.building_futurized_workers_employment@token:building_material_plantation = 0.0 } #5x
                set_variable = { global.building_futurized_professionals_employment@token:building_material_plantation = 0.0 } #10x
                set_variable = { global.building_futurized_specialists_employment@token:building_material_plantation = 2.4 } #20x
                set_variable = { global.building_futurized_aristocrats_employment@token:building_material_plantation = 0.0 } #30x
                set_variable = { global.building_futurized_capitalists_employment@token:building_material_plantation = 0.1 } #50x
            #
        }
        define_luxuries_plantation = {
            set_variable = { global.building_output_resource_1@token:building_luxuries_plantation = token:resource_luxury_goods }

            set_variable = { global.building_uses_arable_land@token:building_luxuries_plantation = 1 }
            set_variable = { global.building_uses_deposits@token:building_luxuries_plantation = 1 }
            set_variable = { global.building_industrial_capacity_use@token:building_luxuries_plantation = 1 }

            #Basic
                set_variable = { global.building_basic_tech_unlock@token:building_luxuries_plantation = 1 }

                set_variable = { global.building_basic_construction_amount@token:building_luxuries_plantation = 108 }
                set_variable = { global.building_basic_construction_speed@token:building_luxuries_plantation = 3 }

                set_variable = { global.building_basic_upgrade_amount@token:building_luxuries_plantation = 6 }
                set_variable = { global.building_basic_upgrade_speed@token:building_luxuries_plantation = 1 }

                #Productivity: $2.1 /K
                set_variable = { global.building_basic_output_1@token:building_luxuries_plantation = 6.25 }

                set_variable = { global.building_basic_peasants_employment@token:building_luxuries_plantation = 0.0 } #1x
                set_variable = { global.building_basic_laborers_employment@token:building_luxuries_plantation = 12.3 } #2x
                set_variable = { global.building_basic_workers_employment@token:building_luxuries_plantation = 0 } #5x
                set_variable = { global.building_basic_professionals_employment@token:building_luxuries_plantation = 0 } #10x
                set_variable = { global.building_basic_specialists_employment@token:building_luxuries_plantation = 0 } #20x
                set_variable = { global.building_basic_aristocrats_employment@token:building_luxuries_plantation = 0.2 } #30x
                set_variable = { global.building_basic_capitalists_employment@token:building_luxuries_plantation = 0 } #50x
            #
            #Advanced
                set_variable = { global.building_advanced_tech_unlock@token:building_luxuries_plantation = token:pre_industrial_farms }

                #Productivity: $2.6 /K
                set_variable = { global.building_advanced_output_1@token:building_luxuries_plantation = 14 }

                set_variable = { global.building_advanced_construction_amount@token:building_luxuries_plantation = 180 }
                set_variable = { global.building_advanced_construction_speed@token:building_luxuries_plantation = 5 }

                set_variable = { global.building_advanced_upgrade_amount@token:building_luxuries_plantation = 9 }
                set_variable = { global.building_advanced_upgrade_speed@token:building_luxuries_plantation = 1.5 }

                set_variable = { global.building_advanced_input_resource_1@token:building_luxuries_plantation = token:resource_industrial_goods }
                set_variable = { global.building_advanced_input_amount_1@token:building_luxuries_plantation = 3.0 }

                set_variable = { global.building_advanced_input_resource_2@token:building_luxuries_plantation = token:resource_raw_materials }
                set_variable = { global.building_advanced_input_amount_2@token:building_luxuries_plantation = 6.0 }

                set_variable = { global.building_advanced_peasants_employment@token:building_luxuries_plantation = 0.0 } #1x
                set_variable = { global.building_advanced_laborers_employment@token:building_luxuries_plantation = 12.3 } #2x
                set_variable = { global.building_advanced_workers_employment@token:building_luxuries_plantation = 0 } #5x
                set_variable = { global.building_advanced_professionals_employment@token:building_luxuries_plantation = 0 } #10x
                set_variable = { global.building_advanced_specialists_employment@token:building_luxuries_plantation = 0 } #20x
                set_variable = { global.building_advanced_aristocrats_employment@token:building_luxuries_plantation = 0.2 } #30x
                set_variable = { global.building_advanced_capitalists_employment@token:building_luxuries_plantation = 0 } #50x
            #
            #Industrialized
                set_variable = { global.building_industrialized_tech_unlock@token:building_luxuries_plantation = token:threshing_machine }

                #Productivity: $3.35 /K
                set_variable = { global.building_industrialized_output_1@token:building_luxuries_plantation = 22 }

                set_variable = { global.building_industrialized_construction_amount@token:building_luxuries_plantation = 324 }
                set_variable = { global.building_industrialized_construction_speed@token:building_luxuries_plantation = 9 }

                set_variable = { global.building_industrialized_upgrade_amount@token:building_luxuries_plantation = 12 }
                set_variable = { global.building_industrialized_upgrade_speed@token:building_luxuries_plantation = 2 }

                set_variable = { global.building_industrialized_input_resource_1@token:building_luxuries_plantation = token:resource_industrial_goods }
                set_variable = { global.building_industrialized_input_amount_1@token:building_luxuries_plantation = 8.5 }

                set_variable = { global.building_industrialized_input_resource_2@token:building_luxuries_plantation = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_industrialized_input_amount_2@token:building_luxuries_plantation = 17.0 }

                set_variable = { global.building_industrialized_peasants_employment@token:building_luxuries_plantation = 0.0 } #1x
                set_variable = { global.building_industrialized_laborers_employment@token:building_luxuries_plantation = 11.8 } #2x
                set_variable = { global.building_industrialized_workers_employment@token:building_luxuries_plantation = 0.0 } #5x
                set_variable = { global.building_industrialized_professionals_employment@token:building_luxuries_plantation = 0 } #10x
                set_variable = { global.building_industrialized_specialists_employment@token:building_luxuries_plantation = 0 } #20x
                set_variable = { global.building_industrialized_aristocrats_employment@token:building_luxuries_plantation = 0.2 } #30x
                set_variable = { global.building_industrialized_capitalists_employment@token:building_luxuries_plantation = 0 } #50x
            #
            #Mechanized
                set_variable = { global.building_mechanized_tech_unlock@token:building_luxuries_plantation = token:late_traction_engines }

                #Productivity: $3.8 /K
                set_variable = { global.building_mechanized_output_1@token:building_luxuries_plantation = 38.5 }

                set_variable = { global.building_mechanized_construction_amount@token:building_luxuries_plantation = 396 }
                set_variable = { global.building_mechanized_construction_speed@token:building_luxuries_plantation = 11 }

                set_variable = { global.building_mechanized_upgrade_amount@token:building_luxuries_plantation = 15 }
                set_variable = { global.building_mechanized_upgrade_speed@token:building_luxuries_plantation = 2.5 }

                set_variable = { global.building_mechanized_input_resource_1@token:building_luxuries_plantation = token:resource_industrial_goods }
                set_variable = { global.building_mechanized_input_amount_1@token:building_luxuries_plantation = 18.0 }

                set_variable = { global.building_mechanized_input_resource_2@token:building_luxuries_plantation = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_mechanized_input_amount_2@token:building_luxuries_plantation = 42.0 }

                set_variable = { global.building_mechanized_peasants_employment@token:building_luxuries_plantation = 0.0 } #1x
                set_variable = { global.building_mechanized_laborers_employment@token:building_luxuries_plantation = 11.8 } #2x
                set_variable = { global.building_mechanized_workers_employment@token:building_luxuries_plantation = 0.0 } #5x
                set_variable = { global.building_mechanized_professionals_employment@token:building_luxuries_plantation = 0 } #10x
                set_variable = { global.building_mechanized_specialists_employment@token:building_luxuries_plantation = 0 } #20x
                set_variable = { global.building_mechanized_aristocrats_employment@token:building_luxuries_plantation = 0.2 } #30x
                set_variable = { global.building_mechanized_capitalists_employment@token:building_luxuries_plantation = 0.0 } #50x
            #
            #Electrified
                set_variable = { global.building_electrified_tech_unlock@token:building_luxuries_plantation = token:early_tractors }

                #Productivity: $4.39 /K
                set_variable = { global.building_electrified_output_1@token:building_luxuries_plantation = 50 }

                set_variable = { global.building_electrified_construction_amount@token:building_luxuries_plantation = 540 }
                set_variable = { global.building_electrified_construction_speed@token:building_luxuries_plantation = 15 }

                set_variable = { global.building_electrified_upgrade_amount@token:building_luxuries_plantation = 18 }
                set_variable = { global.building_electrified_upgrade_speed@token:building_luxuries_plantation = 3 }

                set_variable = { global.building_electrified_input_resource_1@token:building_luxuries_plantation = token:resource_industrial_goods }
                set_variable = { global.building_electrified_input_amount_1@token:building_luxuries_plantation = 26.0 }

                set_variable = { global.building_electrified_input_resource_2@token:building_luxuries_plantation = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_electrified_input_amount_2@token:building_luxuries_plantation = 64.0 }

                set_variable = { global.building_electrified_input_resource_3@token:building_luxuries_plantation = token:resource_energy_materials }
                set_variable = { global.building_electrified_input_amount_3@token:building_luxuries_plantation = 5.0 }

                set_variable = { global.building_electrified_peasants_employment@token:building_luxuries_plantation = 0.0 } #1x
                set_variable = { global.building_electrified_laborers_employment@token:building_luxuries_plantation = 9.35 } #2x
                set_variable = { global.building_electrified_workers_employment@token:building_luxuries_plantation = 1.0 } #5x
                set_variable = { global.building_electrified_professionals_employment@token:building_luxuries_plantation = 0 } #10x
                set_variable = { global.building_electrified_specialists_employment@token:building_luxuries_plantation = 0 } #20x
                set_variable = { global.building_electrified_aristocrats_employment@token:building_luxuries_plantation = 0.15 } #30x
                set_variable = { global.building_electrified_capitalists_employment@token:building_luxuries_plantation = 0.0 } #50x
            #
            #Motorized
                set_variable = { global.building_motorized_tech_unlock@token:building_luxuries_plantation = token:fordson_tractor }

                #Productivity: $6.06 /K
                set_variable = { global.building_motorized_output_1@token:building_luxuries_plantation = 55 }

                set_variable = { global.building_motorized_construction_amount@token:building_luxuries_plantation = 648 }
                set_variable = { global.building_motorized_construction_speed@token:building_luxuries_plantation = 18 }

                set_variable = { global.building_motorized_upgrade_amount@token:building_luxuries_plantation = 24 }
                set_variable = { global.building_motorized_upgrade_speed@token:building_luxuries_plantation = 4 }

                set_variable = { global.building_motorized_input_resource_1@token:building_luxuries_plantation = token:resource_industrial_goods }
                set_variable = { global.building_motorized_input_amount_1@token:building_luxuries_plantation = 32.0 }

                set_variable = { global.building_motorized_input_resource_2@token:building_luxuries_plantation = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_motorized_input_amount_2@token:building_luxuries_plantation = 71.0 }

                set_variable = { global.building_motorized_input_resource_3@token:building_luxuries_plantation = token:resource_energy_materials }
                set_variable = { global.building_motorized_input_amount_3@token:building_luxuries_plantation = 15.0 }

                set_variable = { global.building_motorized_peasants_employment@token:building_luxuries_plantation = 0.0 } #1x
                set_variable = { global.building_motorized_laborers_employment@token:building_luxuries_plantation = 6.85 } #2x
                set_variable = { global.building_motorized_workers_employment@token:building_luxuries_plantation = 2.5 } #5x
                set_variable = { global.building_motorized_professionals_employment@token:building_luxuries_plantation = 0 } #10x
                set_variable = { global.building_motorized_specialists_employment@token:building_luxuries_plantation = 0 } #20x
                set_variable = { global.building_motorized_aristocrats_employment@token:building_luxuries_plantation = 0.1 } #30x
                set_variable = { global.building_motorized_capitalists_employment@token:building_luxuries_plantation = 0.05 } #50x
            #
            #Modernized
                set_variable = { global.building_modernized_tech_unlock@token:building_luxuries_plantation = token:agricultural_unit_machinery }

                #Productivity: $9.7 /K
                set_variable = { global.building_modernized_output_1@token:building_luxuries_plantation = 60 }

                set_variable = { global.building_modernized_construction_amount@token:building_luxuries_plantation = 828 }
                set_variable = { global.building_modernized_construction_speed@token:building_luxuries_plantation = 23 }

                set_variable = { global.building_modernized_upgrade_amount@token:building_luxuries_plantation = 36 }
                set_variable = { global.building_modernized_upgrade_speed@token:building_luxuries_plantation = 6 }

                set_variable = { global.building_modernized_input_resource_1@token:building_luxuries_plantation = token:resource_industrial_goods }
                set_variable = { global.building_modernized_input_amount_1@token:building_luxuries_plantation = 40.0 }

                set_variable = { global.building_modernized_input_resource_2@token:building_luxuries_plantation = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_modernized_input_amount_2@token:building_luxuries_plantation = 75.0 }

                set_variable = { global.building_modernized_input_resource_3@token:building_luxuries_plantation = token:resource_energy_materials }
                set_variable = { global.building_modernized_input_amount_3@token:building_luxuries_plantation = 30.0 }

                set_variable = { global.building_modernized_input_resource_4@token:building_luxuries_plantation = token:resource_electricity }
                set_variable = { global.building_modernized_input_amount_4@token:building_luxuries_plantation = 5.0 }

                set_variable = { global.building_modernized_peasants_employment@token:building_luxuries_plantation = 0.0 } #1x
                set_variable = { global.building_modernized_laborers_employment@token:building_luxuries_plantation = 4.4 } #2x
                set_variable = { global.building_modernized_workers_employment@token:building_luxuries_plantation = 3.0 } #5x
                set_variable = { global.building_modernized_professionals_employment@token:building_luxuries_plantation = 0.5 } #10x
                set_variable = { global.building_modernized_specialists_employment@token:building_luxuries_plantation = 0 } #20x
                set_variable = { global.building_modernized_aristocrats_employment@token:building_luxuries_plantation = 0.05 } #30x
                set_variable = { global.building_modernized_capitalists_employment@token:building_luxuries_plantation = 0.05 } #50x
            #
            #Roboticized
                set_variable = { global.building_roboticized_tech_unlock@token:building_luxuries_plantation = token:refined_agricultural_machines }

                #Productivity: $12.58 /K
                set_variable = { global.building_roboticized_output_1@token:building_luxuries_plantation = 65 }

                set_variable = { global.building_roboticized_construction_amount@token:building_luxuries_plantation = 1116 }
                set_variable = { global.building_roboticized_construction_speed@token:building_luxuries_plantation = 31 }

                set_variable = { global.building_roboticized_upgrade_amount@token:building_luxuries_plantation = 48 }
                set_variable = { global.building_roboticized_upgrade_speed@token:building_luxuries_plantation = 8 }

                set_variable = { global.building_roboticized_input_resource_1@token:building_luxuries_plantation = token:resource_industrial_goods }
                set_variable = { global.building_roboticized_input_amount_1@token:building_luxuries_plantation = 41.0 }

                set_variable = { global.building_roboticized_input_resource_2@token:building_luxuries_plantation = token:resource_raw_materials } #Fertilizer
                set_variable = { global.building_roboticized_input_amount_2@token:building_luxuries_plantation = 80.0 }

                set_variable = { global.building_roboticized_input_resource_3@token:building_luxuries_plantation = token:resource_energy_materials }
                set_variable = { global.building_roboticized_input_amount_3@token:building_luxuries_plantation = 45.0 }

                set_variable = { global.building_roboticized_input_resource_4@token:building_luxuries_plantation = token:resource_electricity }
                set_variable = { global.building_roboticized_input_amount_4@token:building_luxuries_plantation = 20.0 }

                set_variable = { global.building_roboticized_peasants_employment@token:building_luxuries_plantation = 0.0 } #1x
                set_variable = { global.building_roboticized_laborers_employment@token:building_luxuries_plantation = 2.4 } #2x
                set_variable = { global.building_roboticized_workers_employment@token:building_luxuries_plantation = 3.0 } #5x
                set_variable = { global.building_roboticized_professionals_employment@token:building_luxuries_plantation = 1.5 } #10x
                set_variable = { global.building_roboticized_specialists_employment@token:building_luxuries_plantation = 0.0 } #20x
                set_variable = { global.building_roboticized_aristocrats_employment@token:building_luxuries_plantation = 0.0 } #30x
                set_variable = { global.building_roboticized_capitalists_employment@token:building_luxuries_plantation = 0.1 } #50x
            #
            #Computerized
                set_variable = { global.building_computerized_tech_unlock@token:building_luxuries_plantation = token:precision_agriculture }

                #Productivity: $16 /K
                set_variable = { global.building_computerized_output_1@token:building_luxuries_plantation = 79 }

                set_variable = { global.building_computerized_construction_amount@token:building_luxuries_plantation = 1440 }
                set_variable = { global.building_computerized_construction_speed@token:building_luxuries_plantation = 40 }

                set_variable = { global.building_computerized_upgrade_amount@token:building_luxuries_plantation = 60 }
                set_variable = { global.building_computerized_upgrade_speed@token:building_luxuries_plantation = 10 }

                set_variable = { global.building_computerized_input_resource_1@token:building_luxuries_plantation = token:resource_industrial_goods }
                set_variable = { global.building_computerized_input_amount_1@token:building_luxuries_plantation = 50.0 }

                set_variable = { global.building_computerized_input_resource_2@token:building_luxuries_plantation = token:resource_raw_materials }
                set_variable = { global.building_computerized_input_amount_2@token:building_luxuries_plantation = 90.0 }

                set_variable = { global.building_computerized_input_resource_3@token:building_luxuries_plantation = token:resource_energy_materials }
                set_variable = { global.building_computerized_input_amount_3@token:building_luxuries_plantation = 70.0 }

                set_variable = { global.building_computerized_input_resource_4@token:building_luxuries_plantation = token:resource_electricity }
                set_variable = { global.building_computerized_input_amount_4@token:building_luxuries_plantation = 70.0 }

                set_variable = { global.building_computerized_peasants_employment@token:building_luxuries_plantation = 0.0 } #1x
                set_variable = { global.building_computerized_laborers_employment@token:building_luxuries_plantation = 0.0 } #2x
                set_variable = { global.building_computerized_workers_employment@token:building_luxuries_plantation = 3.4 } #5x
                set_variable = { global.building_computerized_professionals_employment@token:building_luxuries_plantation = 2.0 } #10x
                set_variable = { global.building_computerized_specialists_employment@token:building_luxuries_plantation = 0.0 } #20x
                set_variable = { global.building_computerized_aristocrats_employment@token:building_luxuries_plantation = 0.0 } #30x
                set_variable = { global.building_computerized_capitalists_employment@token:building_luxuries_plantation = 0.1 } #50x
            #
            #Digitalized
                set_variable = { global.building_digitalized_tech_unlock@token:building_luxuries_plantation = token:second_wave_precision_agriculture }

                #Productivity: $20.4 /K
                set_variable = { global.building_digitalized_output_1@token:building_luxuries_plantation = 85 }

                set_variable = { global.building_digitalized_construction_amount@token:building_luxuries_plantation = 2268 }
                set_variable = { global.building_digitalized_construction_speed@token:building_luxuries_plantation = 63 }

                set_variable = { global.building_digitalized_upgrade_amount@token:building_luxuries_plantation = 90 }
                set_variable = { global.building_digitalized_upgrade_speed@token:building_luxuries_plantation = 15 }

                set_variable = { global.building_digitalized_input_resource_1@token:building_luxuries_plantation = token:resource_industrial_goods }
                set_variable = { global.building_digitalized_input_amount_1@token:building_luxuries_plantation = 60.0 }

                set_variable = { global.building_digitalized_input_resource_2@token:building_luxuries_plantation = token:resource_raw_materials }
                set_variable = { global.building_digitalized_input_amount_2@token:building_luxuries_plantation = 100.0 }

                set_variable = { global.building_digitalized_input_resource_3@token:building_luxuries_plantation = token:resource_energy_materials }
                set_variable = { global.building_digitalized_input_amount_3@token:building_luxuries_plantation = 60.0 }

                set_variable = { global.building_digitalized_input_resource_4@token:building_luxuries_plantation = token:resource_electricity }
                set_variable = { global.building_digitalized_input_amount_4@token:building_luxuries_plantation = 100.0 }

                set_variable = { global.building_digitalized_peasants_employment@token:building_luxuries_plantation = 0.0 } #1x
                set_variable = { global.building_digitalized_laborers_employment@token:building_luxuries_plantation = 0.0 } #2x
                set_variable = { global.building_digitalized_workers_employment@token:building_luxuries_plantation = 2.4 } #5x
                set_variable = { global.building_digitalized_professionals_employment@token:building_luxuries_plantation = 1.5 } #10x
                set_variable = { global.building_digitalized_specialists_employment@token:building_luxuries_plantation = 0.5 } #20x
                set_variable = { global.building_digitalized_aristocrats_employment@token:building_luxuries_plantation = 0.0 } #30x
                set_variable = { global.building_digitalized_capitalists_employment@token:building_luxuries_plantation = 0.1 } #50x
            #
            #Automatized
                set_variable = { global.building_automatized_tech_unlock@token:building_luxuries_plantation = token:fully_automated_farming }

                #Productivity: $27.7 /K
                set_variable = { global.building_automatized_output_1@token:building_luxuries_plantation = 95 }

                set_variable = { global.building_automatized_construction_amount@token:building_luxuries_plantation = 2628 }
                set_variable = { global.building_automatized_construction_speed@token:building_luxuries_plantation = 73 }

                set_variable = { global.building_automatized_upgrade_amount@token:building_luxuries_plantation = 120 }
                set_variable = { global.building_automatized_upgrade_speed@token:building_luxuries_plantation = 20 }

                set_variable = { global.building_automatized_input_resource_1@token:building_luxuries_plantation = token:resource_industrial_goods }
                set_variable = { global.building_automatized_input_amount_1@token:building_luxuries_plantation = 90.0 }

                set_variable = { global.building_automatized_input_resource_2@token:building_luxuries_plantation = token:resource_raw_materials }
                set_variable = { global.building_automatized_input_amount_2@token:building_luxuries_plantation = 120.0 }

                set_variable = { global.building_automatized_input_resource_3@token:building_luxuries_plantation = token:resource_energy_materials }
                set_variable = { global.building_automatized_input_amount_3@token:building_luxuries_plantation = 40.0 }

                set_variable = { global.building_automatized_input_resource_4@token:building_luxuries_plantation = token:resource_electricity }
                set_variable = { global.building_automatized_input_amount_4@token:building_luxuries_plantation = 140.0 }

                set_variable = { global.building_automatized_peasants_employment@token:building_luxuries_plantation = 0.0 } #1x
                set_variable = { global.building_automatized_laborers_employment@token:building_luxuries_plantation = 0.0 } #2x
                set_variable = { global.building_automatized_workers_employment@token:building_luxuries_plantation = 0.0 } #5x
                set_variable = { global.building_automatized_professionals_employment@token:building_luxuries_plantation = 1.9 } #10x
                set_variable = { global.building_automatized_specialists_employment@token:building_luxuries_plantation = 1.0 } #20x
                set_variable = { global.building_automatized_aristocrats_employment@token:building_luxuries_plantation = 0.0 } #30x
                set_variable = { global.building_automatized_capitalists_employment@token:building_luxuries_plantation = 0.1 } #50x
            #
            #Futurized
                set_variable = { global.building_futurized_tech_unlock@token:building_luxuries_plantation = token:accelerated_growth_techniques }

                #Productivity: $34.0 /K
                set_variable = { global.building_futurized_output_1@token:building_luxuries_plantation = 110 }

                set_variable = { global.building_futurized_construction_amount@token:building_luxuries_plantation = 2988 }
                set_variable = { global.building_futurized_construction_speed@token:building_luxuries_plantation = 83 }

                set_variable = { global.building_futurized_input_resource_1@token:building_luxuries_plantation = token:resource_industrial_goods }
                set_variable = { global.building_futurized_input_amount_1@token:building_luxuries_plantation = 100.0 }

                set_variable = { global.building_futurized_input_resource_2@token:building_luxuries_plantation = token:resource_raw_materials }
                set_variable = { global.building_futurized_input_amount_2@token:building_luxuries_plantation = 150.0 }

                set_variable = { global.building_futurized_input_resource_3@token:building_luxuries_plantation = token:resource_electricity }
                set_variable = { global.building_futurized_input_amount_3@token:building_luxuries_plantation = 225.0 }

                set_variable = { global.building_futurized_peasants_employment@token:building_luxuries_plantation = 0.0 } #1x
                set_variable = { global.building_futurized_laborers_employment@token:building_luxuries_plantation = 0.0 } #2x
                set_variable = { global.building_futurized_workers_employment@token:building_luxuries_plantation = 0.0 } #5x
                set_variable = { global.building_futurized_professionals_employment@token:building_luxuries_plantation = 0.0 } #10x
                set_variable = { global.building_futurized_specialists_employment@token:building_luxuries_plantation = 2.4 } #20x
                set_variable = { global.building_futurized_aristocrats_employment@token:building_luxuries_plantation = 0.0 } #30x
                set_variable = { global.building_futurized_capitalists_employment@token:building_luxuries_plantation = 0.1 } #50x
            #
        }
        define_lumber_mill = {
            set_variable = { global.building_output_resource_1@token:building_lumber_mill = token:resource_raw_materials }
            set_variable = { global.building_output_resource_2@token:building_lumber_mill = token:resource_energy_materials }

            set_variable = { global.building_uses_deposits@token:building_lumber_mill = 1 }
            set_variable = { global.building_industrial_capacity_use@token:building_lumber_mill = 1 }

            #Basic
                set_variable = { global.building_basic_tech_unlock@token:building_lumber_mill = 1 }

                set_variable = { global.building_basic_construction_amount@token:building_lumber_mill = 108 }
                set_variable = { global.building_basic_construction_speed@token:building_lumber_mill = 3 }

                set_variable = { global.building_basic_upgrade_amount@token:building_lumber_mill = 6 }
                set_variable = { global.building_basic_upgrade_speed@token:building_lumber_mill = 1 }

                #Productivity: $1.8 /K
                set_variable = { global.building_basic_output_1@token:building_lumber_mill = 16 }
                set_variable = { global.building_basic_output_2@token:building_lumber_mill = 4 }

                set_variable = { global.building_basic_peasants_employment@token:building_lumber_mill = 0.0 } #1x
                set_variable = { global.building_basic_laborers_employment@token:building_lumber_mill = 9.9 } #2x
                set_variable = { global.building_basic_workers_employment@token:building_lumber_mill = 0 } #5x
                set_variable = { global.building_basic_professionals_employment@token:building_lumber_mill = 0 } #10x
                set_variable = { global.building_basic_specialists_employment@token:building_lumber_mill = 0 } #20x
                set_variable = { global.building_basic_aristocrats_employment@token:building_lumber_mill = 0.05 } #30x
                set_variable = { global.building_basic_capitalists_employment@token:building_lumber_mill = 0.05 } #50x
            #
            #Advanced
                set_variable = { global.building_advanced_tech_unlock@token:building_lumber_mill = token:pre_industrial_farms }

                #Productivity: $2.25 /K
                set_variable = { global.building_advanced_output_1@token:building_lumber_mill = 36 }
                set_variable = { global.building_advanced_output_2@token:building_lumber_mill = 9 }

                set_variable = { global.building_advanced_construction_amount@token:building_lumber_mill = 180 }
                set_variable = { global.building_advanced_construction_speed@token:building_lumber_mill = 5 }

                set_variable = { global.building_advanced_upgrade_amount@token:building_lumber_mill = 9 }
                set_variable = { global.building_advanced_upgrade_speed@token:building_lumber_mill = 1.5 }

                set_variable = { global.building_advanced_input_resource_1@token:building_lumber_mill = token:resource_industrial_goods }
                set_variable = { global.building_advanced_input_amount_1@token:building_lumber_mill = 4.0 }

                set_variable = { global.building_advanced_peasants_employment@token:building_lumber_mill = 0.0 } #1x
                set_variable = { global.building_advanced_laborers_employment@token:building_lumber_mill = 8.9 } #2x
                set_variable = { global.building_advanced_workers_employment@token:building_lumber_mill = 0 } #5x
                set_variable = { global.building_advanced_professionals_employment@token:building_lumber_mill = 0 } #10x
                set_variable = { global.building_advanced_specialists_employment@token:building_lumber_mill = 0 } #20x
                set_variable = { global.building_advanced_aristocrats_employment@token:building_lumber_mill = 0.05 } #30x
                set_variable = { global.building_advanced_capitalists_employment@token:building_lumber_mill = 0.05 } #50x
            #
            #Industrialized
                set_variable = { global.building_industrialized_tech_unlock@token:building_lumber_mill = token:threshing_machine }

                #Productivity: $2.89 /K
                set_variable = { global.building_industrialized_output_1@token:building_lumber_mill = 53 }
                set_variable = { global.building_industrialized_output_2@token:building_lumber_mill = 13 }

                set_variable = { global.building_industrialized_construction_amount@token:building_lumber_mill = 324 }
                set_variable = { global.building_industrialized_construction_speed@token:building_lumber_mill = 9 }

                set_variable = { global.building_industrialized_upgrade_amount@token:building_lumber_mill = 12 }
                set_variable = { global.building_industrialized_upgrade_speed@token:building_lumber_mill = 2 }

                set_variable = { global.building_industrialized_input_resource_1@token:building_lumber_mill = token:resource_industrial_goods }
                set_variable = { global.building_industrialized_input_amount_1@token:building_lumber_mill = 10.0 }

                set_variable = { global.building_industrialized_peasants_employment@token:building_lumber_mill = 0.0 } #1x
                set_variable = { global.building_industrialized_laborers_employment@token:building_lumber_mill = 6.4 } #2x
                set_variable = { global.building_industrialized_workers_employment@token:building_lumber_mill = 2.5 } #5x
                set_variable = { global.building_industrialized_professionals_employment@token:building_lumber_mill = 0 } #10x
                set_variable = { global.building_industrialized_specialists_employment@token:building_lumber_mill = 0 } #20x
                set_variable = { global.building_industrialized_aristocrats_employment@token:building_lumber_mill = 0 } #30x
                set_variable = { global.building_industrialized_capitalists_employment@token:building_lumber_mill = 0.1 } #50x
            #
            #Mechanized
                set_variable = { global.building_mechanized_tech_unlock@token:building_lumber_mill = token:late_traction_engines }

                #Productivity: $3.6 /K
                set_variable = { global.building_mechanized_output_1@token:building_lumber_mill = 76 }
                set_variable = { global.building_mechanized_output_2@token:building_lumber_mill = 20 }

                set_variable = { global.building_mechanized_construction_amount@token:building_lumber_mill = 396 }
                set_variable = { global.building_mechanized_construction_speed@token:building_lumber_mill = 11 }

                set_variable = { global.building_mechanized_upgrade_amount@token:building_lumber_mill = 15 }
                set_variable = { global.building_mechanized_upgrade_speed@token:building_lumber_mill = 2.5 }

                set_variable = { global.building_mechanized_input_resource_1@token:building_lumber_mill = token:resource_industrial_goods }
                set_variable = { global.building_mechanized_input_amount_1@token:building_lumber_mill = 18.0 }

                set_variable = { global.building_mechanized_input_resource_2@token:building_lumber_mill = token:resource_energy_materials }
                set_variable = { global.building_mechanized_input_amount_2@token:building_lumber_mill = 6.0 }

                set_variable = { global.building_mechanized_peasants_employment@token:building_lumber_mill = 0.0 } #1x
                set_variable = { global.building_mechanized_laborers_employment@token:building_lumber_mill = 3.9 } #2x
                set_variable = { global.building_mechanized_workers_employment@token:building_lumber_mill = 3.5 } #5x
                set_variable = { global.building_mechanized_professionals_employment@token:building_lumber_mill = 0 } #10x
                set_variable = { global.building_mechanized_specialists_employment@token:building_lumber_mill = 0 } #20x
                set_variable = { global.building_mechanized_aristocrats_employment@token:building_lumber_mill = 0.0 } #30x
                set_variable = { global.building_mechanized_capitalists_employment@token:building_lumber_mill = 0.1 } #50x
            #
            #Electrified
                set_variable = { global.building_electrified_tech_unlock@token:building_lumber_mill = token:early_tractors }

                #Productivity: $5.0 /K
                set_variable = { global.building_electrified_output_1@token:building_lumber_mill = 100 }
                set_variable = { global.building_electrified_output_2@token:building_lumber_mill = 22 }

                set_variable = { global.building_electrified_construction_amount@token:building_lumber_mill = 540 }
                set_variable = { global.building_electrified_construction_speed@token:building_lumber_mill = 15 }

                set_variable = { global.building_electrified_upgrade_amount@token:building_lumber_mill = 18 }
                set_variable = { global.building_electrified_upgrade_speed@token:building_lumber_mill = 3 }

                set_variable = { global.building_electrified_input_resource_1@token:building_lumber_mill = token:resource_industrial_goods }
                set_variable = { global.building_electrified_input_amount_1@token:building_lumber_mill = 25.0 }

                set_variable = { global.building_electrified_input_resource_2@token:building_lumber_mill = token:resource_energy_materials }
                set_variable = { global.building_electrified_input_amount_2@token:building_lumber_mill = 17.0 }

                set_variable = { global.building_electrified_peasants_employment@token:building_lumber_mill = 0.0 } #1x
                set_variable = { global.building_electrified_laborers_employment@token:building_lumber_mill = 1.4 } #2x
                set_variable = { global.building_electrified_workers_employment@token:building_lumber_mill = 4.5 } #5x
                set_variable = { global.building_electrified_professionals_employment@token:building_lumber_mill = 0.5 } #10x
                set_variable = { global.building_electrified_specialists_employment@token:building_lumber_mill = 0 } #20x
                set_variable = { global.building_electrified_aristocrats_employment@token:building_lumber_mill = 0.0 } #30x
                set_variable = { global.building_electrified_capitalists_employment@token:building_lumber_mill = 0.1 } #50x
            #
            #Motorized
                set_variable = { global.building_motorized_tech_unlock@token:building_lumber_mill = token:fordson_tractor }

                #Productivity: $6.42 /K
                set_variable = { global.building_motorized_output_1@token:building_lumber_mill = 115 }
                set_variable = { global.building_motorized_output_2@token:building_lumber_mill = 25 }

                set_variable = { global.building_motorized_construction_amount@token:building_lumber_mill = 648 }
                set_variable = { global.building_motorized_construction_speed@token:building_lumber_mill = 18 }

                set_variable = { global.building_motorized_upgrade_amount@token:building_lumber_mill = 24 }
                set_variable = { global.building_motorized_upgrade_speed@token:building_lumber_mill = 4 }

                set_variable = { global.building_motorized_input_resource_1@token:building_lumber_mill = token:resource_industrial_goods }
                set_variable = { global.building_motorized_input_amount_1@token:building_lumber_mill = 28.0 }

                set_variable = { global.building_motorized_input_resource_2@token:building_lumber_mill = token:resource_energy_materials }
                set_variable = { global.building_motorized_input_amount_2@token:building_lumber_mill = 30.0 }

                set_variable = { global.building_motorized_peasants_employment@token:building_lumber_mill = 0.0 } #1x
                set_variable = { global.building_motorized_laborers_employment@token:building_lumber_mill = 0.0 } #2x
                set_variable = { global.building_motorized_workers_employment@token:building_lumber_mill = 3.9 } #5x
                set_variable = { global.building_motorized_professionals_employment@token:building_lumber_mill = 2.0 } #10x
                set_variable = { global.building_motorized_specialists_employment@token:building_lumber_mill = 0 } #20x
                set_variable = { global.building_motorized_aristocrats_employment@token:building_lumber_mill = 0.0 } #30x
                set_variable = { global.building_motorized_capitalists_employment@token:building_lumber_mill = 0.1 } #50x
            #
            #Modernized
                set_variable = { global.building_modernized_tech_unlock@token:building_lumber_mill = token:agricultural_unit_machinery }

                #Productivity: $9.0 /K
                set_variable = { global.building_modernized_output_1@token:building_lumber_mill = 125 }
                set_variable = { global.building_modernized_output_2@token:building_lumber_mill = 26 }

                set_variable = { global.building_modernized_construction_amount@token:building_lumber_mill = 828 }
                set_variable = { global.building_modernized_construction_speed@token:building_lumber_mill = 23 }

                set_variable = { global.building_modernized_upgrade_amount@token:building_lumber_mill = 36 }
                set_variable = { global.building_modernized_upgrade_speed@token:building_lumber_mill = 6 }

                set_variable = { global.building_modernized_input_resource_1@token:building_lumber_mill = token:resource_industrial_goods }
                set_variable = { global.building_modernized_input_amount_1@token:building_lumber_mill = 33.0 }

                set_variable = { global.building_modernized_input_resource_2@token:building_lumber_mill = token:resource_energy_materials }
                set_variable = { global.building_modernized_input_amount_2@token:building_lumber_mill = 35.0 }

                set_variable = { global.building_modernized_input_resource_3@token:building_lumber_mill = token:resource_electricity }
                set_variable = { global.building_modernized_input_amount_3@token:building_lumber_mill = 10.0 }

                set_variable = { global.building_modernized_peasants_employment@token:building_lumber_mill = 0.0 } #1x
                set_variable = { global.building_modernized_laborers_employment@token:building_lumber_mill = 0.0 } #2x
                set_variable = { global.building_modernized_workers_employment@token:building_lumber_mill = 2.4 } #5x
                set_variable = { global.building_modernized_professionals_employment@token:building_lumber_mill = 2.5 } #10x
                set_variable = { global.building_modernized_specialists_employment@token:building_lumber_mill = 0 } #20x
                set_variable = { global.building_modernized_aristocrats_employment@token:building_lumber_mill = 0.0 } #30x
                set_variable = { global.building_modernized_capitalists_employment@token:building_lumber_mill = 0.1 } #50x
            #
            #Roboticized
                set_variable = { global.building_roboticized_tech_unlock@token:building_lumber_mill = token:refined_agricultural_machines }

                #Productivity: $11.8 /K
                set_variable = { global.building_roboticized_output_1@token:building_lumber_mill = 140 }
                set_variable = { global.building_roboticized_output_2@token:building_lumber_mill = 27 }

                set_variable = { global.building_roboticized_construction_amount@token:building_lumber_mill = 1116 }
                set_variable = { global.building_roboticized_construction_speed@token:building_lumber_mill = 31 }

                set_variable = { global.building_roboticized_upgrade_amount@token:building_lumber_mill = 48 }
                set_variable = { global.building_roboticized_upgrade_speed@token:building_lumber_mill = 8 }

                set_variable = { global.building_roboticized_input_resource_1@token:building_lumber_mill = token:resource_industrial_goods }
                set_variable = { global.building_roboticized_input_amount_1@token:building_lumber_mill = 37.0 }

                set_variable = { global.building_roboticized_input_resource_2@token:building_lumber_mill = token:resource_energy_materials }
                set_variable = { global.building_roboticized_input_amount_2@token:building_lumber_mill = 40.0 }

                set_variable = { global.building_roboticized_input_resource_3@token:building_lumber_mill = token:resource_electricity }
                set_variable = { global.building_roboticized_input_amount_3@token:building_lumber_mill = 20.0 }

                set_variable = { global.building_roboticized_peasants_employment@token:building_lumber_mill = 0.0 } #1x
                set_variable = { global.building_roboticized_laborers_employment@token:building_lumber_mill = 0.0 } #2x
                set_variable = { global.building_roboticized_workers_employment@token:building_lumber_mill = 0.9 } #5x
                set_variable = { global.building_roboticized_professionals_employment@token:building_lumber_mill = 3.0 } #10x
                set_variable = { global.building_roboticized_specialists_employment@token:building_lumber_mill = 0.5 } #20x
                set_variable = { global.building_roboticized_aristocrats_employment@token:building_lumber_mill = 0.0 } #30x
                set_variable = { global.building_roboticized_capitalists_employment@token:building_lumber_mill = 0.1 } #50x
            #
            #Computerized
                set_variable = { global.building_computerized_tech_unlock@token:building_lumber_mill = token:precision_agriculture }

                #Productivity: $15.14 /K
                set_variable = { global.building_computerized_output_1@token:building_lumber_mill = 170 }
                set_variable = { global.building_computerized_output_2@token:building_lumber_mill = 30 }

                set_variable = { global.building_computerized_construction_amount@token:building_lumber_mill = 1440 }
                set_variable = { global.building_computerized_construction_speed@token:building_lumber_mill = 40 }

                set_variable = { global.building_computerized_upgrade_amount@token:building_lumber_mill = 60 }
                set_variable = { global.building_computerized_upgrade_speed@token:building_lumber_mill = 10 }

                set_variable = { global.building_computerized_input_resource_1@token:building_lumber_mill = token:resource_industrial_goods }
                set_variable = { global.building_computerized_input_amount_1@token:building_lumber_mill = 45.0 }

                set_variable = { global.building_computerized_input_resource_2@token:building_lumber_mill = token:resource_energy_materials }
                set_variable = { global.building_computerized_input_amount_2@token:building_lumber_mill = 55.0 }

                set_variable = { global.building_computerized_input_resource_3@token:building_lumber_mill = token:resource_electricity }
                set_variable = { global.building_computerized_input_amount_3@token:building_lumber_mill = 50.0 }

                set_variable = { global.building_computerized_peasants_employment@token:building_lumber_mill = 0.0 } #1x
                set_variable = { global.building_computerized_laborers_employment@token:building_lumber_mill = 0.0 } #2x
                set_variable = { global.building_computerized_workers_employment@token:building_lumber_mill = 0.0 } #5x
                set_variable = { global.building_computerized_professionals_employment@token:building_lumber_mill = 2.4 } #10x
                set_variable = { global.building_computerized_specialists_employment@token:building_lumber_mill = 1.0 } #20x
                set_variable = { global.building_computerized_aristocrats_employment@token:building_lumber_mill = 0.0 } #30x
                set_variable = { global.building_computerized_capitalists_employment@token:building_lumber_mill = 0.1 } #50x
            #
            #Digitalized
                set_variable = { global.building_digitalized_tech_unlock@token:building_lumber_mill = token:second_wave_precision_agriculture }

                #Productivity: $18.0 /K
                set_variable = { global.building_digitalized_output_1@token:building_lumber_mill = 235 }
                set_variable = { global.building_digitalized_output_2@token:building_lumber_mill = 30 }

                set_variable = { global.building_digitalized_construction_amount@token:building_lumber_mill = 2268 }
                set_variable = { global.building_digitalized_construction_speed@token:building_lumber_mill = 63 }

                set_variable = { global.building_digitalized_upgrade_amount@token:building_lumber_mill = 90 }
                set_variable = { global.building_digitalized_upgrade_speed@token:building_lumber_mill = 15 }

                set_variable = { global.building_digitalized_input_resource_1@token:building_lumber_mill = token:resource_industrial_goods }
                set_variable = { global.building_digitalized_input_amount_1@token:building_lumber_mill = 65.0 }

                set_variable = { global.building_digitalized_input_resource_2@token:building_lumber_mill = token:resource_energy_materials }
                set_variable = { global.building_digitalized_input_amount_2@token:building_lumber_mill = 60.0 }

                set_variable = { global.building_digitalized_input_resource_3@token:building_lumber_mill = token:resource_electricity }
                set_variable = { global.building_digitalized_input_amount_3@token:building_lumber_mill = 90.0 }

                set_variable = { global.building_digitalized_peasants_employment@token:building_lumber_mill = 0.0 } #1x
                set_variable = { global.building_digitalized_laborers_employment@token:building_lumber_mill = 0.0 } #2x
                set_variable = { global.building_digitalized_workers_employment@token:building_lumber_mill = 0.0 } #5x
                set_variable = { global.building_digitalized_professionals_employment@token:building_lumber_mill = 1.9 } #10x
                set_variable = { global.building_digitalized_specialists_employment@token:building_lumber_mill = 1.5 } #20x
                set_variable = { global.building_digitalized_aristocrats_employment@token:building_lumber_mill = 0.0 } #30x
                set_variable = { global.building_digitalized_capitalists_employment@token:building_lumber_mill = 0.1 } #50x
            #
            #Automatized
                set_variable = { global.building_automatized_tech_unlock@token:building_lumber_mill = token:fully_automated_farming }

                #Productivity: $21.6 /K
                set_variable = { global.building_automatized_output_1@token:building_lumber_mill = 300 }
                set_variable = { global.building_automatized_output_2@token:building_lumber_mill = 16 }

                set_variable = { global.building_automatized_construction_amount@token:building_lumber_mill = 2628 }
                set_variable = { global.building_automatized_construction_speed@token:building_lumber_mill = 73 }

                set_variable = { global.building_automatized_upgrade_amount@token:building_lumber_mill = 120 }
                set_variable = { global.building_automatized_upgrade_speed@token:building_lumber_mill = 20 }

                set_variable = { global.building_automatized_input_resource_1@token:building_lumber_mill = token:resource_industrial_goods }
                set_variable = { global.building_automatized_input_amount_1@token:building_lumber_mill = 100.0 }

                set_variable = { global.building_automatized_input_resource_2@token:building_lumber_mill = token:resource_energy_materials }
                set_variable = { global.building_automatized_input_amount_2@token:building_lumber_mill = 60.0 }

                set_variable = { global.building_automatized_input_resource_3@token:building_lumber_mill = token:resource_electricity }
                set_variable = { global.building_automatized_input_amount_3@token:building_lumber_mill = 120.0 }

                set_variable = { global.building_automatized_peasants_employment@token:building_lumber_mill = 0.0 } #1x
                set_variable = { global.building_automatized_laborers_employment@token:building_lumber_mill = 0.0 } #2x
                set_variable = { global.building_automatized_workers_employment@token:building_lumber_mill = 0.0 } #5x
                set_variable = { global.building_automatized_professionals_employment@token:building_lumber_mill = 0.4 } #10x
                set_variable = { global.building_automatized_specialists_employment@token:building_lumber_mill = 2.0 } #20x
                set_variable = { global.building_automatized_aristocrats_employment@token:building_lumber_mill = 0.0 } #30x
                set_variable = { global.building_automatized_capitalists_employment@token:building_lumber_mill = 0.1 } #50x
            #
            #Futurized
                set_variable = { global.building_futurized_tech_unlock@token:building_lumber_mill = token:accelerated_growth_techniques }

                #Productivity: $24.5 /K
                set_variable = { global.building_futurized_output_1@token:building_lumber_mill = 354 }
                set_variable = { global.building_futurized_output_2@token:building_lumber_mill = 0 }

                set_variable = { global.building_futurized_construction_amount@token:building_lumber_mill = 2988 }
                set_variable = { global.building_futurized_construction_speed@token:building_lumber_mill = 83 }

                set_variable = { global.building_futurized_input_resource_1@token:building_lumber_mill = token:resource_industrial_goods }
                set_variable = { global.building_futurized_input_amount_1@token:building_lumber_mill = 120.0 }

                set_variable = { global.building_futurized_input_resource_2@token:building_lumber_mill = token:resource_energy_materials }
                set_variable = { global.building_futurized_input_amount_2@token:building_lumber_mill = 60.0 }

                set_variable = { global.building_futurized_input_resource_3@token:building_lumber_mill = token:resource_electricity }
                set_variable = { global.building_futurized_input_amount_3@token:building_lumber_mill = 120.0 }

                set_variable = { global.building_futurized_peasants_employment@token:building_lumber_mill = 0.0 } #1x
                set_variable = { global.building_futurized_laborers_employment@token:building_lumber_mill = 0.0 } #2x
                set_variable = { global.building_futurized_workers_employment@token:building_lumber_mill = 0.0 } #5x
                set_variable = { global.building_futurized_professionals_employment@token:building_lumber_mill = 0.0 } #10x
                set_variable = { global.building_futurized_specialists_employment@token:building_lumber_mill = 1.9 } #20x
                set_variable = { global.building_futurized_aristocrats_employment@token:building_lumber_mill = 0.0 } #30x
                set_variable = { global.building_futurized_capitalists_employment@token:building_lumber_mill = 0.1 } #50x
            #
        }
        define_metals_mine = {
            set_variable = { global.building_output_resource_1@token:building_metals_mine = token:resource_raw_materials }

            set_variable = { global.building_uses_deposits@token:building_metals_mine = 1 }
            set_variable = { global.building_industrial_capacity_use@token:building_metals_mine = 1 }

            #Basic
                set_variable = { global.building_basic_tech_unlock@token:building_metals_mine = 1 }

                set_variable = { global.building_basic_construction_amount@token:building_metals_mine = 108 }
                set_variable = { global.building_basic_construction_speed@token:building_metals_mine = 3 }

                set_variable = { global.building_basic_upgrade_amount@token:building_metals_mine = 6 }
                set_variable = { global.building_basic_upgrade_speed@token:building_metals_mine = 1 }

                #Productivity: $1.8 /K
                set_variable = { global.building_basic_output_1@token:building_metals_mine = 20 }

                set_variable = { global.building_basic_peasants_employment@token:building_metals_mine = 0.0 } #1x
                set_variable = { global.building_basic_laborers_employment@token:building_metals_mine = 9.9 } #2x
                set_variable = { global.building_basic_workers_employment@token:building_metals_mine = 0 } #5x
                set_variable = { global.building_basic_professionals_employment@token:building_metals_mine = 0 } #10x
                set_variable = { global.building_basic_specialists_employment@token:building_metals_mine = 0 } #20x
                set_variable = { global.building_basic_aristocrats_employment@token:building_metals_mine = 0.05 } #30x
                set_variable = { global.building_basic_capitalists_employment@token:building_metals_mine = 0.05 } #50x
            #
            #Advanced
                set_variable = { global.building_advanced_tech_unlock@token:building_metals_mine = token:cast_iron_industrialization }

                #Productivity: $2.25 /K
                set_variable = { global.building_advanced_output_1@token:building_metals_mine = 45 }

                set_variable = { global.building_advanced_construction_amount@token:building_metals_mine = 180 }
                set_variable = { global.building_advanced_construction_speed@token:building_metals_mine = 5 }

                set_variable = { global.building_advanced_upgrade_amount@token:building_metals_mine = 9 }
                set_variable = { global.building_advanced_upgrade_speed@token:building_metals_mine = 1.5 }

                set_variable = { global.building_advanced_input_resource_1@token:building_metals_mine = token:resource_industrial_goods }
                set_variable = { global.building_advanced_input_amount_1@token:building_metals_mine = 4.0 }

                set_variable = { global.building_advanced_peasants_employment@token:building_metals_mine = 0.0 } #1x
                set_variable = { global.building_advanced_laborers_employment@token:building_metals_mine = 8.9 } #2x
                set_variable = { global.building_advanced_workers_employment@token:building_metals_mine = 0 } #5x
                set_variable = { global.building_advanced_professionals_employment@token:building_metals_mine = 0 } #10x
                set_variable = { global.building_advanced_specialists_employment@token:building_metals_mine = 0 } #20x
                set_variable = { global.building_advanced_aristocrats_employment@token:building_metals_mine = 0.05 } #30x
                set_variable = { global.building_advanced_capitalists_employment@token:building_metals_mine = 0.05 } #50x
            #
            #Industrialized
                set_variable = { global.building_industrialized_tech_unlock@token:building_metals_mine = token:wrought_iron_industrialization }

                #Productivity: $2.89 /K
                set_variable = { global.building_industrialized_output_1@token:building_metals_mine = 66 }

                set_variable = { global.building_industrialized_construction_amount@token:building_metals_mine = 324 }
                set_variable = { global.building_industrialized_construction_speed@token:building_metals_mine = 9 }

                set_variable = { global.building_industrialized_upgrade_amount@token:building_metals_mine = 12 }
                set_variable = { global.building_industrialized_upgrade_speed@token:building_metals_mine = 2 }

                set_variable = { global.building_industrialized_input_resource_1@token:building_metals_mine = token:resource_industrial_goods }
                set_variable = { global.building_industrialized_input_amount_1@token:building_metals_mine = 10.0 }

                set_variable = { global.building_industrialized_peasants_employment@token:building_metals_mine = 0.0 } #1x
                set_variable = { global.building_industrialized_laborers_employment@token:building_metals_mine = 6.4 } #2x
                set_variable = { global.building_industrialized_workers_employment@token:building_metals_mine = 2.5 } #5x
                set_variable = { global.building_industrialized_professionals_employment@token:building_metals_mine = 0 } #10x
                set_variable = { global.building_industrialized_specialists_employment@token:building_metals_mine = 0 } #20x
                set_variable = { global.building_industrialized_aristocrats_employment@token:building_metals_mine = 0 } #30x
                set_variable = { global.building_industrialized_capitalists_employment@token:building_metals_mine = 0.1 } #50x
            #
            #Mechanized
                set_variable = { global.building_mechanized_tech_unlock@token:building_metals_mine = token:mechanized_mining }

                #Productivity: $3.6 /K
                set_variable = { global.building_mechanized_output_1@token:building_metals_mine = 96 }

                set_variable = { global.building_mechanized_construction_amount@token:building_metals_mine = 396 }
                set_variable = { global.building_mechanized_construction_speed@token:building_metals_mine = 11 }

                set_variable = { global.building_mechanized_upgrade_amount@token:building_metals_mine = 15 }
                set_variable = { global.building_mechanized_upgrade_speed@token:building_metals_mine = 2.5 }

                set_variable = { global.building_mechanized_input_resource_1@token:building_metals_mine = token:resource_industrial_goods }
                set_variable = { global.building_mechanized_input_amount_1@token:building_metals_mine = 18.0 }

                set_variable = { global.building_mechanized_input_resource_2@token:building_metals_mine = token:resource_energy_materials }
                set_variable = { global.building_mechanized_input_amount_2@token:building_metals_mine = 6.0 }

                set_variable = { global.building_mechanized_peasants_employment@token:building_metals_mine = 0.0 } #1x
                set_variable = { global.building_mechanized_laborers_employment@token:building_metals_mine = 3.9 } #2x
                set_variable = { global.building_mechanized_workers_employment@token:building_metals_mine = 3.5 } #5x
                set_variable = { global.building_mechanized_professionals_employment@token:building_metals_mine = 0 } #10x
                set_variable = { global.building_mechanized_specialists_employment@token:building_metals_mine = 0 } #20x
                set_variable = { global.building_mechanized_aristocrats_employment@token:building_metals_mine = 0.0 } #30x
                set_variable = { global.building_mechanized_capitalists_employment@token:building_metals_mine = 0.1 } #50x
            #
            #Electrified
                set_variable = { global.building_electrified_tech_unlock@token:building_metals_mine = token:mining_rig_4 }

                #Productivity: $5.0 /K
                set_variable = { global.building_electrified_output_1@token:building_metals_mine = 122 }

                set_variable = { global.building_electrified_construction_amount@token:building_metals_mine = 540 }
                set_variable = { global.building_electrified_construction_speed@token:building_metals_mine = 15 }

                set_variable = { global.building_electrified_upgrade_amount@token:building_metals_mine = 18 }
                set_variable = { global.building_electrified_upgrade_speed@token:building_metals_mine = 3 }

                set_variable = { global.building_electrified_input_resource_1@token:building_metals_mine = token:resource_industrial_goods }
                set_variable = { global.building_electrified_input_amount_1@token:building_metals_mine = 25.0 }

                set_variable = { global.building_electrified_input_resource_2@token:building_metals_mine = token:resource_energy_materials }
                set_variable = { global.building_electrified_input_amount_2@token:building_metals_mine = 17.0 }

                set_variable = { global.building_electrified_peasants_employment@token:building_metals_mine = 0.0 } #1x
                set_variable = { global.building_electrified_laborers_employment@token:building_metals_mine = 1.4 } #2x
                set_variable = { global.building_electrified_workers_employment@token:building_metals_mine = 4.5 } #5x
                set_variable = { global.building_electrified_professionals_employment@token:building_metals_mine = 0.5 } #10x
                set_variable = { global.building_electrified_specialists_employment@token:building_metals_mine = 0 } #20x
                set_variable = { global.building_electrified_aristocrats_employment@token:building_metals_mine = 0.0 } #30x
                set_variable = { global.building_electrified_capitalists_employment@token:building_metals_mine = 0.1 } #50x
            #
            #Motorized
                set_variable = { global.building_motorized_tech_unlock@token:building_metals_mine = token:mining_rig_7 }

                #Productivity: $6.42 /K
                set_variable = { global.building_motorized_output_1@token:building_metals_mine = 140 }

                set_variable = { global.building_motorized_construction_amount@token:building_metals_mine = 648 }
                set_variable = { global.building_motorized_construction_speed@token:building_metals_mine = 18 }

                set_variable = { global.building_motorized_upgrade_amount@token:building_metals_mine = 24 }
                set_variable = { global.building_motorized_upgrade_speed@token:building_metals_mine = 4 }

                set_variable = { global.building_motorized_input_resource_1@token:building_metals_mine = token:resource_industrial_goods }
                set_variable = { global.building_motorized_input_amount_1@token:building_metals_mine = 28.0 }

                set_variable = { global.building_motorized_input_resource_2@token:building_metals_mine = token:resource_energy_materials }
                set_variable = { global.building_motorized_input_amount_2@token:building_metals_mine = 30.0 }

                set_variable = { global.building_motorized_peasants_employment@token:building_metals_mine = 0.0 } #1x
                set_variable = { global.building_motorized_laborers_employment@token:building_metals_mine = 0.0 } #2x
                set_variable = { global.building_motorized_workers_employment@token:building_metals_mine = 3.9 } #5x
                set_variable = { global.building_motorized_professionals_employment@token:building_metals_mine = 2.0 } #10x
                set_variable = { global.building_motorized_specialists_employment@token:building_metals_mine = 0 } #20x
                set_variable = { global.building_motorized_aristocrats_employment@token:building_metals_mine = 0.0 } #30x
                set_variable = { global.building_motorized_capitalists_employment@token:building_metals_mine = 0.1 } #50x
            #
            #Modernized
                set_variable = { global.building_modernized_tech_unlock@token:building_metals_mine = token:mining_rig_11 }

                #Productivity: $9.0 /K
                set_variable = { global.building_modernized_output_1@token:building_metals_mine = 151 }

                set_variable = { global.building_modernized_construction_amount@token:building_metals_mine = 828 }
                set_variable = { global.building_modernized_construction_speed@token:building_metals_mine = 23 }

                set_variable = { global.building_modernized_upgrade_amount@token:building_metals_mine = 36 }
                set_variable = { global.building_modernized_upgrade_speed@token:building_metals_mine = 6 }

                set_variable = { global.building_modernized_input_resource_1@token:building_metals_mine = token:resource_industrial_goods }
                set_variable = { global.building_modernized_input_amount_1@token:building_metals_mine = 33.0 }

                set_variable = { global.building_modernized_input_resource_2@token:building_metals_mine = token:resource_energy_materials }
                set_variable = { global.building_modernized_input_amount_2@token:building_metals_mine = 35.0 }

                set_variable = { global.building_modernized_input_resource_3@token:building_metals_mine = token:resource_electricity }
                set_variable = { global.building_modernized_input_amount_3@token:building_metals_mine = 10.0 }

                set_variable = { global.building_modernized_peasants_employment@token:building_metals_mine = 0.0 } #1x
                set_variable = { global.building_modernized_laborers_employment@token:building_metals_mine = 0.0 } #2x
                set_variable = { global.building_modernized_workers_employment@token:building_metals_mine = 2.4 } #5x
                set_variable = { global.building_modernized_professionals_employment@token:building_metals_mine = 2.5 } #10x
                set_variable = { global.building_modernized_specialists_employment@token:building_metals_mine = 0 } #20x
                set_variable = { global.building_modernized_aristocrats_employment@token:building_metals_mine = 0.0 } #30x
                set_variable = { global.building_modernized_capitalists_employment@token:building_metals_mine = 0.1 } #50x
            #
            #Roboticized
                set_variable = { global.building_roboticized_tech_unlock@token:building_metals_mine = token:mining_rig_13 }

                #Productivity: $11.8 /K
                set_variable = { global.building_roboticized_output_1@token:building_metals_mine = 167 }

                set_variable = { global.building_roboticized_construction_amount@token:building_metals_mine = 1116 }
                set_variable = { global.building_roboticized_construction_speed@token:building_metals_mine = 31 }

                set_variable = { global.building_roboticized_upgrade_amount@token:building_metals_mine = 48 }
                set_variable = { global.building_roboticized_upgrade_speed@token:building_metals_mine = 8 }

                set_variable = { global.building_roboticized_input_resource_1@token:building_metals_mine = token:resource_industrial_goods }
                set_variable = { global.building_roboticized_input_amount_1@token:building_metals_mine = 37.0 }

                set_variable = { global.building_roboticized_input_resource_2@token:building_metals_mine = token:resource_energy_materials }
                set_variable = { global.building_roboticized_input_amount_2@token:building_metals_mine = 40.0 }

                set_variable = { global.building_roboticized_input_resource_3@token:building_metals_mine = token:resource_electricity }
                set_variable = { global.building_roboticized_input_amount_3@token:building_metals_mine = 20.0 }

                set_variable = { global.building_roboticized_peasants_employment@token:building_metals_mine = 0.0 } #1x
                set_variable = { global.building_roboticized_laborers_employment@token:building_metals_mine = 0.0 } #2x
                set_variable = { global.building_roboticized_workers_employment@token:building_metals_mine = 0.9 } #5x
                set_variable = { global.building_roboticized_professionals_employment@token:building_metals_mine = 3.0 } #10x
                set_variable = { global.building_roboticized_specialists_employment@token:building_metals_mine = 0.5 } #20x
                set_variable = { global.building_roboticized_aristocrats_employment@token:building_metals_mine = 0.0 } #30x
                set_variable = { global.building_roboticized_capitalists_employment@token:building_metals_mine = 0.1 } #50x
            #
            #Computerized
                set_variable = { global.building_computerized_tech_unlock@token:building_metals_mine = token:mining_rig_14 }

                #Productivity: $15.14 /K
                set_variable = { global.building_computerized_output_1@token:building_metals_mine = 200 }

                set_variable = { global.building_computerized_construction_amount@token:building_metals_mine = 1440 }
                set_variable = { global.building_computerized_construction_speed@token:building_metals_mine = 40 }

                set_variable = { global.building_computerized_upgrade_amount@token:building_metals_mine = 60 }
                set_variable = { global.building_computerized_upgrade_speed@token:building_metals_mine = 10 }

                set_variable = { global.building_computerized_input_resource_1@token:building_metals_mine = token:resource_industrial_goods }
                set_variable = { global.building_computerized_input_amount_1@token:building_metals_mine = 45.0 }

                set_variable = { global.building_computerized_input_resource_2@token:building_metals_mine = token:resource_energy_materials }
                set_variable = { global.building_computerized_input_amount_2@token:building_metals_mine = 55.0 }

                set_variable = { global.building_computerized_input_resource_3@token:building_metals_mine = token:resource_electricity }
                set_variable = { global.building_computerized_input_amount_3@token:building_metals_mine = 50.0 }

                set_variable = { global.building_computerized_peasants_employment@token:building_metals_mine = 0.0 } #1x
                set_variable = { global.building_computerized_laborers_employment@token:building_metals_mine = 0.0 } #2x
                set_variable = { global.building_computerized_workers_employment@token:building_metals_mine = 0.0 } #5x
                set_variable = { global.building_computerized_professionals_employment@token:building_metals_mine = 2.4 } #10x
                set_variable = { global.building_computerized_specialists_employment@token:building_metals_mine = 1.0 } #20x
                set_variable = { global.building_computerized_aristocrats_employment@token:building_metals_mine = 0.0 } #30x
                set_variable = { global.building_computerized_capitalists_employment@token:building_metals_mine = 0.1 } #50x
            #
            #Digitalized
                set_variable = { global.building_digitalized_tech_unlock@token:building_metals_mine = token:mining_rig_15 }

                #Productivity: $18.0 /K
                set_variable = { global.building_digitalized_output_1@token:building_metals_mine = 265 }

                set_variable = { global.building_digitalized_construction_amount@token:building_metals_mine = 2268 }
                set_variable = { global.building_digitalized_construction_speed@token:building_metals_mine = 63 }

                set_variable = { global.building_digitalized_upgrade_amount@token:building_metals_mine = 90 }
                set_variable = { global.building_digitalized_upgrade_speed@token:building_metals_mine = 15 }

                set_variable = { global.building_digitalized_input_resource_1@token:building_metals_mine = token:resource_industrial_goods }
                set_variable = { global.building_digitalized_input_amount_1@token:building_metals_mine = 65.0 }

                set_variable = { global.building_digitalized_input_resource_2@token:building_metals_mine = token:resource_energy_materials }
                set_variable = { global.building_digitalized_input_amount_2@token:building_metals_mine = 60.0 }

                set_variable = { global.building_digitalized_input_resource_3@token:building_metals_mine = token:resource_electricity }
                set_variable = { global.building_digitalized_input_amount_3@token:building_metals_mine = 90.0 }

                set_variable = { global.building_digitalized_peasants_employment@token:building_metals_mine = 0.0 } #1x
                set_variable = { global.building_digitalized_laborers_employment@token:building_metals_mine = 0.0 } #2x
                set_variable = { global.building_digitalized_workers_employment@token:building_metals_mine = 0.0 } #5x
                set_variable = { global.building_digitalized_professionals_employment@token:building_metals_mine = 1.9 } #10x
                set_variable = { global.building_digitalized_specialists_employment@token:building_metals_mine = 1.5 } #20x
                set_variable = { global.building_digitalized_aristocrats_employment@token:building_metals_mine = 0.0 } #30x
                set_variable = { global.building_digitalized_capitalists_employment@token:building_metals_mine = 0.1 } #50x
            #
            #Automatized
                set_variable = { global.building_automatized_tech_unlock@token:building_metals_mine = token:mining_rig_17 }

                #Productivity: $21.6 /K
                set_variable = { global.building_automatized_output_1@token:building_metals_mine = 316 }

                set_variable = { global.building_automatized_construction_amount@token:building_metals_mine = 2628 }
                set_variable = { global.building_automatized_construction_speed@token:building_metals_mine = 73 }

                set_variable = { global.building_automatized_upgrade_amount@token:building_metals_mine = 120 }
                set_variable = { global.building_automatized_upgrade_speed@token:building_metals_mine = 20 }

                set_variable = { global.building_automatized_input_resource_1@token:building_metals_mine = token:resource_industrial_goods }
                set_variable = { global.building_automatized_input_amount_1@token:building_metals_mine = 100.0 }

                set_variable = { global.building_automatized_input_resource_2@token:building_metals_mine = token:resource_energy_materials }
                set_variable = { global.building_automatized_input_amount_2@token:building_metals_mine = 60.0 }

                set_variable = { global.building_automatized_input_resource_3@token:building_metals_mine = token:resource_electricity }
                set_variable = { global.building_automatized_input_amount_3@token:building_metals_mine = 120.0 }

                set_variable = { global.building_automatized_peasants_employment@token:building_metals_mine = 0.0 } #1x
                set_variable = { global.building_automatized_laborers_employment@token:building_metals_mine = 0.0 } #2x
                set_variable = { global.building_automatized_workers_employment@token:building_metals_mine = 0.0 } #5x
                set_variable = { global.building_automatized_professionals_employment@token:building_metals_mine = 0.4 } #10x
                set_variable = { global.building_automatized_specialists_employment@token:building_metals_mine = 2.0 } #20x
                set_variable = { global.building_automatized_aristocrats_employment@token:building_metals_mine = 0.0 } #30x
                set_variable = { global.building_automatized_capitalists_employment@token:building_metals_mine = 0.1 } #50x
            #
            #Futurized
                set_variable = { global.building_futurized_tech_unlock@token:building_metals_mine = token:mining_rig_18 }

                #Productivity: $24.5 /K
                set_variable = { global.building_futurized_output_1@token:building_metals_mine = 354 }

                set_variable = { global.building_futurized_construction_amount@token:building_metals_mine = 2988 }
                set_variable = { global.building_futurized_construction_speed@token:building_metals_mine = 83 }

                set_variable = { global.building_futurized_input_resource_1@token:building_metals_mine = token:resource_industrial_goods }
                set_variable = { global.building_futurized_input_amount_1@token:building_metals_mine = 120.0 }

                set_variable = { global.building_futurized_input_resource_2@token:building_metals_mine = token:resource_energy_materials }
                set_variable = { global.building_futurized_input_amount_2@token:building_metals_mine = 60.0 }

                set_variable = { global.building_futurized_input_resource_3@token:building_metals_mine = token:resource_electricity }
                set_variable = { global.building_futurized_input_amount_3@token:building_metals_mine = 120.0 }

                set_variable = { global.building_futurized_peasants_employment@token:building_metals_mine = 0.0 } #1x
                set_variable = { global.building_futurized_laborers_employment@token:building_metals_mine = 0.0 } #2x
                set_variable = { global.building_futurized_workers_employment@token:building_metals_mine = 0.0 } #5x
                set_variable = { global.building_futurized_professionals_employment@token:building_metals_mine = 0.0 } #10x
                set_variable = { global.building_futurized_specialists_employment@token:building_metals_mine = 1.9 } #20x
                set_variable = { global.building_futurized_aristocrats_employment@token:building_metals_mine = 0.0 } #30x
                set_variable = { global.building_futurized_capitalists_employment@token:building_metals_mine = 0.1 } #50x
            #
        }
        define_coal_mine = {
            set_variable = { global.building_output_resource_1@token:building_coal_mine = token:resource_energy_materials }

            set_variable = { global.building_uses_deposits@token:building_coal_mine = 1 }
            set_variable = { global.building_industrial_capacity_use@token:building_coal_mine = 1 }

            #Basic
                set_variable = { global.building_basic_tech_unlock@token:building_coal_mine = 1 }

                set_variable = { global.building_basic_construction_amount@token:building_coal_mine = 108 }
                set_variable = { global.building_basic_construction_speed@token:building_coal_mine = 3 }

                set_variable = { global.building_basic_upgrade_amount@token:building_coal_mine = 6 }
                set_variable = { global.building_basic_upgrade_speed@token:building_coal_mine = 1 }

                #Productivity: $1.8 /K
                set_variable = { global.building_basic_output_1@token:building_coal_mine = 20 }

                set_variable = { global.building_basic_peasants_employment@token:building_coal_mine = 0.0 } #1x
                set_variable = { global.building_basic_laborers_employment@token:building_coal_mine = 9.9 } #2x
                set_variable = { global.building_basic_workers_employment@token:building_coal_mine = 0 } #5x
                set_variable = { global.building_basic_professionals_employment@token:building_coal_mine = 0 } #10x
                set_variable = { global.building_basic_specialists_employment@token:building_coal_mine = 0 } #20x
                set_variable = { global.building_basic_aristocrats_employment@token:building_coal_mine = 0.05 } #30x
                set_variable = { global.building_basic_capitalists_employment@token:building_coal_mine = 0.05 } #50x
            #
            #Advanced
                set_variable = { global.building_advanced_tech_unlock@token:building_coal_mine = token:cast_iron_industrialization }

                #Productivity: $2.25 /K
                set_variable = { global.building_advanced_output_1@token:building_coal_mine = 45 }

                set_variable = { global.building_advanced_construction_amount@token:building_coal_mine = 180 }
                set_variable = { global.building_advanced_construction_speed@token:building_coal_mine = 5 }

                set_variable = { global.building_advanced_upgrade_amount@token:building_coal_mine = 9 }
                set_variable = { global.building_advanced_upgrade_speed@token:building_coal_mine = 1.5 }

                set_variable = { global.building_advanced_input_resource_1@token:building_coal_mine = token:resource_industrial_goods }
                set_variable = { global.building_advanced_input_amount_1@token:building_coal_mine = 4.0 }

                set_variable = { global.building_advanced_peasants_employment@token:building_coal_mine = 0.0 } #1x
                set_variable = { global.building_advanced_laborers_employment@token:building_coal_mine = 8.9 } #2x
                set_variable = { global.building_advanced_workers_employment@token:building_coal_mine = 0 } #5x
                set_variable = { global.building_advanced_professionals_employment@token:building_coal_mine = 0 } #10x
                set_variable = { global.building_advanced_specialists_employment@token:building_coal_mine = 0 } #20x
                set_variable = { global.building_advanced_aristocrats_employment@token:building_coal_mine = 0.05 } #30x
                set_variable = { global.building_advanced_capitalists_employment@token:building_coal_mine = 0.05 } #50x
            #
            #Industrialized
                set_variable = { global.building_industrialized_tech_unlock@token:building_coal_mine = token:wrought_iron_industrialization }

                #Productivity: $2.89 /K
                set_variable = { global.building_industrialized_output_1@token:building_coal_mine = 66 }

                set_variable = { global.building_industrialized_construction_amount@token:building_coal_mine = 324 }
                set_variable = { global.building_industrialized_construction_speed@token:building_coal_mine = 9 }

                set_variable = { global.building_industrialized_upgrade_amount@token:building_coal_mine = 12 }
                set_variable = { global.building_industrialized_upgrade_speed@token:building_coal_mine = 2 }

                set_variable = { global.building_industrialized_input_resource_1@token:building_coal_mine = token:resource_industrial_goods }
                set_variable = { global.building_industrialized_input_amount_1@token:building_coal_mine = 10.0 }

                set_variable = { global.building_industrialized_peasants_employment@token:building_coal_mine = 0.0 } #1x
                set_variable = { global.building_industrialized_laborers_employment@token:building_coal_mine = 6.4 } #2x
                set_variable = { global.building_industrialized_workers_employment@token:building_coal_mine = 2.5 } #5x
                set_variable = { global.building_industrialized_professionals_employment@token:building_coal_mine = 0 } #10x
                set_variable = { global.building_industrialized_specialists_employment@token:building_coal_mine = 0 } #20x
                set_variable = { global.building_industrialized_aristocrats_employment@token:building_coal_mine = 0 } #30x
                set_variable = { global.building_industrialized_capitalists_employment@token:building_coal_mine = 0.1 } #50x
            #
            #Mechanized
                set_variable = { global.building_mechanized_tech_unlock@token:building_coal_mine = token:mechanized_mining }

                #Productivity: $3.6 /K
                set_variable = { global.building_mechanized_output_1@token:building_coal_mine = 96 }

                set_variable = { global.building_mechanized_construction_amount@token:building_coal_mine = 396 }
                set_variable = { global.building_mechanized_construction_speed@token:building_coal_mine = 11 }

                set_variable = { global.building_mechanized_upgrade_amount@token:building_coal_mine = 15 }
                set_variable = { global.building_mechanized_upgrade_speed@token:building_coal_mine = 2.5 }

                set_variable = { global.building_mechanized_input_resource_1@token:building_coal_mine = token:resource_industrial_goods }
                set_variable = { global.building_mechanized_input_amount_1@token:building_coal_mine = 18.0 }

                set_variable = { global.building_mechanized_input_resource_2@token:building_coal_mine = token:resource_energy_materials }
                set_variable = { global.building_mechanized_input_amount_2@token:building_coal_mine = 6.0 }

                set_variable = { global.building_mechanized_peasants_employment@token:building_coal_mine = 0.0 } #1x
                set_variable = { global.building_mechanized_laborers_employment@token:building_coal_mine = 3.9 } #2x
                set_variable = { global.building_mechanized_workers_employment@token:building_coal_mine = 3.5 } #5x
                set_variable = { global.building_mechanized_professionals_employment@token:building_coal_mine = 0 } #10x
                set_variable = { global.building_mechanized_specialists_employment@token:building_coal_mine = 0 } #20x
                set_variable = { global.building_mechanized_aristocrats_employment@token:building_coal_mine = 0.0 } #30x
                set_variable = { global.building_mechanized_capitalists_employment@token:building_coal_mine = 0.1 } #50x
            #
            #Electrified
                set_variable = { global.building_electrified_tech_unlock@token:building_coal_mine = token:mining_rig_4 }

                #Productivity: $5.0 /K
                set_variable = { global.building_electrified_output_1@token:building_coal_mine = 122 }

                set_variable = { global.building_electrified_construction_amount@token:building_coal_mine = 540 }
                set_variable = { global.building_electrified_construction_speed@token:building_coal_mine = 15 }

                set_variable = { global.building_electrified_upgrade_amount@token:building_coal_mine = 18 }
                set_variable = { global.building_electrified_upgrade_speed@token:building_coal_mine = 3 }

                set_variable = { global.building_electrified_input_resource_1@token:building_coal_mine = token:resource_industrial_goods }
                set_variable = { global.building_electrified_input_amount_1@token:building_coal_mine = 25.0 }

                set_variable = { global.building_electrified_input_resource_2@token:building_coal_mine = token:resource_energy_materials }
                set_variable = { global.building_electrified_input_amount_2@token:building_coal_mine = 17.0 }

                set_variable = { global.building_electrified_peasants_employment@token:building_coal_mine = 0.0 } #1x
                set_variable = { global.building_electrified_laborers_employment@token:building_coal_mine = 1.4 } #2x
                set_variable = { global.building_electrified_workers_employment@token:building_coal_mine = 4.5 } #5x
                set_variable = { global.building_electrified_professionals_employment@token:building_coal_mine = 0.5 } #10x
                set_variable = { global.building_electrified_specialists_employment@token:building_coal_mine = 0 } #20x
                set_variable = { global.building_electrified_aristocrats_employment@token:building_coal_mine = 0.0 } #30x
                set_variable = { global.building_electrified_capitalists_employment@token:building_coal_mine = 0.1 } #50x
            #
            #Motorized
                set_variable = { global.building_motorized_tech_unlock@token:building_coal_mine = token:mining_rig_7 }

                #Productivity: $6.42 /K
                set_variable = { global.building_motorized_output_1@token:building_coal_mine = 140 }

                set_variable = { global.building_motorized_construction_amount@token:building_coal_mine = 648 }
                set_variable = { global.building_motorized_construction_speed@token:building_coal_mine = 18 }

                set_variable = { global.building_motorized_upgrade_amount@token:building_coal_mine = 24 }
                set_variable = { global.building_motorized_upgrade_speed@token:building_coal_mine = 4 }

                set_variable = { global.building_motorized_input_resource_1@token:building_coal_mine = token:resource_industrial_goods }
                set_variable = { global.building_motorized_input_amount_1@token:building_coal_mine = 28.0 }

                set_variable = { global.building_motorized_input_resource_2@token:building_coal_mine = token:resource_energy_materials }
                set_variable = { global.building_motorized_input_amount_2@token:building_coal_mine = 30.0 }

                set_variable = { global.building_motorized_peasants_employment@token:building_coal_mine = 0.0 } #1x
                set_variable = { global.building_motorized_laborers_employment@token:building_coal_mine = 0.0 } #2x
                set_variable = { global.building_motorized_workers_employment@token:building_coal_mine = 3.9 } #5x
                set_variable = { global.building_motorized_professionals_employment@token:building_coal_mine = 2.0 } #10x
                set_variable = { global.building_motorized_specialists_employment@token:building_coal_mine = 0 } #20x
                set_variable = { global.building_motorized_aristocrats_employment@token:building_coal_mine = 0.0 } #30x
                set_variable = { global.building_motorized_capitalists_employment@token:building_coal_mine = 0.1 } #50x
            #
            #Modernized
                set_variable = { global.building_modernized_tech_unlock@token:building_coal_mine = token:mining_rig_11 }

                #Productivity: $9.0 /K
                set_variable = { global.building_modernized_output_1@token:building_coal_mine = 151 }

                set_variable = { global.building_modernized_construction_amount@token:building_coal_mine = 828 }
                set_variable = { global.building_modernized_construction_speed@token:building_coal_mine = 23 }

                set_variable = { global.building_modernized_upgrade_amount@token:building_coal_mine = 36 }
                set_variable = { global.building_modernized_upgrade_speed@token:building_coal_mine = 6 }

                set_variable = { global.building_modernized_input_resource_1@token:building_coal_mine = token:resource_industrial_goods }
                set_variable = { global.building_modernized_input_amount_1@token:building_coal_mine = 33.0 }

                set_variable = { global.building_modernized_input_resource_2@token:building_coal_mine = token:resource_energy_materials }
                set_variable = { global.building_modernized_input_amount_2@token:building_coal_mine = 35.0 }

                set_variable = { global.building_modernized_input_resource_3@token:building_coal_mine = token:resource_electricity }
                set_variable = { global.building_modernized_input_amount_3@token:building_coal_mine = 10.0 }

                set_variable = { global.building_modernized_peasants_employment@token:building_coal_mine = 0.0 } #1x
                set_variable = { global.building_modernized_laborers_employment@token:building_coal_mine = 0.0 } #2x
                set_variable = { global.building_modernized_workers_employment@token:building_coal_mine = 2.4 } #5x
                set_variable = { global.building_modernized_professionals_employment@token:building_coal_mine = 2.5 } #10x
                set_variable = { global.building_modernized_specialists_employment@token:building_coal_mine = 0 } #20x
                set_variable = { global.building_modernized_aristocrats_employment@token:building_coal_mine = 0.0 } #30x
                set_variable = { global.building_modernized_capitalists_employment@token:building_coal_mine = 0.1 } #50x
            #
            #Roboticized
                set_variable = { global.building_roboticized_tech_unlock@token:building_coal_mine = token:mining_rig_13 }

                #Productivity: $11.8 /K
                set_variable = { global.building_roboticized_output_1@token:building_coal_mine = 167 }

                set_variable = { global.building_roboticized_construction_amount@token:building_coal_mine = 1116 }
                set_variable = { global.building_roboticized_construction_speed@token:building_coal_mine = 31 }

                set_variable = { global.building_roboticized_upgrade_amount@token:building_coal_mine = 48 }
                set_variable = { global.building_roboticized_upgrade_speed@token:building_coal_mine = 8 }

                set_variable = { global.building_roboticized_input_resource_1@token:building_coal_mine = token:resource_industrial_goods }
                set_variable = { global.building_roboticized_input_amount_1@token:building_coal_mine = 37.0 }

                set_variable = { global.building_roboticized_input_resource_2@token:building_coal_mine = token:resource_energy_materials }
                set_variable = { global.building_roboticized_input_amount_2@token:building_coal_mine = 40.0 }

                set_variable = { global.building_roboticized_input_resource_3@token:building_coal_mine = token:resource_electricity }
                set_variable = { global.building_roboticized_input_amount_3@token:building_coal_mine = 20.0 }

                set_variable = { global.building_roboticized_peasants_employment@token:building_coal_mine = 0.0 } #1x
                set_variable = { global.building_roboticized_laborers_employment@token:building_coal_mine = 0.0 } #2x
                set_variable = { global.building_roboticized_workers_employment@token:building_coal_mine = 0.9 } #5x
                set_variable = { global.building_roboticized_professionals_employment@token:building_coal_mine = 3.0 } #10x
                set_variable = { global.building_roboticized_specialists_employment@token:building_coal_mine = 0.5 } #20x
                set_variable = { global.building_roboticized_aristocrats_employment@token:building_coal_mine = 0.0 } #30x
                set_variable = { global.building_roboticized_capitalists_employment@token:building_coal_mine = 0.1 } #50x
            #
            #Computerized
                set_variable = { global.building_computerized_tech_unlock@token:building_coal_mine = token:mining_rig_14 }

                #Productivity: $15.14 /K
                set_variable = { global.building_computerized_output_1@token:building_coal_mine = 200 }

                set_variable = { global.building_computerized_construction_amount@token:building_coal_mine = 1440 }
                set_variable = { global.building_computerized_construction_speed@token:building_coal_mine = 40 }

                set_variable = { global.building_computerized_upgrade_amount@token:building_coal_mine = 60 }
                set_variable = { global.building_computerized_upgrade_speed@token:building_coal_mine = 10 }

                set_variable = { global.building_computerized_input_resource_1@token:building_coal_mine = token:resource_industrial_goods }
                set_variable = { global.building_computerized_input_amount_1@token:building_coal_mine = 45.0 }

                set_variable = { global.building_computerized_input_resource_2@token:building_coal_mine = token:resource_energy_materials }
                set_variable = { global.building_computerized_input_amount_2@token:building_coal_mine = 55.0 }

                set_variable = { global.building_computerized_input_resource_3@token:building_coal_mine = token:resource_electricity }
                set_variable = { global.building_computerized_input_amount_3@token:building_coal_mine = 50.0 }

                set_variable = { global.building_computerized_peasants_employment@token:building_coal_mine = 0.0 } #1x
                set_variable = { global.building_computerized_laborers_employment@token:building_coal_mine = 0.0 } #2x
                set_variable = { global.building_computerized_workers_employment@token:building_coal_mine = 0.0 } #5x
                set_variable = { global.building_computerized_professionals_employment@token:building_coal_mine = 2.4 } #10x
                set_variable = { global.building_computerized_specialists_employment@token:building_coal_mine = 1.0 } #20x
                set_variable = { global.building_computerized_aristocrats_employment@token:building_coal_mine = 0.0 } #30x
                set_variable = { global.building_computerized_capitalists_employment@token:building_coal_mine = 0.1 } #50x
            #
            #Digitalized
                set_variable = { global.building_digitalized_tech_unlock@token:building_coal_mine = token:mining_rig_15 }

                #Productivity: $18.0 /K
                set_variable = { global.building_digitalized_output_1@token:building_coal_mine = 265 }

                set_variable = { global.building_digitalized_construction_amount@token:building_coal_mine = 2268 }
                set_variable = { global.building_digitalized_construction_speed@token:building_coal_mine = 63 }

                set_variable = { global.building_digitalized_upgrade_amount@token:building_coal_mine = 90 }
                set_variable = { global.building_digitalized_upgrade_speed@token:building_coal_mine = 15 }

                set_variable = { global.building_digitalized_input_resource_1@token:building_coal_mine = token:resource_industrial_goods }
                set_variable = { global.building_digitalized_input_amount_1@token:building_coal_mine = 65.0 }

                set_variable = { global.building_digitalized_input_resource_2@token:building_coal_mine = token:resource_energy_materials }
                set_variable = { global.building_digitalized_input_amount_2@token:building_coal_mine = 60.0 }

                set_variable = { global.building_digitalized_input_resource_3@token:building_coal_mine = token:resource_electricity }
                set_variable = { global.building_digitalized_input_amount_3@token:building_coal_mine = 90.0 }

                set_variable = { global.building_digitalized_peasants_employment@token:building_coal_mine = 0.0 } #1x
                set_variable = { global.building_digitalized_laborers_employment@token:building_coal_mine = 0.0 } #2x
                set_variable = { global.building_digitalized_workers_employment@token:building_coal_mine = 0.0 } #5x
                set_variable = { global.building_digitalized_professionals_employment@token:building_coal_mine = 1.9 } #10x
                set_variable = { global.building_digitalized_specialists_employment@token:building_coal_mine = 1.5 } #20x
                set_variable = { global.building_digitalized_aristocrats_employment@token:building_coal_mine = 0.0 } #30x
                set_variable = { global.building_digitalized_capitalists_employment@token:building_coal_mine = 0.1 } #50x
            #
            #Automatized
                set_variable = { global.building_automatized_tech_unlock@token:building_coal_mine = token:mining_rig_17 }

                #Productivity: $21.6 /K
                set_variable = { global.building_automatized_output_1@token:building_coal_mine = 316 }

                set_variable = { global.building_automatized_construction_amount@token:building_coal_mine = 2628 }
                set_variable = { global.building_automatized_construction_speed@token:building_coal_mine = 73 }

                set_variable = { global.building_automatized_upgrade_amount@token:building_coal_mine = 120 }
                set_variable = { global.building_automatized_upgrade_speed@token:building_coal_mine = 20 }

                set_variable = { global.building_automatized_input_resource_1@token:building_coal_mine = token:resource_industrial_goods }
                set_variable = { global.building_automatized_input_amount_1@token:building_coal_mine = 100.0 }

                set_variable = { global.building_automatized_input_resource_2@token:building_coal_mine = token:resource_energy_materials }
                set_variable = { global.building_automatized_input_amount_2@token:building_coal_mine = 60.0 }

                set_variable = { global.building_automatized_input_resource_3@token:building_coal_mine = token:resource_electricity }
                set_variable = { global.building_automatized_input_amount_3@token:building_coal_mine = 120.0 }

                set_variable = { global.building_automatized_peasants_employment@token:building_coal_mine = 0.0 } #1x
                set_variable = { global.building_automatized_laborers_employment@token:building_coal_mine = 0.0 } #2x
                set_variable = { global.building_automatized_workers_employment@token:building_coal_mine = 0.0 } #5x
                set_variable = { global.building_automatized_professionals_employment@token:building_coal_mine = 0.4 } #10x
                set_variable = { global.building_automatized_specialists_employment@token:building_coal_mine = 2.0 } #20x
                set_variable = { global.building_automatized_aristocrats_employment@token:building_coal_mine = 0.0 } #30x
                set_variable = { global.building_automatized_capitalists_employment@token:building_coal_mine = 0.1 } #50x
            #
            #Futurized
                set_variable = { global.building_futurized_tech_unlock@token:building_coal_mine = token:mining_rig_18 }

                #Productivity: $24.5 /K
                set_variable = { global.building_futurized_output_1@token:building_coal_mine = 354 }

                set_variable = { global.building_futurized_construction_amount@token:building_coal_mine = 2988 }
                set_variable = { global.building_futurized_construction_speed@token:building_coal_mine = 83 }

                set_variable = { global.building_futurized_input_resource_1@token:building_coal_mine = token:resource_industrial_goods }
                set_variable = { global.building_futurized_input_amount_1@token:building_coal_mine = 120.0 }

                set_variable = { global.building_futurized_input_resource_2@token:building_coal_mine = token:resource_energy_materials }
                set_variable = { global.building_futurized_input_amount_2@token:building_coal_mine = 60.0 }

                set_variable = { global.building_futurized_input_resource_3@token:building_coal_mine = token:resource_electricity }
                set_variable = { global.building_futurized_input_amount_3@token:building_coal_mine = 120.0 }

                set_variable = { global.building_futurized_peasants_employment@token:building_coal_mine = 0.0 } #1x
                set_variable = { global.building_futurized_laborers_employment@token:building_coal_mine = 0.0 } #2x
                set_variable = { global.building_futurized_workers_employment@token:building_coal_mine = 0.0 } #5x
                set_variable = { global.building_futurized_professionals_employment@token:building_coal_mine = 0.0 } #10x
                set_variable = { global.building_futurized_specialists_employment@token:building_coal_mine = 1.9 } #20x
                set_variable = { global.building_futurized_aristocrats_employment@token:building_coal_mine = 0.0 } #30x
                set_variable = { global.building_futurized_capitalists_employment@token:building_coal_mine = 0.1 } #50x
            #
        }
        define_oil_well = {
            set_variable = { global.building_output_resource_1@token:building_oil_well = token:resource_energy_materials }

            set_variable = { global.building_uses_deposits@token:building_oil_well = 1 }
            set_variable = { global.building_industrial_capacity_use@token:building_oil_well = 1 }

            #Basic
                set_variable = { global.building_basic_tech_unlock@token:building_oil_well = token:refining }

                set_variable = { global.building_basic_construction_amount@token:building_oil_well = 108 }
                set_variable = { global.building_basic_construction_speed@token:building_oil_well = 3 }

                set_variable = { global.building_basic_upgrade_amount@token:building_oil_well = 6 }
                set_variable = { global.building_basic_upgrade_speed@token:building_oil_well = 1 }

                #Productivity: $1.8 /K
                set_variable = { global.building_basic_output_1@token:building_oil_well = 30 }

                set_variable = { global.building_basic_peasants_employment@token:building_oil_well = 0.0 } #1x
                set_variable = { global.building_basic_laborers_employment@token:building_oil_well = 9.9 } #2x
                set_variable = { global.building_basic_workers_employment@token:building_oil_well = 0 } #5x
                set_variable = { global.building_basic_professionals_employment@token:building_oil_well = 0 } #10x
                set_variable = { global.building_basic_specialists_employment@token:building_oil_well = 0 } #20x
                set_variable = { global.building_basic_aristocrats_employment@token:building_oil_well = 0.05 } #30x
                set_variable = { global.building_basic_capitalists_employment@token:building_oil_well = 0.05 } #50x
            #
            #Advanced
                set_variable = { global.building_advanced_tech_unlock@token:building_oil_well = token:early_oil_refining }

                #Productivity: $2.25 /K
                set_variable = { global.building_advanced_output_1@token:building_oil_well = 45 }

                set_variable = { global.building_advanced_construction_amount@token:building_oil_well = 180 }
                set_variable = { global.building_advanced_construction_speed@token:building_oil_well = 5 }

                set_variable = { global.building_advanced_upgrade_amount@token:building_oil_well = 9 }
                set_variable = { global.building_advanced_upgrade_speed@token:building_oil_well = 1.5 }

                set_variable = { global.building_advanced_input_resource_1@token:building_oil_well = token:resource_industrial_goods }
                set_variable = { global.building_advanced_input_amount_1@token:building_oil_well = 4.0 }

                set_variable = { global.building_advanced_peasants_employment@token:building_oil_well = 0.0 } #1x
                set_variable = { global.building_advanced_laborers_employment@token:building_oil_well = 8.9 } #2x
                set_variable = { global.building_advanced_workers_employment@token:building_oil_well = 0 } #5x
                set_variable = { global.building_advanced_professionals_employment@token:building_oil_well = 0 } #10x
                set_variable = { global.building_advanced_specialists_employment@token:building_oil_well = 0 } #20x
                set_variable = { global.building_advanced_aristocrats_employment@token:building_oil_well = 0.05 } #30x
                set_variable = { global.building_advanced_capitalists_employment@token:building_oil_well = 0.05 } #50x
            #
            #Industrialized
                set_variable = { global.building_industrialized_tech_unlock@token:building_oil_well = token:oil_refinery_2 }

                #Productivity: $2.89 /K
                set_variable = { global.building_industrialized_output_1@token:building_oil_well = 66 }

                set_variable = { global.building_industrialized_construction_amount@token:building_oil_well = 324 }
                set_variable = { global.building_industrialized_construction_speed@token:building_oil_well = 9 }

                set_variable = { global.building_industrialized_upgrade_amount@token:building_oil_well = 12 }
                set_variable = { global.building_industrialized_upgrade_speed@token:building_oil_well = 2 }

                set_variable = { global.building_industrialized_input_resource_1@token:building_oil_well = token:resource_industrial_goods }
                set_variable = { global.building_industrialized_input_amount_1@token:building_oil_well = 13.0 }

                set_variable = { global.building_industrialized_peasants_employment@token:building_oil_well = 0.0 } #1x
                set_variable = { global.building_industrialized_laborers_employment@token:building_oil_well = 6.4 } #2x
                set_variable = { global.building_industrialized_workers_employment@token:building_oil_well = 2.5 } #5x
                set_variable = { global.building_industrialized_professionals_employment@token:building_oil_well = 0 } #10x
                set_variable = { global.building_industrialized_specialists_employment@token:building_oil_well = 0 } #20x
                set_variable = { global.building_industrialized_aristocrats_employment@token:building_oil_well = 0 } #30x
                set_variable = { global.building_industrialized_capitalists_employment@token:building_oil_well = 0.1 } #50x
            #
            #Mechanized
                set_variable = { global.building_mechanized_tech_unlock@token:building_oil_well = token:oil_extraction }

                #Productivity: $3.6 /K
                set_variable = { global.building_mechanized_output_1@token:building_oil_well = 96 }

                set_variable = { global.building_mechanized_construction_amount@token:building_oil_well = 396 }
                set_variable = { global.building_mechanized_construction_speed@token:building_oil_well = 11 }

                set_variable = { global.building_mechanized_upgrade_amount@token:building_oil_well = 15 }
                set_variable = { global.building_mechanized_upgrade_speed@token:building_oil_well = 2.5 }

                set_variable = { global.building_mechanized_input_resource_1@token:building_oil_well = token:resource_industrial_goods }
                set_variable = { global.building_mechanized_input_amount_1@token:building_oil_well = 21.0 }

                set_variable = { global.building_mechanized_input_resource_2@token:building_oil_well = token:resource_energy_materials }
                set_variable = { global.building_mechanized_input_amount_2@token:building_oil_well = 10.0 }

                set_variable = { global.building_mechanized_peasants_employment@token:building_oil_well = 0.0 } #1x
                set_variable = { global.building_mechanized_laborers_employment@token:building_oil_well = 3.9 } #2x
                set_variable = { global.building_mechanized_workers_employment@token:building_oil_well = 3.5 } #5x
                set_variable = { global.building_mechanized_professionals_employment@token:building_oil_well = 0 } #10x
                set_variable = { global.building_mechanized_specialists_employment@token:building_oil_well = 0 } #20x
                set_variable = { global.building_mechanized_aristocrats_employment@token:building_oil_well = 0.0 } #30x
                set_variable = { global.building_mechanized_capitalists_employment@token:building_oil_well = 0.1 } #50x
            #
            #Electrified
                set_variable = { global.building_electrified_tech_unlock@token:building_oil_well = token:oil_extraction_3 }

                #Productivity: $5.0 /K
                set_variable = { global.building_electrified_output_1@token:building_oil_well = 122 }

                set_variable = { global.building_electrified_construction_amount@token:building_oil_well = 540 }
                set_variable = { global.building_electrified_construction_speed@token:building_oil_well = 15 }

                set_variable = { global.building_electrified_upgrade_amount@token:building_oil_well = 18 }
                set_variable = { global.building_electrified_upgrade_speed@token:building_oil_well = 3 }

                set_variable = { global.building_electrified_input_resource_1@token:building_oil_well = token:resource_industrial_goods }
                set_variable = { global.building_electrified_input_amount_1@token:building_oil_well = 32.0 }

                set_variable = { global.building_electrified_input_resource_2@token:building_oil_well = token:resource_energy_materials }
                set_variable = { global.building_electrified_input_amount_2@token:building_oil_well = 15.0 }

                set_variable = { global.building_electrified_peasants_employment@token:building_oil_well = 0.0 } #1x
                set_variable = { global.building_electrified_laborers_employment@token:building_oil_well = 1.4 } #2x
                set_variable = { global.building_electrified_workers_employment@token:building_oil_well = 4.5 } #5x
                set_variable = { global.building_electrified_professionals_employment@token:building_oil_well = 0.5 } #10x
                set_variable = { global.building_electrified_specialists_employment@token:building_oil_well = 0 } #20x
                set_variable = { global.building_electrified_aristocrats_employment@token:building_oil_well = 0.0 } #30x
                set_variable = { global.building_electrified_capitalists_employment@token:building_oil_well = 0.1 } #50x
            #
            #Motorized
                set_variable = { global.building_motorized_tech_unlock@token:building_oil_well = token:oil_extraction_5 }

                #Productivity: $6.42 /K
                set_variable = { global.building_motorized_output_1@token:building_oil_well = 200 }

                set_variable = { global.building_motorized_construction_amount@token:building_oil_well = 648 }
                set_variable = { global.building_motorized_construction_speed@token:building_oil_well = 18 }

                set_variable = { global.building_motorized_upgrade_amount@token:building_oil_well = 24 }
                set_variable = { global.building_motorized_upgrade_speed@token:building_oil_well = 4 }

                set_variable = { global.building_motorized_input_resource_1@token:building_oil_well = token:resource_industrial_goods }
                set_variable = { global.building_motorized_input_amount_1@token:building_oil_well = 38.0 }

                set_variable = { global.building_motorized_input_resource_2@token:building_oil_well = token:resource_energy_materials }
                set_variable = { global.building_motorized_input_amount_2@token:building_oil_well = 21.0 }

                set_variable = { global.building_motorized_peasants_employment@token:building_oil_well = 0.0 } #1x
                set_variable = { global.building_motorized_laborers_employment@token:building_oil_well = 0.0 } #2x
                set_variable = { global.building_motorized_workers_employment@token:building_oil_well = 3.9 } #5x
                set_variable = { global.building_motorized_professionals_employment@token:building_oil_well = 2.0 } #10x
                set_variable = { global.building_motorized_specialists_employment@token:building_oil_well = 0 } #20x
                set_variable = { global.building_motorized_aristocrats_employment@token:building_oil_well = 0.0 } #30x
                set_variable = { global.building_motorized_capitalists_employment@token:building_oil_well = 0.1 } #50x
            #
            #Modernized
                set_variable = { global.building_modernized_tech_unlock@token:building_oil_well = token:mining_rig_11 }

                #Productivity: $9.0 /K
                set_variable = { global.building_modernized_output_1@token:building_oil_well = 202 }

                set_variable = { global.building_modernized_construction_amount@token:building_oil_well = 828 }
                set_variable = { global.building_modernized_construction_speed@token:building_oil_well = 23 }

                set_variable = { global.building_modernized_upgrade_amount@token:building_oil_well = 36 }
                set_variable = { global.building_modernized_upgrade_speed@token:building_oil_well = 6 }

                set_variable = { global.building_modernized_input_resource_1@token:building_oil_well = token:resource_industrial_goods }
                set_variable = { global.building_modernized_input_amount_1@token:building_oil_well = 42.0 }

                set_variable = { global.building_modernized_input_resource_2@token:building_oil_well = token:resource_energy_materials }
                set_variable = { global.building_modernized_input_amount_2@token:building_oil_well = 23.0 }

                set_variable = { global.building_modernized_input_resource_3@token:building_oil_well = token:resource_electricity }
                set_variable = { global.building_modernized_input_amount_3@token:building_oil_well = 10.0 }

                set_variable = { global.building_modernized_peasants_employment@token:building_oil_well = 0.0 } #1x
                set_variable = { global.building_modernized_laborers_employment@token:building_oil_well = 0.0 } #2x
                set_variable = { global.building_modernized_workers_employment@token:building_oil_well = 2.4 } #5x
                set_variable = { global.building_modernized_professionals_employment@token:building_oil_well = 2.5 } #10x
                set_variable = { global.building_modernized_specialists_employment@token:building_oil_well = 0 } #20x
                set_variable = { global.building_modernized_aristocrats_employment@token:building_oil_well = 0.0 } #30x
                set_variable = { global.building_modernized_capitalists_employment@token:building_oil_well = 0.1 } #50x
            #
            #Roboticized
                set_variable = { global.building_roboticized_tech_unlock@token:building_oil_well = token:low-temperature_ghydrocracking }

                #Productivity: $11.8 /K
                set_variable = { global.building_roboticized_output_1@token:building_oil_well = 247 }

                set_variable = { global.building_roboticized_construction_amount@token:building_oil_well = 1116 }
                set_variable = { global.building_roboticized_construction_speed@token:building_oil_well = 31 }

                set_variable = { global.building_roboticized_upgrade_amount@token:building_oil_well = 48 }
                set_variable = { global.building_roboticized_upgrade_speed@token:building_oil_well = 8 }

                set_variable = { global.building_roboticized_input_resource_1@token:building_oil_well = token:resource_industrial_goods }
                set_variable = { global.building_roboticized_input_amount_1@token:building_oil_well = 50.0 }

                set_variable = { global.building_roboticized_input_resource_2@token:building_oil_well = token:resource_energy_materials }
                set_variable = { global.building_roboticized_input_amount_2@token:building_oil_well = 30.0 }

                set_variable = { global.building_roboticized_input_resource_3@token:building_oil_well = token:resource_electricity }
                set_variable = { global.building_roboticized_input_amount_3@token:building_oil_well = 30.0 }

                set_variable = { global.building_roboticized_peasants_employment@token:building_oil_well = 0.0 } #1x
                set_variable = { global.building_roboticized_laborers_employment@token:building_oil_well = 0.0 } #2x
                set_variable = { global.building_roboticized_workers_employment@token:building_oil_well = 0.9 } #5x
                set_variable = { global.building_roboticized_professionals_employment@token:building_oil_well = 3.0 } #10x
                set_variable = { global.building_roboticized_specialists_employment@token:building_oil_well = 0.5 } #20x
                set_variable = { global.building_roboticized_aristocrats_employment@token:building_oil_well = 0.0 } #30x
                set_variable = { global.building_roboticized_capitalists_employment@token:building_oil_well = 0.1 } #50x
            #
            #Computerized
                set_variable = { global.building_computerized_tech_unlock@token:building_oil_well = token:modern_fracking }

                #Productivity: $15.14 /K
                set_variable = { global.building_computerized_output_1@token:building_oil_well = 283 }

                set_variable = { global.building_computerized_construction_amount@token:building_oil_well = 1440 }
                set_variable = { global.building_computerized_construction_speed@token:building_oil_well = 40 }

                set_variable = { global.building_computerized_upgrade_amount@token:building_oil_well = 60 }
                set_variable = { global.building_computerized_upgrade_speed@token:building_oil_well = 10 }

                set_variable = { global.building_computerized_input_resource_1@token:building_oil_well = token:resource_industrial_goods }
                set_variable = { global.building_computerized_input_amount_1@token:building_oil_well = 71.0 }

                set_variable = { global.building_computerized_input_resource_2@token:building_oil_well = token:resource_energy_materials }
                set_variable = { global.building_computerized_input_amount_2@token:building_oil_well = 35.0 }

                set_variable = { global.building_computerized_input_resource_3@token:building_oil_well = token:resource_electricity }
                set_variable = { global.building_computerized_input_amount_3@token:building_oil_well = 40.0 }

                set_variable = { global.building_computerized_peasants_employment@token:building_oil_well = 0.0 } #1x
                set_variable = { global.building_computerized_laborers_employment@token:building_oil_well = 0.0 } #2x
                set_variable = { global.building_computerized_workers_employment@token:building_oil_well = 0.0 } #5x
                set_variable = { global.building_computerized_professionals_employment@token:building_oil_well = 2.4 } #10x
                set_variable = { global.building_computerized_specialists_employment@token:building_oil_well = 1.0 } #20x
                set_variable = { global.building_computerized_aristocrats_employment@token:building_oil_well = 0.0 } #30x
                set_variable = { global.building_computerized_capitalists_employment@token:building_oil_well = 0.1 } #50x
            #
            #Digitalized
                set_variable = { global.building_digitalized_tech_unlock@token:building_oil_well = token:plasma-pulse_oil_extraction }

                #Productivity: $18.0 /K
                set_variable = { global.building_digitalized_output_1@token:building_oil_well = 387 }

                set_variable = { global.building_digitalized_construction_amount@token:building_oil_well = 2268 }
                set_variable = { global.building_digitalized_construction_speed@token:building_oil_well = 63 }

                set_variable = { global.building_digitalized_upgrade_amount@token:building_oil_well = 90 }
                set_variable = { global.building_digitalized_upgrade_speed@token:building_oil_well = 15 }

                set_variable = { global.building_digitalized_input_resource_1@token:building_oil_well = token:resource_industrial_goods }
                set_variable = { global.building_digitalized_input_amount_1@token:building_oil_well = 101.0 }

                set_variable = { global.building_digitalized_input_resource_2@token:building_oil_well = token:resource_energy_materials }
                set_variable = { global.building_digitalized_input_amount_2@token:building_oil_well = 50.0 }

                set_variable = { global.building_digitalized_input_resource_3@token:building_oil_well = token:resource_electricity }
                set_variable = { global.building_digitalized_input_amount_3@token:building_oil_well = 70.0 }

                set_variable = { global.building_digitalized_peasants_employment@token:building_oil_well = 0.0 } #1x
                set_variable = { global.building_digitalized_laborers_employment@token:building_oil_well = 0.0 } #2x
                set_variable = { global.building_digitalized_workers_employment@token:building_oil_well = 0.0 } #5x
                set_variable = { global.building_digitalized_professionals_employment@token:building_oil_well = 1.9 } #10x
                set_variable = { global.building_digitalized_specialists_employment@token:building_oil_well = 1.5 } #20x
                set_variable = { global.building_digitalized_aristocrats_employment@token:building_oil_well = 0.0 } #30x
                set_variable = { global.building_digitalized_capitalists_employment@token:building_oil_well = 0.1 } #50x
            #
            #Automatized
                set_variable = { global.building_automatized_tech_unlock@token:building_oil_well = token:mining_rig_17 }

                #Productivity: $21.6 /K
                set_variable = { global.building_automatized_output_1@token:building_oil_well = 435 }

                set_variable = { global.building_automatized_construction_amount@token:building_oil_well = 2628 }
                set_variable = { global.building_automatized_construction_speed@token:building_oil_well = 73 }

                set_variable = { global.building_automatized_upgrade_amount@token:building_oil_well = 120 }
                set_variable = { global.building_automatized_upgrade_speed@token:building_oil_well = 20 }

                set_variable = { global.building_automatized_input_resource_1@token:building_oil_well = token:resource_industrial_goods }
                set_variable = { global.building_automatized_input_amount_1@token:building_oil_well = 127.0 }

                set_variable = { global.building_automatized_input_resource_2@token:building_oil_well = token:resource_energy_materials }
                set_variable = { global.building_automatized_input_amount_2@token:building_oil_well = 60.0 }

                set_variable = { global.building_automatized_input_resource_3@token:building_oil_well = token:resource_electricity }
                set_variable = { global.building_automatized_input_amount_3@token:building_oil_well = 120.0 }

                set_variable = { global.building_automatized_peasants_employment@token:building_oil_well = 0.0 } #1x
                set_variable = { global.building_automatized_laborers_employment@token:building_oil_well = 0.0 } #2x
                set_variable = { global.building_automatized_workers_employment@token:building_oil_well = 0.0 } #5x
                set_variable = { global.building_automatized_professionals_employment@token:building_oil_well = 0.4 } #10x
                set_variable = { global.building_automatized_specialists_employment@token:building_oil_well = 2.0 } #20x
                set_variable = { global.building_automatized_aristocrats_employment@token:building_oil_well = 0.0 } #30x
                set_variable = { global.building_automatized_capitalists_employment@token:building_oil_well = 0.1 } #50x
            #
            #Futurized
                set_variable = { global.building_futurized_tech_unlock@token:building_oil_well = token:mining_rig_18 }

                #Productivity: $24.5 /K
                set_variable = { global.building_futurized_output_1@token:building_oil_well = 470 }

                set_variable = { global.building_futurized_construction_amount@token:building_oil_well = 2988 }
                set_variable = { global.building_futurized_construction_speed@token:building_oil_well = 83 }

                set_variable = { global.building_futurized_input_resource_1@token:building_oil_well = token:resource_industrial_goods }
                set_variable = { global.building_futurized_input_amount_1@token:building_oil_well = 131.0 }

                set_variable = { global.building_futurized_input_resource_2@token:building_oil_well = token:resource_electricity }
                set_variable = { global.building_futurized_input_amount_2@token:building_oil_well = 210.0 }

                set_variable = { global.building_futurized_peasants_employment@token:building_oil_well = 0.0 } #1x
                set_variable = { global.building_futurized_laborers_employment@token:building_oil_well = 0.0 } #2x
                set_variable = { global.building_futurized_workers_employment@token:building_oil_well = 0.0 } #5x
                set_variable = { global.building_futurized_professionals_employment@token:building_oil_well = 0.0 } #10x
                set_variable = { global.building_futurized_specialists_employment@token:building_oil_well = 1.9 } #20x
                set_variable = { global.building_futurized_aristocrats_employment@token:building_oil_well = 0.0 } #30x
                set_variable = { global.building_futurized_capitalists_employment@token:building_oil_well = 0.1 } #50x
            #
        }
        define_valuables_extractor = {
            set_variable = { global.building_output_resource_1@token:building_valuables_extractor = token:resource_valuable_materials }

            set_variable = { global.building_uses_deposits@token:building_valuables_extractor = 1 }
            set_variable = { global.building_industrial_capacity_use@token:building_valuables_extractor = 1 }

            #Basic
                set_variable = { global.building_basic_tech_unlock@token:building_valuables_extractor = 1 }

                set_variable = { global.building_basic_construction_amount@token:building_valuables_extractor = 108 }
                set_variable = { global.building_basic_construction_speed@token:building_valuables_extractor = 3 }

                set_variable = { global.building_basic_upgrade_amount@token:building_valuables_extractor = 6 }
                set_variable = { global.building_basic_upgrade_speed@token:building_valuables_extractor = 1 }

                #Productivity: $1.8 /K
                set_variable = { global.building_basic_output_1@token:building_valuables_extractor = 3 }

                set_variable = { global.building_basic_peasants_employment@token:building_valuables_extractor = 0.0 } #1x
                set_variable = { global.building_basic_laborers_employment@token:building_valuables_extractor = 4.95 } #2x
                set_variable = { global.building_basic_workers_employment@token:building_valuables_extractor = 0 } #5x
                set_variable = { global.building_basic_professionals_employment@token:building_valuables_extractor = 0 } #10x
                set_variable = { global.building_basic_specialists_employment@token:building_valuables_extractor = 0 } #20x
                set_variable = { global.building_basic_aristocrats_employment@token:building_valuables_extractor = 0.05 } #30x
                set_variable = { global.building_basic_capitalists_employment@token:building_valuables_extractor = 0.0 } #50x
            #
            #Advanced
                set_variable = { global.building_advanced_tech_unlock@token:building_valuables_extractor = token:cast_iron_industrialization }

                #Productivity: $2.25 /K
                set_variable = { global.building_advanced_output_1@token:building_valuables_extractor = 9 }

                set_variable = { global.building_advanced_construction_amount@token:building_valuables_extractor = 180 }
                set_variable = { global.building_advanced_construction_speed@token:building_valuables_extractor = 5 }

                set_variable = { global.building_advanced_upgrade_amount@token:building_valuables_extractor = 9 }
                set_variable = { global.building_advanced_upgrade_speed@token:building_valuables_extractor = 1.5 }

                set_variable = { global.building_advanced_input_resource_1@token:building_valuables_extractor = token:resource_industrial_goods }
                set_variable = { global.building_advanced_input_amount_1@token:building_valuables_extractor = 2.0 }

                set_variable = { global.building_advanced_peasants_employment@token:building_valuables_extractor = 0.0 } #1x
                set_variable = { global.building_advanced_laborers_employment@token:building_valuables_extractor = 4.45 } #2x
                set_variable = { global.building_advanced_workers_employment@token:building_valuables_extractor = 0 } #5x
                set_variable = { global.building_advanced_professionals_employment@token:building_valuables_extractor = 0 } #10x
                set_variable = { global.building_advanced_specialists_employment@token:building_valuables_extractor = 0 } #20x
                set_variable = { global.building_advanced_aristocrats_employment@token:building_valuables_extractor = 0.05 } #30x
                set_variable = { global.building_advanced_capitalists_employment@token:building_valuables_extractor = 0.0 } #50x
            #
            #Industrialized
                set_variable = { global.building_industrialized_tech_unlock@token:building_valuables_extractor = token:wrought_iron_industrialization }

                #Productivity: $2.89 /K
                set_variable = { global.building_industrialized_output_1@token:building_valuables_extractor = 12 }

                set_variable = { global.building_industrialized_construction_amount@token:building_valuables_extractor = 324 }
                set_variable = { global.building_industrialized_construction_speed@token:building_valuables_extractor = 9 }

                set_variable = { global.building_industrialized_upgrade_amount@token:building_valuables_extractor = 12 }
                set_variable = { global.building_industrialized_upgrade_speed@token:building_valuables_extractor = 2 }

                set_variable = { global.building_industrialized_input_resource_1@token:building_valuables_extractor = token:resource_industrial_goods }
                set_variable = { global.building_industrialized_input_amount_1@token:building_valuables_extractor = 6.5 }

                set_variable = { global.building_industrialized_peasants_employment@token:building_valuables_extractor = 0.0 } #1x
                set_variable = { global.building_industrialized_laborers_employment@token:building_valuables_extractor = 3.25 } #2x
                set_variable = { global.building_industrialized_workers_employment@token:building_valuables_extractor = 1.2 } #5x
                set_variable = { global.building_industrialized_professionals_employment@token:building_valuables_extractor = 0 } #10x
                set_variable = { global.building_industrialized_specialists_employment@token:building_valuables_extractor = 0 } #20x
                set_variable = { global.building_industrialized_aristocrats_employment@token:building_valuables_extractor = 0 } #30x
                set_variable = { global.building_industrialized_capitalists_employment@token:building_valuables_extractor = 0.05 } #50x
            #
            #Mechanized
                set_variable = { global.building_mechanized_tech_unlock@token:building_valuables_extractor = token:mechanized_mining }

                #Productivity: $3.6 /K
                set_variable = { global.building_mechanized_output_1@token:building_valuables_extractor = 19 }

                set_variable = { global.building_mechanized_construction_amount@token:building_valuables_extractor = 396 }
                set_variable = { global.building_mechanized_construction_speed@token:building_valuables_extractor = 11 }

                set_variable = { global.building_mechanized_upgrade_amount@token:building_valuables_extractor = 15 }
                set_variable = { global.building_mechanized_upgrade_speed@token:building_valuables_extractor = 2.5 }

                set_variable = { global.building_mechanized_input_resource_1@token:building_valuables_extractor = token:resource_industrial_goods }
                set_variable = { global.building_mechanized_input_amount_1@token:building_valuables_extractor = 10.0 }

                set_variable = { global.building_mechanized_input_resource_2@token:building_valuables_extractor = token:resource_energy_materials }
                set_variable = { global.building_mechanized_input_amount_2@token:building_valuables_extractor = 5.0 }

                set_variable = { global.building_mechanized_peasants_employment@token:building_valuables_extractor = 0.0 } #1x
                set_variable = { global.building_mechanized_laborers_employment@token:building_valuables_extractor = 1.95 } #2x
                set_variable = { global.building_mechanized_workers_employment@token:building_valuables_extractor = 1.75 } #5x
                set_variable = { global.building_mechanized_professionals_employment@token:building_valuables_extractor = 0 } #10x
                set_variable = { global.building_mechanized_specialists_employment@token:building_valuables_extractor = 0 } #20x
                set_variable = { global.building_mechanized_aristocrats_employment@token:building_valuables_extractor = 0.0 } #30x
                set_variable = { global.building_mechanized_capitalists_employment@token:building_valuables_extractor = 0.05 } #50x
            #
            #Electrified
                set_variable = { global.building_electrified_tech_unlock@token:building_valuables_extractor = token:mining_rig_4 }

                #Productivity: $5.0 /K
                set_variable = { global.building_electrified_output_1@token:building_valuables_extractor = 24 }

                set_variable = { global.building_electrified_construction_amount@token:building_valuables_extractor = 540 }
                set_variable = { global.building_electrified_construction_speed@token:building_valuables_extractor = 15 }

                set_variable = { global.building_electrified_upgrade_amount@token:building_valuables_extractor = 18 }
                set_variable = { global.building_electrified_upgrade_speed@token:building_valuables_extractor = 3 }

                set_variable = { global.building_electrified_input_resource_1@token:building_valuables_extractor = token:resource_industrial_goods }
                set_variable = { global.building_electrified_input_amount_1@token:building_valuables_extractor = 16.0 }

                set_variable = { global.building_electrified_input_resource_2@token:building_valuables_extractor = token:resource_energy_materials }
                set_variable = { global.building_electrified_input_amount_2@token:building_valuables_extractor = 7.0 }

                set_variable = { global.building_electrified_peasants_employment@token:building_valuables_extractor = 0.0 } #1x
                set_variable = { global.building_electrified_laborers_employment@token:building_valuables_extractor = 0.7 } #2x
                set_variable = { global.building_electrified_workers_employment@token:building_valuables_extractor = 2.25 } #5x
                set_variable = { global.building_electrified_professionals_employment@token:building_valuables_extractor = 0.25 } #10x
                set_variable = { global.building_electrified_specialists_employment@token:building_valuables_extractor = 0 } #20x
                set_variable = { global.building_electrified_aristocrats_employment@token:building_valuables_extractor = 0.0 } #30x
                set_variable = { global.building_electrified_capitalists_employment@token:building_valuables_extractor = 0.05 } #50x
            #
            #Motorized
                set_variable = { global.building_motorized_tech_unlock@token:building_valuables_extractor = token:mining_rig_7 }

                #Productivity: $6.42 /K
                set_variable = { global.building_motorized_output_1@token:building_valuables_extractor = 40 }

                set_variable = { global.building_motorized_construction_amount@token:building_valuables_extractor = 648 }
                set_variable = { global.building_motorized_construction_speed@token:building_valuables_extractor = 18 }

                set_variable = { global.building_motorized_upgrade_amount@token:building_valuables_extractor = 24 }
                set_variable = { global.building_motorized_upgrade_speed@token:building_valuables_extractor = 4 }

                set_variable = { global.building_motorized_input_resource_1@token:building_valuables_extractor = token:resource_industrial_goods }
                set_variable = { global.building_motorized_input_amount_1@token:building_valuables_extractor = 19.0 }

                set_variable = { global.building_motorized_input_resource_2@token:building_valuables_extractor = token:resource_energy_materials }
                set_variable = { global.building_motorized_input_amount_2@token:building_valuables_extractor = 10.0 }

                set_variable = { global.building_motorized_peasants_employment@token:building_valuables_extractor = 0.0 } #1x
                set_variable = { global.building_motorized_laborers_employment@token:building_valuables_extractor = 0.0 } #2x
                set_variable = { global.building_motorized_workers_employment@token:building_valuables_extractor = 1.95 } #5x
                set_variable = { global.building_motorized_professionals_employment@token:building_valuables_extractor = 1.25 } #10x
                set_variable = { global.building_motorized_specialists_employment@token:building_valuables_extractor = 0 } #20x
                set_variable = { global.building_motorized_aristocrats_employment@token:building_valuables_extractor = 0.0 } #30x
                set_variable = { global.building_motorized_capitalists_employment@token:building_valuables_extractor = 0.05 } #50x
            #
            #Modernized
                set_variable = { global.building_modernized_tech_unlock@token:building_valuables_extractor = token:mining_rig_11 }

                #Productivity: $9.0 /K
                set_variable = { global.building_modernized_output_1@token:building_valuables_extractor = 40 }

                set_variable = { global.building_modernized_construction_amount@token:building_valuables_extractor = 828 }
                set_variable = { global.building_modernized_construction_speed@token:building_valuables_extractor = 23 }

                set_variable = { global.building_modernized_upgrade_amount@token:building_valuables_extractor = 36 }
                set_variable = { global.building_modernized_upgrade_speed@token:building_valuables_extractor = 6 }

                set_variable = { global.building_modernized_input_resource_1@token:building_valuables_extractor = token:resource_industrial_goods }
                set_variable = { global.building_modernized_input_amount_1@token:building_valuables_extractor = 21.0 }

                set_variable = { global.building_modernized_input_resource_2@token:building_valuables_extractor = token:resource_energy_materials }
                set_variable = { global.building_modernized_input_amount_2@token:building_valuables_extractor = 12.0 }

                set_variable = { global.building_modernized_input_resource_3@token:building_valuables_extractor = token:resource_electricity }
                set_variable = { global.building_modernized_input_amount_3@token:building_valuables_extractor = 5.0 }

                set_variable = { global.building_modernized_peasants_employment@token:building_valuables_extractor = 0.0 } #1x
                set_variable = { global.building_modernized_laborers_employment@token:building_valuables_extractor = 0.0 } #2x
                set_variable = { global.building_modernized_workers_employment@token:building_valuables_extractor = 1.2 } #5x
                set_variable = { global.building_modernized_professionals_employment@token:building_valuables_extractor = 1.25 } #10x
                set_variable = { global.building_modernized_specialists_employment@token:building_valuables_extractor = 0 } #20x
                set_variable = { global.building_modernized_aristocrats_employment@token:building_valuables_extractor = 0.0 } #30x
                set_variable = { global.building_modernized_capitalists_employment@token:building_valuables_extractor = 0.05 } #50x
            #
            #Roboticized
                set_variable = { global.building_roboticized_tech_unlock@token:building_valuables_extractor = token:mining_rig_13 }

                #Productivity: $11.8 /K
                set_variable = { global.building_roboticized_output_1@token:building_valuables_extractor = 50 }

                set_variable = { global.building_roboticized_construction_amount@token:building_valuables_extractor = 1116 }
                set_variable = { global.building_roboticized_construction_speed@token:building_valuables_extractor = 31 }

                set_variable = { global.building_roboticized_upgrade_amount@token:building_valuables_extractor = 48 }
                set_variable = { global.building_roboticized_upgrade_speed@token:building_valuables_extractor = 8 }

                set_variable = { global.building_roboticized_input_resource_1@token:building_valuables_extractor = token:resource_industrial_goods }
                set_variable = { global.building_roboticized_input_amount_1@token:building_valuables_extractor = 25.0 }

                set_variable = { global.building_roboticized_input_resource_2@token:building_valuables_extractor = token:resource_energy_materials }
                set_variable = { global.building_roboticized_input_amount_2@token:building_valuables_extractor = 15.0 }

                set_variable = { global.building_roboticized_input_resource_3@token:building_valuables_extractor = token:resource_electricity }
                set_variable = { global.building_roboticized_input_amount_3@token:building_valuables_extractor = 15.0 }

                set_variable = { global.building_roboticized_peasants_employment@token:building_valuables_extractor = 0.0 } #1x
                set_variable = { global.building_roboticized_laborers_employment@token:building_valuables_extractor = 0.0 } #2x
                set_variable = { global.building_roboticized_workers_employment@token:building_valuables_extractor = 0.45 } #5x
                set_variable = { global.building_roboticized_professionals_employment@token:building_valuables_extractor = 1.5 } #10x
                set_variable = { global.building_roboticized_specialists_employment@token:building_valuables_extractor = 0.25 } #20x
                set_variable = { global.building_roboticized_aristocrats_employment@token:building_valuables_extractor = 0.0 } #30x
                set_variable = { global.building_roboticized_capitalists_employment@token:building_valuables_extractor = 0.05 } #50x
            #
            #Computerized
                set_variable = { global.building_computerized_tech_unlock@token:building_valuables_extractor = token:mining_rig_14 }

                #Productivity: $15.14 /K
                set_variable = { global.building_computerized_output_1@token:building_valuables_extractor = 56 }

                set_variable = { global.building_computerized_construction_amount@token:building_valuables_extractor = 1440 }
                set_variable = { global.building_computerized_construction_speed@token:building_valuables_extractor = 40 }

                set_variable = { global.building_computerized_upgrade_amount@token:building_valuables_extractor = 60 }
                set_variable = { global.building_computerized_upgrade_speed@token:building_valuables_extractor = 10 }

                set_variable = { global.building_computerized_input_resource_1@token:building_valuables_extractor = token:resource_industrial_goods }
                set_variable = { global.building_computerized_input_amount_1@token:building_valuables_extractor = 35.0 }

                set_variable = { global.building_computerized_input_resource_2@token:building_valuables_extractor = token:resource_energy_materials }
                set_variable = { global.building_computerized_input_amount_2@token:building_valuables_extractor = 17.0 }

                set_variable = { global.building_computerized_input_resource_3@token:building_valuables_extractor = token:resource_electricity }
                set_variable = { global.building_computerized_input_amount_3@token:building_valuables_extractor = 20.0 }

                set_variable = { global.building_computerized_peasants_employment@token:building_valuables_extractor = 0.0 } #1x
                set_variable = { global.building_computerized_laborers_employment@token:building_valuables_extractor = 0.0 } #2x
                set_variable = { global.building_computerized_workers_employment@token:building_valuables_extractor = 0.0 } #5x
                set_variable = { global.building_computerized_professionals_employment@token:building_valuables_extractor = 1.2 } #10x
                set_variable = { global.building_computerized_specialists_employment@token:building_valuables_extractor = 0.5 } #20x
                set_variable = { global.building_computerized_aristocrats_employment@token:building_valuables_extractor = 0.0 } #30x
                set_variable = { global.building_computerized_capitalists_employment@token:building_valuables_extractor = 0.05 } #50x
            #
            #Digitalized
                set_variable = { global.building_digitalized_tech_unlock@token:building_valuables_extractor = token:mining_rig_16 }

                #Productivity: $18.0 /K
                set_variable = { global.building_digitalized_output_1@token:building_valuables_extractor = 78 }

                set_variable = { global.building_digitalized_construction_amount@token:building_valuables_extractor = 2268 }
                set_variable = { global.building_digitalized_construction_speed@token:building_valuables_extractor = 63 }

                set_variable = { global.building_digitalized_upgrade_amount@token:building_valuables_extractor = 90 }
                set_variable = { global.building_digitalized_upgrade_speed@token:building_valuables_extractor = 15 }

                set_variable = { global.building_digitalized_input_resource_1@token:building_valuables_extractor = token:resource_industrial_goods }
                set_variable = { global.building_digitalized_input_amount_1@token:building_valuables_extractor = 50.0 }

                set_variable = { global.building_digitalized_input_resource_2@token:building_valuables_extractor = token:resource_energy_materials }
                set_variable = { global.building_digitalized_input_amount_2@token:building_valuables_extractor = 25.0 }

                set_variable = { global.building_digitalized_input_resource_3@token:building_valuables_extractor = token:resource_electricity }
                set_variable = { global.building_digitalized_input_amount_3@token:building_valuables_extractor = 35.0 }

                set_variable = { global.building_digitalized_peasants_employment@token:building_valuables_extractor = 0.0 } #1x
                set_variable = { global.building_digitalized_laborers_employment@token:building_valuables_extractor = 0.0 } #2x
                set_variable = { global.building_digitalized_workers_employment@token:building_valuables_extractor = 0.0 } #5x
                set_variable = { global.building_digitalized_professionals_employment@token:building_valuables_extractor = 0.95 } #10x
                set_variable = { global.building_digitalized_specialists_employment@token:building_valuables_extractor = 0.75 } #20x
                set_variable = { global.building_digitalized_aristocrats_employment@token:building_valuables_extractor = 0.0 } #30x
                set_variable = { global.building_digitalized_capitalists_employment@token:building_valuables_extractor = 0.05 } #50x
            #
            #Automatized
                set_variable = { global.building_automatized_tech_unlock@token:building_valuables_extractor = token:mining_rig_17 }

                #Productivity: $21.6 /K
                set_variable = { global.building_automatized_output_1@token:building_valuables_extractor = 87 }

                set_variable = { global.building_automatized_construction_amount@token:building_valuables_extractor = 2628 }
                set_variable = { global.building_automatized_construction_speed@token:building_valuables_extractor = 73 }

                set_variable = { global.building_automatized_upgrade_amount@token:building_valuables_extractor = 120 }
                set_variable = { global.building_automatized_upgrade_speed@token:building_valuables_extractor = 20 }

                set_variable = { global.building_automatized_input_resource_1@token:building_valuables_extractor = token:resource_industrial_goods }
                set_variable = { global.building_automatized_input_amount_1@token:building_valuables_extractor = 64.0 }

                set_variable = { global.building_automatized_input_resource_2@token:building_valuables_extractor = token:resource_energy_materials }
                set_variable = { global.building_automatized_input_amount_2@token:building_valuables_extractor = 30.0 }

                set_variable = { global.building_automatized_input_resource_3@token:building_valuables_extractor = token:resource_electricity }
                set_variable = { global.building_automatized_input_amount_3@token:building_valuables_extractor = 60.0 }

                set_variable = { global.building_automatized_peasants_employment@token:building_valuables_extractor = 0.0 } #1x
                set_variable = { global.building_automatized_laborers_employment@token:building_valuables_extractor = 0.0 } #2x
                set_variable = { global.building_automatized_workers_employment@token:building_valuables_extractor = 0.0 } #5x
                set_variable = { global.building_automatized_professionals_employment@token:building_valuables_extractor = 0.2 } #10x
                set_variable = { global.building_automatized_specialists_employment@token:building_valuables_extractor = 1.0 } #20x
                set_variable = { global.building_automatized_aristocrats_employment@token:building_valuables_extractor = 0.0 } #30x
                set_variable = { global.building_automatized_capitalists_employment@token:building_valuables_extractor = 0.05 } #50x
            #
            #Futurized
                set_variable = { global.building_futurized_tech_unlock@token:building_valuables_extractor = token:mining_rig_18 }

                #Productivity: $24.5 /K
                set_variable = { global.building_futurized_output_1@token:building_valuables_extractor = 94 }

                set_variable = { global.building_futurized_construction_amount@token:building_valuables_extractor = 2988 }
                set_variable = { global.building_futurized_construction_speed@token:building_valuables_extractor = 83 }

                set_variable = { global.building_futurized_input_resource_1@token:building_valuables_extractor = token:resource_industrial_goods }
                set_variable = { global.building_futurized_input_amount_1@token:building_valuables_extractor = 65.0 }

                set_variable = { global.building_futurized_input_resource_2@token:building_valuables_extractor = token:resource_electricity }
                set_variable = { global.building_futurized_input_amount_2@token:building_valuables_extractor = 105.0 }

                set_variable = { global.building_futurized_peasants_employment@token:building_valuables_extractor = 0.0 } #1x
                set_variable = { global.building_futurized_laborers_employment@token:building_valuables_extractor = 0.0 } #2x
                set_variable = { global.building_futurized_workers_employment@token:building_valuables_extractor = 0.0 } #5x
                set_variable = { global.building_futurized_professionals_employment@token:building_valuables_extractor = 0.0 } #10x
                set_variable = { global.building_futurized_specialists_employment@token:building_valuables_extractor = 0.95 } #20x
                set_variable = { global.building_futurized_aristocrats_employment@token:building_valuables_extractor = 0.0 } #30x
                set_variable = { global.building_futurized_capitalists_employment@token:building_valuables_extractor = 0.05 } #50x
            #
        }
    #

#